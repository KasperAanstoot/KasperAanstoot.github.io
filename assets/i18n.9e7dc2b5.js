import{d as ot,h as jt,e as On,i as bn,o as hn,a as Cn,c as be,w as Ze,F as Bt,g as Jt,b as An,r as Sn,s as Pn,f as yn,T as Rn,j as kn}from"./index.d4f7fe54.js";/*!
  * shared v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const ve=typeof window!="undefined",ce=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Dn=(e,t,n)=>Mn({l:e,k:t,s:n}),Mn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),X=e=>typeof e=="number"&&isFinite(e),Fn=e=>qt(e)==="[object Date]",Ue=e=>qt(e)==="[object RegExp]",xe=e=>F(e)&&Object.keys(e).length===0,K=Object.assign;let Nt;const we=()=>Nt||(Nt=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function gt(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const vn=Object.prototype.hasOwnProperty;function We(e,t){return vn.call(e,t)}const Y=Array.isArray,x=e=>typeof e=="function",A=e=>typeof e=="string",V=e=>typeof e=="boolean",U=e=>e!==null&&typeof e=="object",Un=e=>U(e)&&x(e.then)&&x(e.catch),Qt=Object.prototype.toString,qt=e=>Qt.call(e),F=e=>{if(!U(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},wn=e=>e==null?"":Y(e)||F(e)&&e.toString===Qt?JSON.stringify(e,null,2):String(e);function Wn(e,t=""){return e.reduce((n,r,s)=>s===0?n+r:n+t+r,"")}function it(e){let t=e;return()=>++t}function Vn(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const De=e=>!U(e)||Y(e);function Fe(e,t){if(De(e)||De(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(l=>{De(r[l])||De(s[l])?s[l]=r[l]:n.push({src:r[l],des:s[l]})})}}/*!
  * message-compiler v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function xn(e,t,n){return{line:e,column:t,offset:n}}function ze(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const $n=/\{([0-9a-zA-Z]+)\}/g;function Yn(e,...t){return t.length===1&&Gn(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace($n,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const Zt=Object.assign,Lt=e=>typeof e=="string",Gn=e=>e!==null&&typeof e=="object";function zt(e,t=""){return e.reduce((n,r,s)=>s===0?n+r:n+t+r,"")}const R={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Xn={[R.EXPECTED_TOKEN]:"Expected token: '{0}'",[R.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[R.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[R.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[R.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[R.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[R.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[R.EMPTY_PLACEHOLDER]:"Empty placeholder",[R.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[R.INVALID_LINKED_FORMAT]:"Invalid linked format",[R.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[R.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[R.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[R.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[R.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[R.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Te(e,t,n={}){const{domain:r,messages:s,args:l}=n,o=Yn((s||Xn)[e]||"",...l||[]),_=new SyntaxError(String(o));return _.code=e,t&&(_.location=t),_.domain=r,_}function Hn(e){throw e}const re=" ",Kn="\r",H=`
`,jn=String.fromCharCode(8232),Bn=String.fromCharCode(8233);function Jn(e){const t=e;let n=0,r=1,s=1,l=0;const o=M=>t[M]===Kn&&t[M+1]===H,_=M=>t[M]===H,u=M=>t[M]===Bn,E=M=>t[M]===jn,O=M=>o(M)||_(M)||u(M)||E(M),T=()=>n,L=()=>r,C=()=>s,y=()=>l,k=M=>o(M)||u(M)||E(M)?H:t[M],S=()=>k(n),i=()=>k(n+l);function N(){return l=0,O(n)&&(r++,s=0),o(n)&&n++,n++,s++,t[n]}function p(){return o(n+l)&&l++,l++,t[n+l]}function d(){n=0,r=1,s=1,l=0}function b(M=0){l=M}function h(){const M=n+l;for(;M!==n;)N();l=0}return{index:T,line:L,column:C,peekOffset:y,charAt:k,currentChar:S,currentPeek:i,next:N,peek:p,reset:d,resetPeek:b,skipToPeek:h}}const ue=void 0,Qn=".",Tt="'",qn="tokenizer";function Zn(e,t={}){const n=t.location!==!1,r=Jn(e),s=()=>r.index(),l=()=>xn(r.line(),r.column(),r.index()),o=l(),_=s(),u={currentType:14,offset:_,startLoc:o,endLoc:o,lastType:14,lastOffset:_,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},E=()=>u,{onError:O}=t;function T(a,c,m,...I){const D=E();if(c.column+=m,c.offset+=m,O){const v=n?ze(D.startLoc,c):null,Z=Te(a,v,{domain:qn,args:I});O(Z)}}function L(a,c,m){a.endLoc=l(),a.currentType=c;const I={type:c};return n&&(I.loc=ze(a.startLoc,a.endLoc)),m!=null&&(I.value=m),I}const C=a=>L(a,14);function y(a,c){return a.currentChar()===c?(a.next(),c):(T(R.EXPECTED_TOKEN,l(),0,c),"")}function k(a){let c="";for(;a.currentPeek()===re||a.currentPeek()===H;)c+=a.currentPeek(),a.peek();return c}function S(a){const c=k(a);return a.skipToPeek(),c}function i(a){if(a===ue)return!1;const c=a.charCodeAt(0);return c>=97&&c<=122||c>=65&&c<=90||c===95}function N(a){if(a===ue)return!1;const c=a.charCodeAt(0);return c>=48&&c<=57}function p(a,c){const{currentType:m}=c;if(m!==2)return!1;k(a);const I=i(a.currentPeek());return a.resetPeek(),I}function d(a,c){const{currentType:m}=c;if(m!==2)return!1;k(a);const I=a.currentPeek()==="-"?a.peek():a.currentPeek(),D=N(I);return a.resetPeek(),D}function b(a,c){const{currentType:m}=c;if(m!==2)return!1;k(a);const I=a.currentPeek()===Tt;return a.resetPeek(),I}function h(a,c){const{currentType:m}=c;if(m!==8)return!1;k(a);const I=a.currentPeek()===".";return a.resetPeek(),I}function M(a,c){const{currentType:m}=c;if(m!==9)return!1;k(a);const I=i(a.currentPeek());return a.resetPeek(),I}function W(a,c){const{currentType:m}=c;if(!(m===8||m===12))return!1;k(a);const I=a.currentPeek()===":";return a.resetPeek(),I}function P(a,c){const{currentType:m}=c;if(m!==10)return!1;const I=()=>{const v=a.currentPeek();return v==="{"?i(a.peek()):v==="@"||v==="%"||v==="|"||v===":"||v==="."||v===re||!v?!1:v===H?(a.peek(),I()):i(v)},D=I();return a.resetPeek(),D}function B(a){k(a);const c=a.currentPeek()==="|";return a.resetPeek(),c}function oe(a){const c=k(a),m=a.currentPeek()==="%"&&a.peek()==="{";return a.resetPeek(),{isModulo:m,hasSpace:c.length>0}}function J(a,c=!0){const m=(D=!1,v="",Z=!1)=>{const ne=a.currentPeek();return ne==="{"?v==="%"?!1:D:ne==="@"||!ne?v==="%"?!0:D:ne==="%"?(a.peek(),m(D,"%",!0)):ne==="|"?v==="%"||Z?!0:!(v===re||v===H):ne===re?(a.peek(),m(!0,re,Z)):ne===H?(a.peek(),m(!0,H,Z)):!0},I=m();return c&&a.resetPeek(),I}function _e(a,c){const m=a.currentChar();return m===ue?ue:c(m)?(a.next(),m):null}function Ae(a){return _e(a,m=>{const I=m.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===95||I===36})}function Ye(a){return _e(a,m=>{const I=m.charCodeAt(0);return I>=48&&I<=57})}function Ge(a){return _e(a,m=>{const I=m.charCodeAt(0);return I>=48&&I<=57||I>=65&&I<=70||I>=97&&I<=102})}function Se(a){let c="",m="";for(;c=Ye(a);)m+=c;return m}function Xe(a){S(a);const c=a.currentChar();return c!=="%"&&T(R.EXPECTED_TOKEN,l(),0,c),a.next(),"%"}function Pe(a){let c="";for(;;){const m=a.currentChar();if(m==="{"||m==="}"||m==="@"||m==="|"||!m)break;if(m==="%")if(J(a))c+=m,a.next();else break;else if(m===re||m===H)if(J(a))c+=m,a.next();else{if(B(a))break;c+=m,a.next()}else c+=m,a.next()}return c}function He(a){S(a);let c="",m="";for(;c=Ae(a);)m+=c;return a.currentChar()===ue&&T(R.UNTERMINATED_CLOSING_BRACE,l(),0),m}function te(a){S(a);let c="";return a.currentChar()==="-"?(a.next(),c+=`-${Se(a)}`):c+=Se(a),a.currentChar()===ue&&T(R.UNTERMINATED_CLOSING_BRACE,l(),0),c}function ye(a){S(a),y(a,"'");let c="",m="";const I=v=>v!==Tt&&v!==H;for(;c=_e(a,I);)c==="\\"?m+=Ke(a):m+=c;const D=a.currentChar();return D===H||D===ue?(T(R.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,l(),0),D===H&&(a.next(),y(a,"'")),m):(y(a,"'"),m)}function Ke(a){const c=a.currentChar();switch(c){case"\\":case"'":return a.next(),`\\${c}`;case"u":return Re(a,c,4);case"U":return Re(a,c,6);default:return T(R.UNKNOWN_ESCAPE_SEQUENCE,l(),0,c),""}}function Re(a,c,m){y(a,c);let I="";for(let D=0;D<m;D++){const v=Ge(a);if(!v){T(R.INVALID_UNICODE_ESCAPE_SEQUENCE,l(),0,`\\${c}${I}${a.currentChar()}`);break}I+=v}return`\\${c}${I}`}function je(a){S(a);let c="",m="";const I=D=>D!=="{"&&D!=="}"&&D!==re&&D!==H;for(;c=_e(a,I);)m+=c;return m}function Be(a){let c="",m="";for(;c=Ae(a);)m+=c;return m}function Et(a){const c=(m=!1,I)=>{const D=a.currentChar();return D==="{"||D==="%"||D==="@"||D==="|"||D==="("||D===")"||!D||D===re?I:D===H||D===Qn?(I+=D,a.next(),c(m,I)):(I+=D,a.next(),c(!0,I))};return c(!1,"")}function pe(a){S(a);const c=y(a,"|");return S(a),c}function Ie(a,c){let m=null;switch(a.currentChar()){case"{":return c.braceNest>=1&&T(R.NOT_ALLOW_NEST_PLACEHOLDER,l(),0),a.next(),m=L(c,2,"{"),S(a),c.braceNest++,m;case"}":return c.braceNest>0&&c.currentType===2&&T(R.EMPTY_PLACEHOLDER,l(),0),a.next(),m=L(c,3,"}"),c.braceNest--,c.braceNest>0&&S(a),c.inLinked&&c.braceNest===0&&(c.inLinked=!1),m;case"@":return c.braceNest>0&&T(R.UNTERMINATED_CLOSING_BRACE,l(),0),m=de(a,c)||C(c),c.braceNest=0,m;default:{let D=!0,v=!0,Z=!0;if(B(a))return c.braceNest>0&&T(R.UNTERMINATED_CLOSING_BRACE,l(),0),m=L(c,1,pe(a)),c.braceNest=0,c.inLinked=!1,m;if(c.braceNest>0&&(c.currentType===5||c.currentType===6||c.currentType===7))return T(R.UNTERMINATED_CLOSING_BRACE,l(),0),c.braceNest=0,Oe(a,c);if(D=p(a,c))return m=L(c,5,He(a)),S(a),m;if(v=d(a,c))return m=L(c,6,te(a)),S(a),m;if(Z=b(a,c))return m=L(c,7,ye(a)),S(a),m;if(!D&&!v&&!Z)return m=L(c,13,je(a)),T(R.INVALID_TOKEN_IN_PLACEHOLDER,l(),0,m.value),S(a),m;break}}return m}function de(a,c){const{currentType:m}=c;let I=null;const D=a.currentChar();switch((m===8||m===9||m===12||m===10)&&(D===H||D===re)&&T(R.INVALID_LINKED_FORMAT,l(),0),D){case"@":return a.next(),I=L(c,8,"@"),c.inLinked=!0,I;case".":return S(a),a.next(),L(c,9,".");case":":return S(a),a.next(),L(c,10,":");default:return B(a)?(I=L(c,1,pe(a)),c.braceNest=0,c.inLinked=!1,I):h(a,c)||W(a,c)?(S(a),de(a,c)):M(a,c)?(S(a),L(c,12,Be(a))):P(a,c)?(S(a),D==="{"?Ie(a,c)||I:L(c,11,Et(a))):(m===8&&T(R.INVALID_LINKED_FORMAT,l(),0),c.braceNest=0,c.inLinked=!1,Oe(a,c))}}function Oe(a,c){let m={type:14};if(c.braceNest>0)return Ie(a,c)||C(c);if(c.inLinked)return de(a,c)||C(c);switch(a.currentChar()){case"{":return Ie(a,c)||C(c);case"}":return T(R.UNBALANCED_CLOSING_BRACE,l(),0),a.next(),L(c,3,"}");case"@":return de(a,c)||C(c);default:{if(B(a))return m=L(c,1,pe(a)),c.braceNest=0,c.inLinked=!1,m;const{isModulo:D,hasSpace:v}=oe(a);if(D)return v?L(c,0,Pe(a)):L(c,4,Xe(a));if(J(a))return L(c,0,Pe(a));break}}return m}function Je(){const{currentType:a,offset:c,startLoc:m,endLoc:I}=u;return u.lastType=a,u.lastOffset=c,u.lastStartLoc=m,u.lastEndLoc=I,u.offset=s(),u.startLoc=l(),r.currentChar()===ue?L(u,14):Oe(r,u)}return{nextToken:Je,currentOffset:s,currentPosition:l,context:E}}const zn="parser",er=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function tr(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function nr(e={}){const t=e.location!==!1,{onError:n}=e;function r(i,N,p,d,...b){const h=i.currentPosition();if(h.offset+=d,h.column+=d,n){const M=t?ze(p,h):null,W=Te(N,M,{domain:zn,args:b});n(W)}}function s(i,N,p){const d={type:i};return t&&(d.start=N,d.end=N,d.loc={start:p,end:p}),d}function l(i,N,p,d){d&&(i.type=d),t&&(i.end=N,i.loc&&(i.loc.end=p))}function o(i,N){const p=i.context(),d=s(3,p.offset,p.startLoc);return d.value=N,l(d,i.currentOffset(),i.currentPosition()),d}function _(i,N){const p=i.context(),{lastOffset:d,lastStartLoc:b}=p,h=s(5,d,b);return h.index=parseInt(N,10),i.nextToken(),l(h,i.currentOffset(),i.currentPosition()),h}function u(i,N){const p=i.context(),{lastOffset:d,lastStartLoc:b}=p,h=s(4,d,b);return h.key=N,i.nextToken(),l(h,i.currentOffset(),i.currentPosition()),h}function E(i,N){const p=i.context(),{lastOffset:d,lastStartLoc:b}=p,h=s(9,d,b);return h.value=N.replace(er,tr),i.nextToken(),l(h,i.currentOffset(),i.currentPosition()),h}function O(i){const N=i.nextToken(),p=i.context(),{lastOffset:d,lastStartLoc:b}=p,h=s(8,d,b);return N.type!==12?(r(i,R.UNEXPECTED_EMPTY_LINKED_MODIFIER,p.lastStartLoc,0),h.value="",l(h,d,b),{nextConsumeToken:N,node:h}):(N.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,z(N)),h.value=N.value||"",l(h,i.currentOffset(),i.currentPosition()),{node:h})}function T(i,N){const p=i.context(),d=s(7,p.offset,p.startLoc);return d.value=N,l(d,i.currentOffset(),i.currentPosition()),d}function L(i){const N=i.context(),p=s(6,N.offset,N.startLoc);let d=i.nextToken();if(d.type===9){const b=O(i);p.modifier=b.node,d=b.nextConsumeToken||i.nextToken()}switch(d.type!==10&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(d)),d=i.nextToken(),d.type===2&&(d=i.nextToken()),d.type){case 11:d.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(d)),p.key=T(i,d.value||"");break;case 5:d.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(d)),p.key=u(i,d.value||"");break;case 6:d.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(d)),p.key=_(i,d.value||"");break;case 7:d.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(d)),p.key=E(i,d.value||"");break;default:{r(i,R.UNEXPECTED_EMPTY_LINKED_KEY,N.lastStartLoc,0);const b=i.context(),h=s(7,b.offset,b.startLoc);return h.value="",l(h,b.offset,b.startLoc),p.key=h,l(p,b.offset,b.startLoc),{nextConsumeToken:d,node:p}}}return l(p,i.currentOffset(),i.currentPosition()),{node:p}}function C(i){const N=i.context(),p=N.currentType===1?i.currentOffset():N.offset,d=N.currentType===1?N.endLoc:N.startLoc,b=s(2,p,d);b.items=[];let h=null;do{const P=h||i.nextToken();switch(h=null,P.type){case 0:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(o(i,P.value||""));break;case 6:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(_(i,P.value||""));break;case 5:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(u(i,P.value||""));break;case 7:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(E(i,P.value||""));break;case 8:{const B=L(i);b.items.push(B.node),h=B.nextConsumeToken||null;break}}}while(N.currentType!==14&&N.currentType!==1);const M=N.currentType===1?N.lastOffset:i.currentOffset(),W=N.currentType===1?N.lastEndLoc:i.currentPosition();return l(b,M,W),b}function y(i,N,p,d){const b=i.context();let h=d.items.length===0;const M=s(1,N,p);M.cases=[],M.cases.push(d);do{const W=C(i);h||(h=W.items.length===0),M.cases.push(W)}while(b.currentType!==14);return h&&r(i,R.MUST_HAVE_MESSAGES_IN_PLURAL,p,0),l(M,i.currentOffset(),i.currentPosition()),M}function k(i){const N=i.context(),{offset:p,startLoc:d}=N,b=C(i);return N.currentType===14?b:y(i,p,d,b)}function S(i){const N=Zn(i,Zt({},e)),p=N.context(),d=s(0,p.offset,p.startLoc);return t&&d.loc&&(d.loc.source=i),d.body=k(N),e.onCacheKey&&(d.cacheKey=e.onCacheKey(i)),p.currentType!==14&&r(N,R.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,i[p.offset]||""),l(d,N.currentOffset(),N.currentPosition()),d}return{parse:S}}function z(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function rr(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:l=>(n.helpers.add(l),l)}}function pt(e,t){for(let n=0;n<e.length;n++)ut(e[n],t)}function ut(e,t){switch(e.type){case 1:pt(e.cases,t),t.helper("plural");break;case 2:pt(e.items,t);break;case 6:{ut(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function ar(e,t={}){const n=rr(e);n.helper("normalize"),e.body&&ut(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function sr(e){const t=e.body;return t.type===2?It(t):t.cases.forEach(n=>It(n)),e}function It(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=zt(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const lr="minifier";function Ne(e){switch(e.t=e.type,e.type){case 0:{const t=e;Ne(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)Ne(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)Ne(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Ne(t.key),t.k=t.key,delete t.key,t.modifier&&(Ne(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Te(R.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:lr,args:[e.type]})}delete e.type}const cr="parser";function or(e,t){const{sourceMap:n,filename:r,breakLineCode:s,needIndent:l}=t,o=t.location!==!1,_={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:l,indentLevel:0};o&&e.loc&&(_.source=e.loc.source);const u=()=>_;function E(S,i){_.code+=S}function O(S,i=!0){const N=i?s:"";E(l?N+"  ".repeat(S):N)}function T(S=!0){const i=++_.indentLevel;S&&O(i)}function L(S=!0){const i=--_.indentLevel;S&&O(i)}function C(){O(_.indentLevel)}return{context:u,push:E,indent:T,deindent:L,newline:C,helper:S=>`_${S}`,needIndent:()=>_.needIndent}}function ir(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ge(e,t.key),t.modifier?(e.push(", "),ge(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ur(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const s=t.items.length;for(let l=0;l<s&&(ge(e,t.items[l]),l!==s-1);l++)e.push(", ");e.deindent(r()),e.push("])")}function fr(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const s=t.cases.length;for(let l=0;l<s&&(ge(e,t.cases[l]),l!==s-1);l++)e.push(", ");e.deindent(r()),e.push("])")}}function _r(e,t){t.body?ge(e,t.body):e.push("null")}function ge(e,t){const{helper:n}=e;switch(t.type){case 0:_r(e,t);break;case 1:fr(e,t);break;case 2:ur(e,t);break;case 6:ir(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Te(R.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:cr,args:[t.type]})}}const mr=(e,t={})=>{const n=Lt(t.mode)?t.mode:"normal",r=Lt(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,l=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",_=e.helpers||[],u=or(e,{mode:n,filename:r,sourceMap:s,breakLineCode:l,needIndent:o});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(o),_.length>0&&(u.push(`const { ${zt(_.map(T=>`${T}: _${T}`),", ")} } = ctx`),u.newline()),u.push("return "),ge(u,e),u.deindent(o),u.push("}"),delete e.helpers;const{code:E,map:O}=u.context();return{ast:e,code:E,map:O?O.toJSON():void 0}};function dr(e,t={}){const n=Zt({},t),r=!!n.jit,s=!!n.minify,l=n.optimize==null?!0:n.optimize,_=nr(n).parse(e);return r?(l&&sr(_),s&&Ne(_),{ast:_,code:""}):(ar(_,n),mr(_,n))}/*!
  * core-base v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Er(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(we().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(we().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const fe=[];fe[0]={w:[0],i:[3,0],["["]:[4],o:[7]};fe[1]={w:[1],["."]:[2],["["]:[4],o:[7]};fe[2]={w:[2],i:[3,0],[0]:[3,0]};fe[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};fe[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};fe[5]={["'"]:[4,0],o:8,l:[5,0]};fe[6]={['"']:[4,0],o:8,l:[6,0]};const Nr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gr(e){return Nr.test(e)}function Lr(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Tr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function pr(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:gr(t)?Lr(t):"*"+t}function Ir(e){const t=[];let n=-1,r=0,s=0,l,o,_,u,E,O,T;const L=[];L[0]=()=>{o===void 0?o=_:o+=_},L[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},L[2]=()=>{L[0](),s++},L[3]=()=>{if(s>0)s--,r=4,L[0]();else{if(s=0,o===void 0||(o=pr(o),o===!1))return!1;L[1]()}};function C(){const y=e[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,_="\\"+y,L[0](),!0}for(;r!==null;)if(n++,l=e[n],!(l==="\\"&&C())){if(u=Tr(l),T=fe[r],E=T[u]||T.l||8,E===8||(r=E[0],E[1]!==void 0&&(O=L[E[1]],O&&(_=l,O()===!1))))return;if(r===7)return t}}const Ot=new Map;function Or(e,t){return U(e)?e[t]:null}function br(e,t){if(!U(e))return null;let n=Ot.get(t);if(n||(n=Ir(t),n&&Ot.set(t,n)),!n)return null;const r=n.length;let s=e,l=0;for(;l<r;){const o=s[n[l]];if(o===void 0||x(s))return null;s=o,l++}return s}const hr=e=>e,Cr=e=>"",Ar="text",Sr=e=>e.length===0?"":Wn(e),Pr=wn;function bt(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function yr(e){const t=X(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(X(e.named.count)||X(e.named.n))?X(e.named.count)?e.named.count:X(e.named.n)?e.named.n:t:t}function Rr(e,t){t.count||(t.count=e),t.n||(t.n=e)}function kr(e={}){const t=e.locale,n=yr(e),r=U(e.pluralRules)&&A(t)&&x(e.pluralRules[t])?e.pluralRules[t]:bt,s=U(e.pluralRules)&&A(t)&&x(e.pluralRules[t])?bt:void 0,l=i=>i[r(n,i.length,s)],o=e.list||[],_=i=>o[i],u=e.named||{};X(e.pluralIndex)&&Rr(n,u);const E=i=>u[i];function O(i){const N=x(e.messages)?e.messages(i):U(e.messages)?e.messages[i]:!1;return N||(e.parent?e.parent.message(i):Cr)}const T=i=>e.modifiers?e.modifiers[i]:hr,L=F(e.processor)&&x(e.processor.normalize)?e.processor.normalize:Sr,C=F(e.processor)&&x(e.processor.interpolate)?e.processor.interpolate:Pr,y=F(e.processor)&&A(e.processor.type)?e.processor.type:Ar,S={list:_,named:E,plural:l,linked:(i,...N)=>{const[p,d]=N;let b="text",h="";N.length===1?U(p)?(h=p.modifier||h,b=p.type||b):A(p)&&(h=p||h):N.length===2&&(A(p)&&(h=p||h),A(d)&&(b=d||b));const M=O(i)(S),W=b==="vnode"&&Y(M)&&h?M[0]:M;return h?T(h)(W,b):W},message:O,type:y,interpolate:C,normalize:L,values:K({},o,u)};return S}const Dr={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8},en=R.__EXTEND_POINT__,me=it(en),ee={INVALID_ARGUMENT:en,INVALID_DATE_ARGUMENT:me(),INVALID_ISO_DATE_ARGUMENT:me(),NOT_SUPPORT_NON_STRING_MESSAGE:me(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:me(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:me(),NOT_SUPPORT_LOCALE_TYPE:me(),__EXTEND_POINT__:me()};function se(e){return Te(e,null,void 0)}function ft(e,t){return t.locale!=null?ht(t.locale):ht(e.locale)}let Qe;function ht(e){if(A(e))return e;if(x(e)){if(e.resolvedOnce&&Qe!=null)return Qe;if(e.constructor.name==="Function"){const t=e();if(Un(t))throw se(ee.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Qe=t}else throw se(ee.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw se(ee.NOT_SUPPORT_LOCALE_TYPE)}function Mr(e,t,n){return[...new Set([n,...Y(t)?t:U(t)?Object.keys(t):A(t)?[t]:[n]])]}function tn(e,t,n){const r=A(n)?n:Ve,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let l=s.__localeChainCache.get(r);if(!l){l=[];let o=[n];for(;Y(o);)o=Ct(l,o,t);const _=Y(t)||!F(t)?t:t.default?t.default:null;o=A(_)?[_]:_,Y(o)&&Ct(l,o,!1),s.__localeChainCache.set(r,l)}return l}function Ct(e,t,n){let r=!0;for(let s=0;s<t.length&&V(r);s++){const l=t[s];A(l)&&(r=Fr(e,t[s],n))}return r}function Fr(e,t,n){let r;const s=t.split("-");do{const l=s.join("-");r=vr(e,l,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function vr(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Y(n)||F(n))&&n[s]&&(r=n[s])}return r}const Ur="9.10.2",$e=-1,Ve="en-US",At="",St=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function wr(){return{upper:(e,t)=>t==="text"&&A(e)?e.toUpperCase():t==="vnode"&&U(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&A(e)?e.toLowerCase():t==="vnode"&&U(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&A(e)?St(e):t==="vnode"&&U(e)&&"__v_isVNode"in e?St(e.children):e}}let nn;function Wr(e){nn=e}let rn;function Vr(e){rn=e}let an;function xr(e){an=e}let sn=null;const Pt=e=>{sn=e},$r=()=>sn;let yt=0;function Yr(e={}){const t=x(e.onWarn)?e.onWarn:Vn,n=A(e.version)?e.version:Ur,r=A(e.locale)||x(e.locale)?e.locale:Ve,s=x(r)?Ve:r,l=Y(e.fallbackLocale)||F(e.fallbackLocale)||A(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=F(e.messages)?e.messages:{[s]:{}},_=F(e.datetimeFormats)?e.datetimeFormats:{[s]:{}},u=F(e.numberFormats)?e.numberFormats:{[s]:{}},E=K({},e.modifiers||{},wr()),O=e.pluralRules||{},T=x(e.missing)?e.missing:null,L=V(e.missingWarn)||Ue(e.missingWarn)?e.missingWarn:!0,C=V(e.fallbackWarn)||Ue(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,k=!!e.unresolving,S=x(e.postTranslation)?e.postTranslation:null,i=F(e.processor)?e.processor:null,N=V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,p=!!e.escapeParameter,d=x(e.messageCompiler)?e.messageCompiler:nn,b=x(e.messageResolver)?e.messageResolver:rn||Or,h=x(e.localeFallbacker)?e.localeFallbacker:an||Mr,M=U(e.fallbackContext)?e.fallbackContext:void 0,W=e,P=U(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,B=U(W.__numberFormatters)?W.__numberFormatters:new Map,oe=U(W.__meta)?W.__meta:{};yt++;const J={version:n,cid:yt,locale:r,fallbackLocale:l,messages:o,modifiers:E,pluralRules:O,missing:T,missingWarn:L,fallbackWarn:C,fallbackFormat:y,unresolving:k,postTranslation:S,processor:i,warnHtmlMessage:N,escapeParameter:p,messageCompiler:d,messageResolver:b,localeFallbacker:h,fallbackContext:M,onWarn:t,__meta:oe};return J.datetimeFormats=_,J.numberFormats=u,J.__datetimeFormatters=P,J.__numberFormatters=B,J}function _t(e,t,n,r,s){const{missing:l,onWarn:o}=e;if(l!==null){const _=l(e,n,t,s);return A(_)?_:t}else return t}function he(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function qe(e){return n=>Gr(n,e)}function Gr(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,s=r.c||r.cases;return e.plural(s.reduce((l,o)=>[...l,Rt(e,o)],[]))}else return Rt(e,n)}function Rt(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((s,l)=>[...s,et(e,l)],[]);return e.normalize(r)}}function et(e,t){const n=t.t||t.type;switch(n){case 3:{const r=t;return r.v||r.value}case 9:{const r=t;return r.v||r.value}case 4:{const r=t;return e.interpolate(e.named(r.k||r.key))}case 5:{const r=t;return e.interpolate(e.list(r.i!=null?r.i:r.index))}case 6:{const r=t,s=r.m||r.modifier;return e.linked(et(e,r.k||r.key),s?et(e,s):void 0,e.type)}case 7:{const r=t;return r.v||r.value}case 8:{const r=t;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const Xr=e=>e;let Me=Object.create(null);const Le=e=>U(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function Hr(e,t={}){let n=!1;const r=t.onError||Hn;return t.onError=s=>{n=!0,r(s)},{...dr(e,t),detectError:n}}function Kr(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&A(e)){V(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Xr)(e),s=Me[r];if(s)return s;const{ast:l,detectError:o}=Hr(e,{...t,location:!1,jit:!0}),_=qe(l);return o?_:Me[r]=_}else{const n=e.cacheKey;if(n){const r=Me[n];return r||(Me[n]=qe(e))}else return qe(e)}}const kt=()=>"",le=e=>x(e);function Dt(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:l,fallbackLocale:o,messages:_}=e,[u,E]=tt(...t),O=V(E.missingWarn)?E.missingWarn:e.missingWarn,T=V(E.fallbackWarn)?E.fallbackWarn:e.fallbackWarn,L=V(E.escapeParameter)?E.escapeParameter:e.escapeParameter,C=!!E.resolvedMessage,y=A(E.default)||V(E.default)?V(E.default)?l?u:()=>u:E.default:n?l?u:()=>u:"",k=n||y!=="",S=ft(e,E);L&&jr(E);let[i,N,p]=C?[u,S,_[S]||{}]:ln(e,u,S,o,T,O),d=i,b=u;if(!C&&!(A(d)||Le(d)||le(d))&&k&&(d=y,b=d),!C&&(!(A(d)||Le(d)||le(d))||!A(N)))return s?$e:u;let h=!1;const M=()=>{h=!0},W=le(d)?d:cn(e,u,N,d,b,M);if(h)return d;const P=Qr(e,N,p,E),B=kr(P),oe=Br(e,W,B);return r?r(oe,u):oe}function jr(e){Y(e.list)?e.list=e.list.map(t=>A(t)?gt(t):t):U(e.named)&&Object.keys(e.named).forEach(t=>{A(e.named[t])&&(e.named[t]=gt(e.named[t]))})}function ln(e,t,n,r,s,l){const{messages:o,onWarn:_,messageResolver:u,localeFallbacker:E}=e,O=E(e,r,n);let T={},L,C=null;const y="translate";for(let k=0;k<O.length&&(L=O[k],T=o[L]||{},(C=u(T,t))===null&&(C=T[t]),!(A(C)||Le(C)||le(C)));k++){const S=_t(e,t,L,l,y);S!==t&&(C=S)}return[C,L,T]}function cn(e,t,n,r,s,l){const{messageCompiler:o,warnHtmlMessage:_}=e;if(le(r)){const E=r;return E.locale=E.locale||n,E.key=E.key||t,E}if(o==null){const E=()=>r;return E.locale=n,E.key=t,E}const u=o(r,Jr(e,n,s,r,_,l));return u.locale=n,u.key=t,u.source=r,u}function Br(e,t,n){return t(n)}function tt(...e){const[t,n,r]=e,s={};if(!A(t)&&!X(t)&&!le(t)&&!Le(t))throw se(ee.INVALID_ARGUMENT);const l=X(t)?String(t):(le(t),t);return X(n)?s.plural=n:A(n)?s.default=n:F(n)&&!xe(n)?s.named=n:Y(n)&&(s.list=n),X(r)?s.plural=r:A(r)?s.default=r:F(r)&&K(s,r),[l,s]}function Jr(e,t,n,r,s,l){return{locale:t,key:n,warnHtmlMessage:s,onError:o=>{throw l&&l(o),o},onCacheKey:o=>Dn(t,n,o)}}function Qr(e,t,n,r){const{modifiers:s,pluralRules:l,messageResolver:o,fallbackLocale:_,fallbackWarn:u,missingWarn:E,fallbackContext:O}=e,L={locale:t,modifiers:s,pluralRules:l,messages:C=>{let y=o(n,C);if(y==null&&O){const[,,k]=ln(O,C,t,_,u,E);y=o(k,C)}if(A(y)||Le(y)){let k=!1;const i=cn(e,C,t,y,C,()=>{k=!0});return k?kt:i}else return le(y)?y:kt}};return e.processor&&(L.processor=e.processor),r.list&&(L.list=r.list),r.named&&(L.named=r.named),X(r.plural)&&(L.pluralIndex=r.plural),L}function Mt(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:l,localeFallbacker:o}=e,{__datetimeFormatters:_}=e,[u,E,O,T]=nt(...t),L=V(O.missingWarn)?O.missingWarn:e.missingWarn;V(O.fallbackWarn)?O.fallbackWarn:e.fallbackWarn;const C=!!O.part,y=ft(e,O),k=o(e,s,y);if(!A(u)||u==="")return new Intl.DateTimeFormat(y,T).format(E);let S={},i,N=null;const p="datetime format";for(let h=0;h<k.length&&(i=k[h],S=n[i]||{},N=S[u],!F(N));h++)_t(e,u,i,L,p);if(!F(N)||!A(i))return r?$e:u;let d=`${i}__${u}`;xe(T)||(d=`${d}__${JSON.stringify(T)}`);let b=_.get(d);return b||(b=new Intl.DateTimeFormat(i,K({},N,T)),_.set(d,b)),C?b.formatToParts(E):b.format(E)}const on=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function nt(...e){const[t,n,r,s]=e,l={};let o={},_;if(A(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw se(ee.INVALID_ISO_DATE_ARGUMENT);const E=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();_=new Date(E);try{_.toISOString()}catch{throw se(ee.INVALID_ISO_DATE_ARGUMENT)}}else if(Fn(t)){if(isNaN(t.getTime()))throw se(ee.INVALID_DATE_ARGUMENT);_=t}else if(X(t))_=t;else throw se(ee.INVALID_ARGUMENT);return A(n)?l.key=n:F(n)&&Object.keys(n).forEach(u=>{on.includes(u)?o[u]=n[u]:l[u]=n[u]}),A(r)?l.locale=r:F(r)&&(o=r),F(s)&&(o=s),[l.key||"",_,l,o]}function Ft(e,t,n){const r=e;for(const s in n){const l=`${t}__${s}`;!r.__datetimeFormatters.has(l)||r.__datetimeFormatters.delete(l)}}function vt(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:l,localeFallbacker:o}=e,{__numberFormatters:_}=e,[u,E,O,T]=rt(...t),L=V(O.missingWarn)?O.missingWarn:e.missingWarn;V(O.fallbackWarn)?O.fallbackWarn:e.fallbackWarn;const C=!!O.part,y=ft(e,O),k=o(e,s,y);if(!A(u)||u==="")return new Intl.NumberFormat(y,T).format(E);let S={},i,N=null;const p="number format";for(let h=0;h<k.length&&(i=k[h],S=n[i]||{},N=S[u],!F(N));h++)_t(e,u,i,L,p);if(!F(N)||!A(i))return r?$e:u;let d=`${i}__${u}`;xe(T)||(d=`${d}__${JSON.stringify(T)}`);let b=_.get(d);return b||(b=new Intl.NumberFormat(i,K({},N,T)),_.set(d,b)),C?b.formatToParts(E):b.format(E)}const un=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function rt(...e){const[t,n,r,s]=e,l={};let o={};if(!X(t))throw se(ee.INVALID_ARGUMENT);const _=t;return A(n)?l.key=n:F(n)&&Object.keys(n).forEach(u=>{un.includes(u)?o[u]=n[u]:l[u]=n[u]}),A(r)?l.locale=r:F(r)&&(o=r),F(s)&&(o=s),[l.key||"",_,l,o]}function Ut(e,t,n){const r=e;for(const s in n){const l=`${t}__${s}`;!r.__numberFormatters.has(l)||r.__numberFormatters.delete(l)}}Er();/*!
  * vue-i18n v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const qr="9.10.2";function Zr(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(we().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(we().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const fn=Dr.__EXTEND_POINT__,ae=it(fn);ae(),ae(),ae(),ae(),ae(),ae(),ae(),ae(),ae();const _n=ee.__EXTEND_POINT__,j=it(_n),Q={UNEXPECTED_RETURN_TYPE:_n,INVALID_ARGUMENT:j(),MUST_BE_CALL_SETUP_TOP:j(),NOT_INSTALLED:j(),NOT_AVAILABLE_IN_LEGACY_MODE:j(),REQUIRED_VALUE:j(),INVALID_VALUE:j(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:j(),NOT_INSTALLED_WITH_PROVIDE:j(),UNEXPECTED_ERROR:j(),NOT_COMPATIBLE_LEGACY_VUE_I18N:j(),BRIDGE_SUPPORT_VUE_2_ONLY:j(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:j(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:j(),__EXTEND_POINT__:j()};function q(e,...t){return Te(e,null,void 0)}const at=ce("__translateVNode"),st=ce("__datetimeParts"),lt=ce("__numberParts"),zr=ce("__setPluralRules");ce("__intlifyMeta");const ea=ce("__injectWithOption"),ct=ce("__dispose");function Ce(e){if(!U(e))return e;for(const t in e)if(!!We(e,t))if(!t.includes("."))U(e[t])&&Ce(e[t]);else{const n=t.split("."),r=n.length-1;let s=e,l=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]={}),!U(s[n[o]])){l=!0;break}s=s[n[o]]}l||(s[n[r]]=e[t],delete e[t]),U(s[n[r]])&&Ce(s[n[r]])}return e}function mn(e,t){const{messages:n,__i18n:r,messageResolver:s,flatJson:l}=t,o=F(n)?n:Y(r)?{}:{[e]:{}};if(Y(r)&&r.forEach(_=>{if("locale"in _&&"resource"in _){const{locale:u,resource:E}=_;u?(o[u]=o[u]||{},Fe(E,o[u])):Fe(E,o)}else A(_)&&Fe(JSON.parse(_),o)}),s==null&&l)for(const _ in o)We(o,_)&&Ce(o[_]);return o}function ta(e){return e.type}function na(e,t,n){let r=U(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=mn(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(l=>{e.mergeLocaleMessage(l,r[l])});{if(U(t.datetimeFormats)){const l=Object.keys(t.datetimeFormats);l.length&&l.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(U(t.numberFormats)){const l=Object.keys(t.numberFormats);l.length&&l.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function wt(e){return yn(Rn,null,e,0)}const Wt=()=>[],ra=()=>!1;let Vt=0;function xt(e){return(t,n,r,s)=>e(n,r,Jt()||void 0,s)}function dn(e={},t){const{__root:n,__injectWithOption:r}=e,s=n===void 0,l=e.flatJson,o=ve?Sn:Pn,_=!!e.translateExistCompatible;let u=V(e.inheritLocale)?e.inheritLocale:!0;const E=o(n&&u?n.locale.value:A(e.locale)?e.locale:Ve),O=o(n&&u?n.fallbackLocale.value:A(e.fallbackLocale)||Y(e.fallbackLocale)||F(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:E.value),T=o(mn(E.value,e)),L=o(F(e.datetimeFormats)?e.datetimeFormats:{[E.value]:{}}),C=o(F(e.numberFormats)?e.numberFormats:{[E.value]:{}});let y=n?n.missingWarn:V(e.missingWarn)||Ue(e.missingWarn)?e.missingWarn:!0,k=n?n.fallbackWarn:V(e.fallbackWarn)||Ue(e.fallbackWarn)?e.fallbackWarn:!0,S=n?n.fallbackRoot:V(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.fallbackFormat,N=x(e.missing)?e.missing:null,p=x(e.missing)?xt(e.missing):null,d=x(e.postTranslation)?e.postTranslation:null,b=n?n.warnHtmlMessage:V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,h=!!e.escapeParameter;const M=n?n.modifiers:F(e.modifiers)?e.modifiers:{};let W=e.pluralRules||n&&n.pluralRules,P;P=(()=>{s&&Pt(null);const f={version:qr,locale:E.value,fallbackLocale:O.value,messages:T.value,modifiers:M,pluralRules:W,missing:p===null?void 0:p,missingWarn:y,fallbackWarn:k,fallbackFormat:i,unresolving:!0,postTranslation:d===null?void 0:d,warnHtmlMessage:b,escapeParameter:h,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};f.datetimeFormats=L.value,f.numberFormats=C.value,f.__datetimeFormatters=F(P)?P.__datetimeFormatters:void 0,f.__numberFormatters=F(P)?P.__numberFormatters:void 0;const g=Yr(f);return s&&Pt(g),g})(),he(P,E.value,O.value);function oe(){return[E.value,O.value,T.value,L.value,C.value]}const J=be({get:()=>E.value,set:f=>{E.value=f,P.locale=E.value}}),_e=be({get:()=>O.value,set:f=>{O.value=f,P.fallbackLocale=O.value,he(P,E.value,f)}}),Ae=be(()=>T.value),Ye=be(()=>L.value),Ge=be(()=>C.value);function Se(){return x(d)?d:null}function Xe(f){d=f,P.postTranslation=f}function Pe(){return N}function He(f){f!==null&&(p=xt(f)),N=f,P.missing=p}const te=(f,g,w,$,ie,ke)=>{oe();let Ee;try{s||(P.fallbackContext=n?$r():void 0),Ee=f(P)}finally{s||(P.fallbackContext=void 0)}if(w!=="translate exists"&&X(Ee)&&Ee===$e||w==="translate exists"&&!Ee){const[In,Ca]=g();return n&&S?$(n):ie(In)}else{if(ke(Ee))return Ee;throw q(Q.UNEXPECTED_RETURN_TYPE)}};function ye(...f){return te(g=>Reflect.apply(Dt,null,[g,...f]),()=>tt(...f),"translate",g=>Reflect.apply(g.t,g,[...f]),g=>g,g=>A(g))}function Ke(...f){const[g,w,$]=f;if($&&!U($))throw q(Q.INVALID_ARGUMENT);return ye(g,w,K({resolvedMessage:!0},$||{}))}function Re(...f){return te(g=>Reflect.apply(Mt,null,[g,...f]),()=>nt(...f),"datetime format",g=>Reflect.apply(g.d,g,[...f]),()=>At,g=>A(g))}function je(...f){return te(g=>Reflect.apply(vt,null,[g,...f]),()=>rt(...f),"number format",g=>Reflect.apply(g.n,g,[...f]),()=>At,g=>A(g))}function Be(f){return f.map(g=>A(g)||X(g)||V(g)?wt(String(g)):g)}const pe={normalize:Be,interpolate:f=>f,type:"vnode"};function Ie(...f){return te(g=>{let w;const $=g;try{$.processor=pe,w=Reflect.apply(Dt,null,[$,...f])}finally{$.processor=null}return w},()=>tt(...f),"translate",g=>g[at](...f),g=>[wt(g)],g=>Y(g))}function de(...f){return te(g=>Reflect.apply(vt,null,[g,...f]),()=>rt(...f),"number format",g=>g[lt](...f),Wt,g=>A(g)||Y(g))}function Oe(...f){return te(g=>Reflect.apply(Mt,null,[g,...f]),()=>nt(...f),"datetime format",g=>g[st](...f),Wt,g=>A(g)||Y(g))}function Je(f){W=f,P.pluralRules=W}function a(f,g){return te(()=>{if(!f)return!1;const w=A(g)?g:E.value,$=I(w),ie=P.messageResolver($,f);return _?ie!=null:Le(ie)||le(ie)||A(ie)},()=>[f],"translate exists",w=>Reflect.apply(w.te,w,[f,g]),ra,w=>V(w))}function c(f){let g=null;const w=tn(P,O.value,E.value);for(let $=0;$<w.length;$++){const ie=T.value[w[$]]||{},ke=P.messageResolver(ie,f);if(ke!=null){g=ke;break}}return g}function m(f){const g=c(f);return g!=null?g:n?n.tm(f)||{}:{}}function I(f){return T.value[f]||{}}function D(f,g){if(l){const w={[f]:g};for(const $ in w)We(w,$)&&Ce(w[$]);g=w[f]}T.value[f]=g,P.messages=T.value}function v(f,g){T.value[f]=T.value[f]||{};const w={[f]:g};if(l)for(const $ in w)We(w,$)&&Ce(w[$]);g=w[f],Fe(g,T.value[f]),P.messages=T.value}function Z(f){return L.value[f]||{}}function ne(f,g){L.value[f]=g,P.datetimeFormats=L.value,Ft(P,f,g)}function gn(f,g){L.value[f]=K(L.value[f]||{},g),P.datetimeFormats=L.value,Ft(P,f,g)}function Ln(f){return C.value[f]||{}}function Tn(f,g){C.value[f]=g,P.numberFormats=C.value,Ut(P,f,g)}function pn(f,g){C.value[f]=K(C.value[f]||{},g),P.numberFormats=C.value,Ut(P,f,g)}Vt++,n&&ve&&(Ze(n.locale,f=>{u&&(E.value=f,P.locale=f,he(P,E.value,O.value))}),Ze(n.fallbackLocale,f=>{u&&(O.value=f,P.fallbackLocale=f,he(P,E.value,O.value))}));const G={id:Vt,locale:J,fallbackLocale:_e,get inheritLocale(){return u},set inheritLocale(f){u=f,f&&n&&(E.value=n.locale.value,O.value=n.fallbackLocale.value,he(P,E.value,O.value))},get availableLocales(){return Object.keys(T.value).sort()},messages:Ae,get modifiers(){return M},get pluralRules(){return W||{}},get isGlobal(){return s},get missingWarn(){return y},set missingWarn(f){y=f,P.missingWarn=y},get fallbackWarn(){return k},set fallbackWarn(f){k=f,P.fallbackWarn=k},get fallbackRoot(){return S},set fallbackRoot(f){S=f},get fallbackFormat(){return i},set fallbackFormat(f){i=f,P.fallbackFormat=i},get warnHtmlMessage(){return b},set warnHtmlMessage(f){b=f,P.warnHtmlMessage=f},get escapeParameter(){return h},set escapeParameter(f){h=f,P.escapeParameter=f},t:ye,getLocaleMessage:I,setLocaleMessage:D,mergeLocaleMessage:v,getPostTranslationHandler:Se,setPostTranslationHandler:Xe,getMissingHandler:Pe,setMissingHandler:He,[zr]:Je};return G.datetimeFormats=Ye,G.numberFormats=Ge,G.rt=Ke,G.te=a,G.tm=m,G.d=Re,G.n=je,G.getDateTimeFormat=Z,G.setDateTimeFormat=ne,G.mergeDateTimeFormat=gn,G.getNumberFormat=Ln,G.setNumberFormat=Tn,G.mergeNumberFormat=pn,G[ea]=r,G[at]=Ie,G[st]=Oe,G[lt]=de,G}const mt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function aa({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>[...r,...s.type===Bt?s.children:[s]],[]):t.reduce((n,r)=>{const s=e[r];return s&&(n[r]=s()),n},{})}function En(e){return Bt}const sa=ot({name:"i18n-t",props:K({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>X(e)||!isNaN(e)}},mt),setup(e,t){const{slots:n,attrs:r}=t,s=e.i18n||dt({useScope:e.scope,__useComponent:!0});return()=>{const l=Object.keys(n).filter(T=>T!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=A(e.plural)?+e.plural:e.plural);const _=aa(t,l),u=s[at](e.keypath,_,o),E=K({},r),O=A(e.tag)||U(e.tag)?e.tag:En();return jt(O,E,u)}}}),$t=sa;function la(e){return Y(e)&&!A(e[0])}function Nn(e,t,n,r){const{slots:s,attrs:l}=t;return()=>{const o={part:!0};let _={};e.locale&&(o.locale=e.locale),A(e.format)?o.key=e.format:U(e.format)&&(A(e.format.key)&&(o.key=e.format.key),_=Object.keys(e.format).reduce((L,C)=>n.includes(C)?K({},L,{[C]:e.format[C]}):L,{}));const u=r(e.value,o,_);let E=[o.key];Y(u)?E=u.map((L,C)=>{const y=s[L.type],k=y?y({[L.type]:L.value,index:C,parts:u}):[L.value];return la(k)&&(k[0].key=`${L.type}-${C}`),k}):A(u)&&(E=[u]);const O=K({},l),T=A(e.tag)||U(e.tag)?e.tag:En();return jt(T,O,E)}}const ca=ot({name:"i18n-n",props:K({value:{type:Number,required:!0},format:{type:[String,Object]}},mt),setup(e,t){const n=e.i18n||dt({useScope:"parent",__useComponent:!0});return Nn(e,t,un,(...r)=>n[lt](...r))}}),Yt=ca,oa=ot({name:"i18n-d",props:K({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},mt),setup(e,t){const n=e.i18n||dt({useScope:"parent",__useComponent:!0});return Nn(e,t,on,(...r)=>n[st](...r))}}),Gt=oa;function ia(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function ua(e){const t=o=>{const{instance:_,modifiers:u,value:E}=o;if(!_||!_.$)throw q(Q.UNEXPECTED_ERROR);const O=ia(e,_.$),T=Xt(E);return[Reflect.apply(O.t,O,[...Ht(T)]),O]};return{created:(o,_)=>{const[u,E]=t(_);ve&&e.global===E&&(o.__i18nWatcher=Ze(E.locale,()=>{_.instance&&_.instance.$forceUpdate()})),o.__composer=E,o.textContent=u},unmounted:o=>{ve&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:_})=>{if(o.__composer){const u=o.__composer,E=Xt(_);o.textContent=Reflect.apply(u.t,u,[...Ht(E)])}},getSSRProps:o=>{const[_]=t(o);return{textContent:_}}}}function Xt(e){if(A(e))return{path:e};if(F(e)){if(!("path"in e))throw q(Q.REQUIRED_VALUE,"path");return e}else throw q(Q.INVALID_VALUE)}function Ht(e){const{path:t,locale:n,args:r,choice:s,plural:l}=e,o={},_=r||{};return A(n)&&(o.locale=n),X(s)&&(o.plural=s),X(l)&&(o.plural=l),[t,_,o]}function fa(e,t,...n){const r=F(n[0])?n[0]:{},s=!!r.useI18nComponentName;(V(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":$t.name,"I18nT"].forEach(o=>e.component(o,$t)),[Yt.name,"I18nN"].forEach(o=>e.component(o,Yt)),[Gt.name,"I18nD"].forEach(o=>e.component(o,Gt))),e.directive("t",ua(t))}const _a=ce("global-vue-i18n");function ma(e={},t){const n=V(e.globalInjection)?e.globalInjection:!0,r=!0,s=new Map,[l,o]=da(e),_=ce("");function u(T){return s.get(T)||null}function E(T,L){s.set(T,L)}function O(T){s.delete(T)}{const T={get mode(){return"composition"},get allowComposition(){return r},async install(L,...C){if(L.__VUE_I18N_SYMBOL__=_,L.provide(L.__VUE_I18N_SYMBOL__,T),F(C[0])){const S=C[0];T.__composerExtend=S.__composerExtend,T.__vueI18nExtend=S.__vueI18nExtend}let y=null;n&&(y=Oa(L,T.global)),fa(L,T,...C);const k=L.unmount;L.unmount=()=>{y&&y(),T.dispose(),k()}},get global(){return o},dispose(){l.stop()},__instances:s,__getInstance:u,__setInstance:E,__deleteInstance:O};return T}}function dt(e={}){const t=Jt();if(t==null)throw q(Q.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw q(Q.NOT_INSTALLED);const n=Ea(t),r=ga(n),s=ta(t),l=Na(e,s);if(l==="global")return na(r,e,s),r;if(l==="parent"){let u=La(n,t,e.__useComponent);return u==null&&(u=r),u}const o=n;let _=o.__getInstance(t);if(_==null){const u=K({},e);"__i18n"in s&&(u.__i18n=s.__i18n),r&&(u.__root=r),_=dn(u),o.__composerExtend&&(_[ct]=o.__composerExtend(_)),pa(o,t,_),o.__setInstance(t,_)}return _}function da(e,t,n){const r=On();{const s=r.run(()=>dn(e));if(s==null)throw q(Q.UNEXPECTED_ERROR);return[r,s]}}function Ea(e){{const t=bn(e.isCE?_a:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw q(e.isCE?Q.NOT_INSTALLED_WITH_PROVIDE:Q.UNEXPECTED_ERROR);return t}}function Na(e,t){return xe(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function ga(e){return e.mode==="composition"?e.global:e.global.__composer}function La(e,t,n=!1){let r=null;const s=t.root;let l=Ta(t,n);for(;l!=null;){const o=e;if(e.mode==="composition"&&(r=o.__getInstance(l)),r!=null||s===l)break;l=l.parent}return r}function Ta(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function pa(e,t,n){hn(()=>{},t),Cn(()=>{const r=n;e.__deleteInstance(t);const s=r[ct];s&&(s(),delete r[ct])},t)}const Ia=["locale","fallbackLocale","availableLocales"],Kt=["t","rt","d","n","tm","te"];function Oa(e,t){const n=Object.create(null);return Ia.forEach(s=>{const l=Object.getOwnPropertyDescriptor(t,s);if(!l)throw q(Q.UNEXPECTED_ERROR);const o=An(l.value)?{get(){return l.value.value},set(_){l.value.value=_}}:{get(){return l.get&&l.get()}};Object.defineProperty(n,s,o)}),e.config.globalProperties.$i18n=n,Kt.forEach(s=>{const l=Object.getOwnPropertyDescriptor(t,s);if(!l||!l.value)throw q(Q.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,l)}),()=>{delete e.config.globalProperties.$i18n,Kt.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Zr();__INTLIFY_JIT_COMPILATION__&&Wr(Kr);Vr(br);xr(tn);var ba={failed:"Action failed",success:"Action was successful"},ha={"en-US":ba},Sa=kn(({app:e})=>{const t=ma({locale:"en-US",globalInjection:!0,messages:ha});e.use(t)});export{Sa as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi45ZTdkYzJiNS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L3NoYXJlZC9kaXN0L3NoYXJlZC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGxpZnkvbWVzc2FnZS1jb21waWxlci9kaXN0L21lc3NhZ2UtY29tcGlsZXIuZXNtLWJyb3dzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGxpZnkvY29yZS1iYXNlL2Rpc3QvY29yZS1iYXNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtaTE4bi9kaXN0L3Z1ZS1pMThuLnJ1bnRpbWUubWpzIiwiLi4vLi4vLi4vc3JjL2kxOG4vZW4tVVMvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvaTE4bi9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9ib290L2kxOG4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogc2hhcmVkIHY5LjEwLjJcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuLyoqXG4gKiBPcmlnaW5hbCBVdGlsaXRpZXNcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxuICovXG5jb25zdCBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBtYXJrO1xubGV0IG1lYXN1cmU7XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgY29uc3QgcGVyZiA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgaWYgKHBlcmYgJiZcbiAgICAgICAgcGVyZi5tYXJrICYmXG4gICAgICAgIHBlcmYubWVhc3VyZSAmJlxuICAgICAgICBwZXJmLmNsZWFyTWFya3MgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBicm93c2VyIGNvbXBhdFxuICAgICAgICBwZXJmLmNsZWFyTWVhc3VyZXMpIHtcbiAgICAgICAgbWFyayA9ICh0YWcpID0+IHtcbiAgICAgICAgICAgIHBlcmYubWFyayh0YWcpO1xuICAgICAgICB9O1xuICAgICAgICBtZWFzdXJlID0gKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpID0+IHtcbiAgICAgICAgICAgIHBlcmYubWVhc3VyZShuYW1lLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgICAgICAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jb25zdCBSRV9BUkdTID0gL1xceyhbMC05YS16QS1aXSspXFx9L2c7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgfVxuICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xuICAgICAgICBhcmdzID0ge307XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlLnJlcGxhY2UoUkVfQVJHUywgKG1hdGNoLCBpZGVudGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiBhcmdzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpID8gYXJnc1tpZGVudGlmaWVyXSA6ICcnO1xuICAgIH0pO1xufVxuY29uc3QgbWFrZVN5bWJvbCA9IChuYW1lLCBzaGFyZWFibGUgPSBmYWxzZSkgPT4gIXNoYXJlYWJsZSA/IFN5bWJvbChuYW1lKSA6IFN5bWJvbC5mb3IobmFtZSk7XG5jb25zdCBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5ID0gKGxvY2FsZSwga2V5LCBzb3VyY2UpID0+IGZyaWVuZGx5SlNPTnN0cmluZ2lmeSh7IGw6IGxvY2FsZSwgazoga2V5LCBzOiBzb3VyY2UgfSk7XG5jb25zdCBmcmllbmRseUpTT05zdHJpbmdpZnkgPSAoanNvbikgPT4gSlNPTi5zdHJpbmdpZnkoanNvbilcbiAgICAucmVwbGFjZSgvXFx1MjAyOC9nLCAnXFxcXHUyMDI4JylcbiAgICAucmVwbGFjZSgvXFx1MjAyOS9nLCAnXFxcXHUyMDI5JylcbiAgICAucmVwbGFjZSgvXFx1MDAyNy9nLCAnXFxcXHUwMDI3Jyk7XG5jb25zdCBpc051bWJlciA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCk7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gKHZhbCkgPT4gaXNQbGFpbk9iamVjdCh2YWwpICYmIE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAwO1xuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChfZ2xvYmFsVGhpcyB8fFxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XG59O1xuZnVuY3Rpb24gZXNjYXBlSHRtbChyYXdUZXh0KSB7XG4gICAgcmV0dXJuIHJhd1RleHRcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpO1xufVxuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuLyogZXNsaW50LWVuYWJsZSAqL1xuLyoqXG4gKiBVc2VmdWwgVXRpbGl0aWVzIEJ5IEV2YW4geW91XG4gKiBNb2RpZmllZCBieSBrYXp1eWEga2F3YWd1Y2hpXG4gKiBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3NoYXJlZC9zcmMvaW5kZXgudHNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbmV4dC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvc3JjL2NvZGVmcmFtZS50c1xuICovXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbmNvbnN0IGlzQm9vbGVhbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJztcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpO1xuICAgIHJldHVybiBwcm90byA9PT0gbnVsbCB8fCBwcm90by5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufTtcbi8vIGZvciBjb252ZXJ0aW5nIGxpc3QgYW5kIG5hbWVkIHZhbHVlcyB0byBkaXNwbGF5ZWQgc3RyaW5ncy5cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gdmFsID09IG51bGxcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcpXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcbiAgICAgICAgICAgIDogU3RyaW5nKHZhbCk7XG59O1xuZnVuY3Rpb24gam9pbihpdGVtcywgc2VwYXJhdG9yID0gJycpIHtcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKChzdHIsIGl0ZW0sIGluZGV4KSA9PiAoaW5kZXggPT09IDAgPyBzdHIgKyBpdGVtIDogc3RyICsgc2VwYXJhdG9yICsgaXRlbSksICcnKTtcbn1cbmNvbnN0IFJBTkdFID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcbiAgICAgICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIFJBTkdFOyBqIDw9IGkgKyBSQU5HRSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgpfXwgICR7bGluZXNbal19YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIHVuZGVybGluZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICcgJy5yZXBlYXQocGFkKSArICdeJy5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xufVxuZnVuY3Rpb24gaW5jcmVtZW50ZXIoY29kZSkge1xuICAgIGxldCBjdXJyZW50ID0gY29kZTtcbiAgICByZXR1cm4gKCkgPT4gKytjdXJyZW50O1xufVxuXG5mdW5jdGlvbiB3YXJuKG1zZywgZXJyKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtpbnRsaWZ5XSBgICsgbXNnKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgaGFzV2FybmVkID0ge307XG5mdW5jdGlvbiB3YXJuT25jZShtc2cpIHtcbiAgICBpZiAoIWhhc1dhcm5lZFttc2ddKSB7XG4gICAgICAgIGhhc1dhcm5lZFttc2ddID0gdHJ1ZTtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBFdmVudCBlbWl0dGVyLCBmb3JrZWQgZnJvbSB0aGUgYmVsb3c6XG4gKiAtIG9yaWdpbmFsIHJlcG9zaXRvcnkgdXJsOiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L21pdHRcbiAqIC0gY29kZSB1cmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvbWl0dC9ibG9iL21hc3Rlci9zcmMvaW5kZXgudHNcbiAqIC0gYXV0aG9yOiBKYXNvbiBNaWxsZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQpXG4gKiAtIGxpY2Vuc2U6IE1JVFxuICovXG4vKipcbiAqIENyZWF0ZSBhIGV2ZW50IGVtaXR0ZXJcbiAqXG4gKiBAcmV0dXJucyBBbiBldmVudCBlbWl0dGVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVtaXR0ZXIoKSB7XG4gICAgY29uc3QgZXZlbnRzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGVtaXR0ZXIgPSB7XG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gZXZlbnRzLmdldChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBhZGRlZCA9IGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoIWFkZGVkKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnNldChldmVudCwgW2hhbmRsZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2ZmKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGV2ZW50cy5nZXQoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcikgPj4+IDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbWl0KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgICAgICAgICAoZXZlbnRzLmdldChldmVudCkgfHwgW10pXG4gICAgICAgICAgICAgICAgLnNsaWNlKClcbiAgICAgICAgICAgICAgICAubWFwKGhhbmRsZXIgPT4gaGFuZGxlcihwYXlsb2FkKSk7XG4gICAgICAgICAgICAoZXZlbnRzLmdldCgnKicpIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAgICAgLm1hcChoYW5kbGVyID0+IGhhbmRsZXIoZXZlbnQsIHBheWxvYWQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbmNvbnN0IGlzTm90T2JqZWN0T3JJc0FycmF5ID0gKHZhbCkgPT4gIWlzT2JqZWN0KHZhbCkgfHwgaXNBcnJheSh2YWwpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGRlZXBDb3B5KHNyYywgZGVzKSB7XG4gICAgLy8gc3JjIGFuZCBkZXMgc2hvdWxkIGJvdGggYmUgb2JqZWN0cywgYW5kIG5vbmUgb2YgdGhlbSBjYW4gYmUgYSBhcnJheVxuICAgIGlmIChpc05vdE9iamVjdE9ySXNBcnJheShzcmMpIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0YWNrID0gW3sgc3JjLCBkZXMgfV07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB7IHNyYywgZGVzIH0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNOb3RPYmplY3RPcklzQXJyYXkoc3JjW2tleV0pIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlc1trZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2Ugd2l0aCBzcmNba2V5XSB3aGVuOlxuICAgICAgICAgICAgICAgIC8vIHNyY1trZXldIG9yIGRlc1trZXldIGlzIG5vdCBhbiBvYmplY3QsIG9yXG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gb3IgZGVzW2tleV0gaXMgYW4gYXJyYXlcbiAgICAgICAgICAgICAgICBkZXNba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gYW5kIGRlc1trZXldIGFyZSBib3RoIG9iamVjdHMsIG1lcmdlIHRoZW1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgc3JjOiBzcmNba2V5XSwgZGVzOiBkZXNba2V5XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBhc3NpZ24sIGNyZWF0ZUVtaXR0ZXIsIGRlZXBDb3B5LCBlc2NhcGVIdG1sLCBmb3JtYXQsIGZyaWVuZGx5SlNPTnN0cmluZ2lmeSwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXksIGdldEdsb2JhbFRoaXMsIGhhc093biwgaW5Ccm93c2VyLCBpbmNyZW1lbnRlciwgaXNBcnJheSwgaXNCb29sZWFuLCBpc0RhdGUsIGlzRW1wdHlPYmplY3QsIGlzRnVuY3Rpb24sIGlzTnVtYmVyLCBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNTdHJpbmcsIGlzU3ltYm9sLCBqb2luLCBtYWtlU3ltYm9sLCBtYXJrLCBtZWFzdXJlLCBvYmplY3RUb1N0cmluZywgdG9EaXNwbGF5U3RyaW5nLCB0b1R5cGVTdHJpbmcsIHdhcm4sIHdhcm5PbmNlIH07XG4iLCIvKiFcbiAgKiBtZXNzYWdlLWNvbXBpbGVyIHY5LjEwLjJcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuY29uc3QgTE9DQVRJT05fU1RVQiA9IHtcbiAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9LFxuICAgIGVuZDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9XG59O1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb24obGluZSwgY29sdW1uLCBvZmZzZXQpIHtcbiAgICByZXR1cm4geyBsaW5lLCBjb2x1bW4sIG9mZnNldCB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCwgc291cmNlKSB7XG4gICAgY29uc3QgbG9jID0geyBzdGFydCwgZW5kIH07XG4gICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGxvYy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBsb2M7XG59XG5cbi8qKlxuICogT3JpZ2luYWwgVXRpbGl0aWVzXG4gKiB3cml0dGVuIGJ5IGthenV5YSBrYXdhZ3VjaGlcbiAqL1xuY29uc3QgUkVfQVJHUyA9IC9cXHsoWzAtOWEtekEtWl0rKVxcfS9nO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmZ1bmN0aW9uIGZvcm1hdChtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgIH1cbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcbiAgICAgICAgYXJncyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZS5yZXBsYWNlKFJFX0FSR1MsIChtYXRjaCwgaWRlbnRpZmllcikgPT4ge1xuICAgICAgICByZXR1cm4gYXJncy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSA/IGFyZ3NbaWRlbnRpZmllcl0gOiAnJztcbiAgICB9KTtcbn1cbmNvbnN0IGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuZnVuY3Rpb24gam9pbihpdGVtcywgc2VwYXJhdG9yID0gJycpIHtcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKChzdHIsIGl0ZW0sIGluZGV4KSA9PiAoaW5kZXggPT09IDAgPyBzdHIgKyBpdGVtIDogc3RyICsgc2VwYXJhdG9yICsgaXRlbSksICcnKTtcbn1cblxuY29uc3QgQ29tcGlsZUVycm9yQ29kZXMgPSB7XG4gICAgLy8gdG9rZW5pemVyIGVycm9yIGNvZGVzXG4gICAgRVhQRUNURURfVE9LRU46IDEsXG4gICAgSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUjogMixcbiAgICBVTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSOiAzLFxuICAgIFVOS05PV05fRVNDQVBFX1NFUVVFTkNFOiA0LFxuICAgIElOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0U6IDUsXG4gICAgVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFOiA2LFxuICAgIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFOiA3LFxuICAgIEVNUFRZX1BMQUNFSE9MREVSOiA4LFxuICAgIE5PVF9BTExPV19ORVNUX1BMQUNFSE9MREVSOiA5LFxuICAgIElOVkFMSURfTElOS0VEX0ZPUk1BVDogMTAsXG4gICAgLy8gcGFyc2VyIGVycm9yIGNvZGVzXG4gICAgTVVTVF9IQVZFX01FU1NBR0VTX0lOX1BMVVJBTDogMTEsXG4gICAgVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfTU9ESUZJRVI6IDEyLFxuICAgIFVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWTogMTMsXG4gICAgVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTOiAxNCxcbiAgICAvLyBnZW5lcmF0b3IgZXJyb3IgY29kZXNcbiAgICBVTkhBTkRMRURfQ09ERUdFTl9OT0RFX1RZUEU6IDE1LFxuICAgIC8vIG1pbmlmaWVyIGVycm9yIGNvZGVzXG4gICAgVU5IQU5ETEVEX01JTklGSUVSX05PREVfVFlQRTogMTYsXG4gICAgLy8gU3BlY2lhbCB2YWx1ZSBmb3IgaGlnaGVyLW9yZGVyIGNvbXBpbGVycyB0byBwaWNrIHVwIHRoZSBsYXN0IGNvZGVcbiAgICAvLyB0byBhdm9pZCBjb2xsaXNpb24gb2YgZXJyb3IgY29kZXMuIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBrZXB0IGFzIHRoZSBsYXN0XG4gICAgLy8gaXRlbS5cbiAgICBfX0VYVEVORF9QT0lOVF9fOiAxN1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgLy8gdG9rZW5pemVyIGVycm9yIG1lc3NhZ2VzXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLkVYUEVDVEVEX1RPS0VOXTogYEV4cGVjdGVkIHRva2VuOiAnezB9J2AsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVE9LRU5fSU5fUExBQ0VIT0xERVJdOiBgSW52YWxpZCB0b2tlbiBpbiBwbGFjZWhvbGRlcjogJ3swfSdgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSXTogYFVudGVybWluYXRlZCBzaW5nbGUgcXVvdGUgaW4gcGxhY2Vob2xkZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTktOT1dOX0VTQ0FQRV9TRVFVRU5DRV06IGBVbmtub3duIGVzY2FwZSBzZXF1ZW5jZTogXFxcXHswfWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0VdOiBgSW52YWxpZCB1bmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogezB9YCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFXTogYFVuYmFsYW5jZWQgY2xvc2luZyBicmFjZWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFXTogYFVudGVybWluYXRlZCBjbG9zaW5nIGJyYWNlYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuRU1QVFlfUExBQ0VIT0xERVJdOiBgRW1wdHkgcGxhY2Vob2xkZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5OT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUl06IGBOb3QgYWxsb3dlZCBuZXN0IHBsYWNlaG9sZGVyYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9MSU5LRURfRk9STUFUXTogYEludmFsaWQgbGlua2VkIGZvcm1hdGAsXG4gICAgLy8gcGFyc2VyIGVycm9yIG1lc3NhZ2VzXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLk1VU1RfSEFWRV9NRVNTQUdFU19JTl9QTFVSQUxdOiBgUGx1cmFsIG11c3QgaGF2ZSBtZXNzYWdlc2AsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIG1vZGlmaWVyYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfS0VZXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIGtleWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJU106IGBVbmV4cGVjdGVkIGxleGljYWwgYW5hbHlzaXMgaW4gdG9rZW46ICd7MH0nYCxcbiAgICAvLyBnZW5lcmF0b3IgZXJyb3IgbWVzc2FnZXNcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX0NPREVHRU5fTk9ERV9UWVBFXTogYHVuaGFuZGxlZCBjb2RlZ2VuIG5vZGUgdHlwZTogJ3swfSdgLFxuICAgIC8vIG1pbmltaXplciBlcnJvciBtZXNzYWdlc1xuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTkhBTkRMRURfTUlOSUZJRVJfTk9ERV9UWVBFXTogYHVuaGFuZGxlZCBtaW1pZmllciBub2RlIHR5cGU6ICd7MH0nYFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBsb2MsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgZG9tYWluLCBtZXNzYWdlcywgYXJncyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBtc2cgPSBmb3JtYXQoKG1lc3NhZ2VzIHx8IGVycm9yTWVzc2FnZXMpW2NvZGVdIHx8ICcnLCAuLi4oYXJncyB8fCBbXSkpXG4gICAgICAgIDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihTdHJpbmcobXNnKSk7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgaWYgKGxvYykge1xuICAgICAgICBlcnJvci5sb2NhdGlvbiA9IGxvYztcbiAgICB9XG4gICAgZXJyb3IuZG9tYWluID0gZG9tYWluO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGRlZmF1bHRPbkVycm9yKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuY29uc3QgUkVfSFRNTF9UQUcgPSAvPFxcLz9bXFx3XFxzPVwiLy4nOjsjLVxcL10rPi87XG5jb25zdCBkZXRlY3RIdG1sVGFnID0gKHNvdXJjZSkgPT4gUkVfSFRNTF9UQUcudGVzdChzb3VyY2UpO1xuXG5jb25zdCBDSEFSX1NQID0gJyAnO1xuY29uc3QgQ0hBUl9DUiA9ICdcXHInO1xuY29uc3QgQ0hBUl9MRiA9ICdcXG4nO1xuY29uc3QgQ0hBUl9MUyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgyMDI4KTtcbmNvbnN0IENIQVJfUFMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAyOSk7XG5mdW5jdGlvbiBjcmVhdGVTY2FubmVyKHN0cikge1xuICAgIGNvbnN0IF9idWYgPSBzdHI7XG4gICAgbGV0IF9pbmRleCA9IDA7XG4gICAgbGV0IF9saW5lID0gMTtcbiAgICBsZXQgX2NvbHVtbiA9IDE7XG4gICAgbGV0IF9wZWVrT2Zmc2V0ID0gMDtcbiAgICBjb25zdCBpc0NSTEYgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX0NSICYmIF9idWZbaW5kZXggKyAxXSA9PT0gQ0hBUl9MRjtcbiAgICBjb25zdCBpc0xGID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9MRjtcbiAgICBjb25zdCBpc1BTID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9QUztcbiAgICBjb25zdCBpc0xTID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9MUztcbiAgICBjb25zdCBpc0xpbmVFbmQgPSAoaW5kZXgpID0+IGlzQ1JMRihpbmRleCkgfHwgaXNMRihpbmRleCkgfHwgaXNQUyhpbmRleCkgfHwgaXNMUyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXggPSAoKSA9PiBfaW5kZXg7XG4gICAgY29uc3QgbGluZSA9ICgpID0+IF9saW5lO1xuICAgIGNvbnN0IGNvbHVtbiA9ICgpID0+IF9jb2x1bW47XG4gICAgY29uc3QgcGVla09mZnNldCA9ICgpID0+IF9wZWVrT2Zmc2V0O1xuICAgIGNvbnN0IGNoYXJBdCA9IChvZmZzZXQpID0+IGlzQ1JMRihvZmZzZXQpIHx8IGlzUFMob2Zmc2V0KSB8fCBpc0xTKG9mZnNldCkgPyBDSEFSX0xGIDogX2J1ZltvZmZzZXRdO1xuICAgIGNvbnN0IGN1cnJlbnRDaGFyID0gKCkgPT4gY2hhckF0KF9pbmRleCk7XG4gICAgY29uc3QgY3VycmVudFBlZWsgPSAoKSA9PiBjaGFyQXQoX2luZGV4ICsgX3BlZWtPZmZzZXQpO1xuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gMDtcbiAgICAgICAgaWYgKGlzTGluZUVuZChfaW5kZXgpKSB7XG4gICAgICAgICAgICBfbGluZSsrO1xuICAgICAgICAgICAgX2NvbHVtbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ1JMRihfaW5kZXgpKSB7XG4gICAgICAgICAgICBfaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBfaW5kZXgrKztcbiAgICAgICAgX2NvbHVtbisrO1xuICAgICAgICByZXR1cm4gX2J1ZltfaW5kZXhdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrKCkge1xuICAgICAgICBpZiAoaXNDUkxGKF9pbmRleCArIF9wZWVrT2Zmc2V0KSkge1xuICAgICAgICAgICAgX3BlZWtPZmZzZXQrKztcbiAgICAgICAgfVxuICAgICAgICBfcGVla09mZnNldCsrO1xuICAgICAgICByZXR1cm4gX2J1ZltfaW5kZXggKyBfcGVla09mZnNldF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBfaW5kZXggPSAwO1xuICAgICAgICBfbGluZSA9IDE7XG4gICAgICAgIF9jb2x1bW4gPSAxO1xuICAgICAgICBfcGVla09mZnNldCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0UGVlayhvZmZzZXQgPSAwKSB7XG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBza2lwVG9QZWVrKCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBfaW5kZXggKyBfcGVla09mZnNldDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgd2hpbGUgKHRhcmdldCAhPT0gX2luZGV4KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgX3BlZWtPZmZzZXQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpbmRleCxcbiAgICAgICAgbGluZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBwZWVrT2Zmc2V0LFxuICAgICAgICBjaGFyQXQsXG4gICAgICAgIGN1cnJlbnRDaGFyLFxuICAgICAgICBjdXJyZW50UGVlayxcbiAgICAgICAgbmV4dCxcbiAgICAgICAgcGVlayxcbiAgICAgICAgcmVzZXQsXG4gICAgICAgIHJlc2V0UGVlayxcbiAgICAgICAgc2tpcFRvUGVla1xuICAgIH07XG59XG5cbmNvbnN0IEVPRiA9IHVuZGVmaW5lZDtcbmNvbnN0IERPVCA9ICcuJztcbmNvbnN0IExJVEVSQUxfREVMSU1JVEVSID0gXCInXCI7XG5jb25zdCBFUlJPUl9ET01BSU4kMyA9ICd0b2tlbml6ZXInO1xuZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uICE9PSBmYWxzZTtcbiAgICBjb25zdCBfc2NuciA9IGNyZWF0ZVNjYW5uZXIoc291cmNlKTtcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gKCkgPT4gX3NjbnIuaW5kZXgoKTtcbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSAoKSA9PiBjcmVhdGVQb3NpdGlvbihfc2Nuci5saW5lKCksIF9zY25yLmNvbHVtbigpLCBfc2Nuci5pbmRleCgpKTtcbiAgICBjb25zdCBfaW5pdExvYyA9IGN1cnJlbnRQb3NpdGlvbigpO1xuICAgIGNvbnN0IF9pbml0T2Zmc2V0ID0gY3VycmVudE9mZnNldCgpO1xuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xuICAgICAgICBjdXJyZW50VHlwZTogMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8sXG4gICAgICAgIG9mZnNldDogX2luaXRPZmZzZXQsXG4gICAgICAgIHN0YXJ0TG9jOiBfaW5pdExvYyxcbiAgICAgICAgZW5kTG9jOiBfaW5pdExvYyxcbiAgICAgICAgbGFzdFR5cGU6IDE0IC8qIFRva2VuVHlwZXMuRU9GICovLFxuICAgICAgICBsYXN0T2Zmc2V0OiBfaW5pdE9mZnNldCxcbiAgICAgICAgbGFzdFN0YXJ0TG9jOiBfaW5pdExvYyxcbiAgICAgICAgbGFzdEVuZExvYzogX2luaXRMb2MsXG4gICAgICAgIGJyYWNlTmVzdDogMCxcbiAgICAgICAgaW5MaW5rZWQ6IGZhbHNlLFxuICAgICAgICB0ZXh0OiAnJ1xuICAgIH07XG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xuICAgIGNvbnN0IHsgb25FcnJvciB9ID0gb3B0aW9ucztcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IoY29kZSwgcG9zLCBvZmZzZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gY29udGV4dCgpO1xuICAgICAgICBwb3MuY29sdW1uICs9IG9mZnNldDtcbiAgICAgICAgcG9zLm9mZnNldCArPSBvZmZzZXQ7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBsb2NhdGlvbiA/IGNyZWF0ZUxvY2F0aW9uKGN0eC5zdGFydExvYywgcG9zKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjcmVhdGVDb21waWxlRXJyb3IoY29kZSwgbG9jLCB7XG4gICAgICAgICAgICAgICAgZG9tYWluOiBFUlJPUl9ET01BSU4kMyxcbiAgICAgICAgICAgICAgICBhcmdzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUb2tlbihjb250ZXh0LCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICBjb250ZXh0LmVuZExvYyA9IGN1cnJlbnRQb3NpdGlvbigpO1xuICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID0gdHlwZTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB7IHR5cGUgfTtcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0b2tlbi5sb2MgPSBjcmVhdGVMb2NhdGlvbihjb250ZXh0LnN0YXJ0TG9jLCBjb250ZXh0LmVuZExvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBjb25zdCBnZXRFbmRUb2tlbiA9IChjb250ZXh0KSA9PiBnZXRUb2tlbihjb250ZXh0LCAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyk7XG4gICAgZnVuY3Rpb24gZWF0KHNjbnIsIGNoKSB7XG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09IGNoKSB7XG4gICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBjaDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5FWFBFQ1RFRF9UT0tFTiwgY3VycmVudFBvc2l0aW9uKCksIDAsIGNoKTtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrU3BhY2VzKHNjbnIpIHtcbiAgICAgICAgbGV0IGJ1ZiA9ICcnO1xuICAgICAgICB3aGlsZSAoc2Nuci5jdXJyZW50UGVlaygpID09PSBDSEFSX1NQIHx8IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gQ0hBUl9MRikge1xuICAgICAgICAgICAgYnVmICs9IHNjbnIuY3VycmVudFBlZWsoKTtcbiAgICAgICAgICAgIHNjbnIucGVlaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNraXBTcGFjZXMoc2Nucikge1xuICAgICAgICBjb25zdCBidWYgPSBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBzY25yLnNraXBUb1BlZWsoKTtcbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNJZGVudGlmaWVyU3RhcnQoY2gpIHtcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHJldHVybiAoKGNjID49IDk3ICYmIGNjIDw9IDEyMikgfHwgLy8gYS16XG4gICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gOTApIHx8IC8vIEEtWlxuICAgICAgICAgICAgY2MgPT09IDk1IC8vIF9cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOdW1iZXJTdGFydChjaCkge1xuICAgICAgICBpZiAoY2ggPT09IEVPRikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuIGNjID49IDQ4ICYmIGNjIDw9IDU3OyAvLyAwLTlcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOYW1lZElkZW50aWZpZXJTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBUb2tlblR5cGVzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IGlzSWRlbnRpZmllclN0YXJ0KHNjbnIuY3VycmVudFBlZWsoKSk7XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGlzdElkZW50aWZpZXJTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBUb2tlblR5cGVzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpID09PSAnLScgPyBzY25yLnBlZWsoKSA6IHNjbnIuY3VycmVudFBlZWsoKTtcbiAgICAgICAgY29uc3QgcmV0ID0gaXNOdW1iZXJTdGFydChjaCk7XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGl0ZXJhbFN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAyIC8qIFRva2VuVHlwZXMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBMSVRFUkFMX0RFTElNSVRFUjtcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaW5rZWREb3RTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcIi5cIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERvdCAqLztcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaW5rZWRNb2RpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gaXNJZGVudGlmaWVyU3RhcnQoc2Nuci5jdXJyZW50UGVlaygpKTtcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaW5rZWREZWxpbWl0ZXJTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmICghKGN1cnJlbnRUeXBlID09PSA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSAxMiAvKiBUb2tlblR5cGVzLkxpbmtlZE1vZGlmaWVyICovKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCI6XCIgLyogVG9rZW5DaGFycy5MaW5rZWREZWxpbWl0ZXIgKi87XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGlua2VkUmVmZXJTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpO1xuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0lkZW50aWZpZXJTdGFydChzY25yLnBlZWsoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcInxcIiAvKiBUb2tlbkNoYXJzLlBpcGUgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCI6XCIgLyogVG9rZW5DaGFycy5MaW5rZWREZWxpbWl0ZXIgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCIuXCIgLyogVG9rZW5DaGFycy5MaW5rZWREb3QgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gQ0hBUl9TUCB8fFxuICAgICAgICAgICAgICAgICFjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlciBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzSWRlbnRpZmllclN0YXJ0KGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmV0ID0gZm4oKTtcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNQbHVyYWxTdGFydChzY25yKSB7XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRlY3RNb2R1bG9TdGFydChzY25yKSB7XG4gICAgICAgIGNvbnN0IHNwYWNlcyA9IHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8gJiZcbiAgICAgICAgICAgIHNjbnIucGVlaygpID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLztcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTW9kdWxvOiByZXQsXG4gICAgICAgICAgICBoYXNTcGFjZTogc3BhY2VzLmxlbmd0aCA+IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUZXh0U3RhcnQoc2NuciwgcmVzZXQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGZuID0gKGhhc1NwYWNlID0gZmFsc2UsIHByZXYgPSAnJywgZGV0ZWN0TW9kdWxvID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpO1xuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyA/IGZhbHNlIDogaGFzU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLyB8fCAhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8gPyB0cnVlIDogaGFzU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8pIHtcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oaGFzU3BhY2UsIFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcInxcIiAvKiBUb2tlbkNoYXJzLlBpcGUgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8gfHwgZGV0ZWN0TW9kdWxvXG4gICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA6ICEocHJldiA9PT0gQ0hBUl9TUCB8fCBwcmV2ID09PSBDSEFSX0xGKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRydWUsIENIQVJfU1AsIGRldGVjdE1vZHVsbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9MRikge1xuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBDSEFSX0xGLCBkZXRlY3RNb2R1bG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJldCA9IGZuKCk7XG4gICAgICAgIHJlc2V0ICYmIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VDaGFyKHNjbnIsIGZuKSB7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBpZiAoY2ggPT09IEVPRikge1xuICAgICAgICAgICAgcmV0dXJuIEVPRjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm4oY2gpKSB7XG4gICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZUlkZW50aWZpZXJDaGFyKHNjbnIpIHtcbiAgICAgICAgY29uc3QgY2xvc3VyZSA9IChjaCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgcmV0dXJuICgoY2MgPj0gOTcgJiYgY2MgPD0gMTIyKSB8fCAvLyBhLXpcbiAgICAgICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gOTApIHx8IC8vIEEtWlxuICAgICAgICAgICAgICAgIChjYyA+PSA0OCAmJiBjYyA8PSA1NykgfHwgLy8gMC05XG4gICAgICAgICAgICAgICAgY2MgPT09IDk1IHx8IC8vIF9cbiAgICAgICAgICAgICAgICBjYyA9PT0gMzYgLy8gJFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0YWtlRGlnaXQoc2Nucikge1xuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICByZXR1cm4gY2MgPj0gNDggJiYgY2MgPD0gNTc7IC8vIDAtOVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VIZXhEaWdpdChzY25yKSB7XG4gICAgICAgIGNvbnN0IGNsb3N1cmUgPSAoY2gpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHJldHVybiAoKGNjID49IDQ4ICYmIGNjIDw9IDU3KSB8fCAvLyAwLTlcbiAgICAgICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gNzApIHx8IC8vIEEtRlxuICAgICAgICAgICAgICAgIChjYyA+PSA5NyAmJiBjYyA8PSAxMDIpKTsgLy8gYS1mXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWtlQ2hhcihzY25yLCBjbG9zdXJlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGlnaXRzKHNjbnIpIHtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBudW0gPSAnJztcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VEaWdpdChzY25yKSkpIHtcbiAgICAgICAgICAgIG51bSArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTW9kdWxvKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIGlmIChjaCAhPT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5FWFBFQ1RFRF9UT0tFTiwgY3VycmVudFBvc2l0aW9uKCksIDAsIGNoKTtcbiAgICAgICAgfVxuICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkVGV4dChzY25yKSB7XG4gICAgICAgIGxldCBidWYgPSAnJztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLyB8fFxuICAgICAgICAgICAgICAgICFjaCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9TUCB8fCBjaCA9PT0gQ0hBUl9MRikge1xuICAgICAgICAgICAgICAgIGlmIChpc1RleHRTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gY2g7XG4gICAgICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IGNoO1xuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWYgKz0gY2g7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZE5hbWVkSWRlbnRpZmllcihzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGxldCBjaCA9ICcnO1xuICAgICAgICBsZXQgbmFtZSA9ICcnO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZUlkZW50aWZpZXJDaGFyKHNjbnIpKSkge1xuICAgICAgICAgICAgbmFtZSArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSBFT0YpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTGlzdElkZW50aWZpZXIoc2Nucikge1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gJy0nKSB7XG4gICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgIHZhbHVlICs9IGAtJHtnZXREaWdpdHMoc2Nucil9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlICs9IGdldERpZ2l0cyhzY25yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSBFT0YpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZExpdGVyYWwoc2Nucikge1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBsaXRlcmFsID0gJyc7XG4gICAgICAgIGNvbnN0IGZuID0gKHgpID0+IHggIT09IExJVEVSQUxfREVMSU1JVEVSICYmIHggIT09IENIQVJfTEY7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlQ2hhcihzY25yLCBmbikpKSB7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGxpdGVyYWwgKz0gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGl0ZXJhbCArPSBjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50ID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gQ0hBUl9MRiB8fCBjdXJyZW50ID09PSBFT0YpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBJcyBpdCBjb3JyZWN0IHJlYWxseT9cbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgICAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXRlcmFsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xuICAgICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpIHtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgY2FzZSBgXFwnYDogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXFxcXCR7Y2h9YDtcbiAgICAgICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA0KTtcbiAgICAgICAgICAgIGNhc2UgJ1UnOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA2KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOS05PV05fRVNDQVBFX1NFUVVFTkNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIHVuaWNvZGUsIGRpZ2l0cykge1xuICAgICAgICBlYXQoc2NuciwgdW5pY29kZSk7XG4gICAgICAgIGxldCBzZXF1ZW5jZSA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZ2l0czsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHRha2VIZXhEaWdpdChzY25yKTtcbiAgICAgICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9VTklDT0RFX0VTQ0FQRV9TRVFVRU5DRSwgY3VycmVudFBvc2l0aW9uKCksIDAsIGBcXFxcJHt1bmljb2RlfSR7c2VxdWVuY2V9JHtzY25yLmN1cnJlbnRDaGFyKCl9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXF1ZW5jZSArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxcXFwke3VuaWNvZGV9JHtzZXF1ZW5jZX1gO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkSW52YWxpZElkZW50aWZpZXIoc2Nucikge1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICBsZXQgY2ggPSAnJztcbiAgICAgICAgbGV0IGlkZW50aWZpZXJzID0gJyc7XG4gICAgICAgIGNvbnN0IGNsb3N1cmUgPSAoY2gpID0+IGNoICE9PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLyAmJlxuICAgICAgICAgICAgY2ggIT09IFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLyAmJlxuICAgICAgICAgICAgY2ggIT09IENIQVJfU1AgJiZcbiAgICAgICAgICAgIGNoICE9PSBDSEFSX0xGO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSkpKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVycyArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWRlbnRpZmllcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRMaW5rZWRNb2RpZmllcihzY25yKSB7XG4gICAgICAgIGxldCBjaCA9ICcnO1xuICAgICAgICBsZXQgbmFtZSA9ICcnO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZUlkZW50aWZpZXJDaGFyKHNjbnIpKSkge1xuICAgICAgICAgICAgbmFtZSArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZExpbmtlZFJlZmVyKHNjbnIpIHtcbiAgICAgICAgY29uc3QgZm4gPSAoZGV0ZWN0ID0gZmFsc2UsIGJ1ZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiKFwiIC8qIFRva2VuQ2hhcnMuUGFyZW5MZWZ0ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiKVwiIC8qIFRva2VuQ2hhcnMuUGFyZW5SaWdodCAqLyB8fFxuICAgICAgICAgICAgICAgICFjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9TUCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9MRiB8fCBjaCA9PT0gRE9UKSB7XG4gICAgICAgICAgICAgICAgYnVmICs9IGNoO1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbihkZXRlY3QsIGJ1Zik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWYgKz0gY2g7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRydWUsIGJ1Zik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmbihmYWxzZSwgJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkUGx1cmFsKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcGx1cmFsID0gZWF0KHNjbnIsIFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLyk7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIHJldHVybiBwbHVyYWw7XG4gICAgfVxuICAgIC8vIFRPRE86IFdlIG5lZWQgcmVmYWN0b3Jpbmcgb2YgdG9rZW4gcGFyc2luZyAuLi5cbiAgICBmdW5jdGlvbiByZWFkVG9rZW5JblBsYWNlaG9sZGVyKHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLk5PVF9BTExPV19ORVNUX1BMQUNFSE9MREVSLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMiAvKiBUb2tlblR5cGVzLkJyYWNlTGVmdCAqLywgXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8pO1xuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBjYXNlIFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLkVNUFRZX1BMQUNFSE9MREVSLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMyAvKiBUb2tlblR5cGVzLkJyYWNlUmlnaHQgKi8sIFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QtLTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA+IDAgJiYgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pbkxpbmtlZCAmJiBjb250ZXh0LmJyYWNlTmVzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgIGNhc2UgXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbiA9IHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkTmFtZWRJZGVudGlmaWVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRMaXN0SWRlbnRpZmllciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkTGl0ZXJhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxIC8qIFRva2VuVHlwZXMuUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgKGNvbnRleHQuY3VycmVudFR5cGUgPT09IDUgLyogVG9rZW5UeXBlcy5OYW1lZCAqLyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9PT0gNiAvKiBUb2tlblR5cGVzLkxpc3QgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPT09IDcgLyogVG9rZW5UeXBlcy5MaXRlcmFsICovKSkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuKHNjbnIsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTmFtZWRJZGVudGlmaWVyID0gaXNOYW1lZElkZW50aWZpZXJTdGFydChzY25yLCBjb250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCA1IC8qIFRva2VuVHlwZXMuTmFtZWQgKi8sIHJlYWROYW1lZElkZW50aWZpZXIoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgodmFsaWRMaXN0SWRlbnRpZmllciA9IGlzTGlzdElkZW50aWZpZXJTdGFydChzY25yLCBjb250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCA2IC8qIFRva2VuVHlwZXMuTGlzdCAqLywgcmVhZExpc3RJZGVudGlmaWVyKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTGl0ZXJhbCA9IGlzTGl0ZXJhbFN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDcgLyogVG9rZW5UeXBlcy5MaXRlcmFsICovLCByZWFkTGl0ZXJhbChzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWVkSWRlbnRpZmllciAmJiAhdmFsaWRMaXN0SWRlbnRpZmllciAmJiAhdmFsaWRMaXRlcmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBiZSByZS1kZXNpZ25lZCBpbnZhbGlkIGNhc2VzLCB3aGVuIHdlIHdpbGwgZXh0ZW5kIG1lc3NhZ2Ugc3ludGF4IG5lYXIgdGhlIGZ1dHVyZSAuLi5cbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxMyAvKiBUb2tlblR5cGVzLkludmFsaWRQbGFjZSAqLywgcmVhZEludmFsaWRJZGVudGlmaWVyKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVE9LRU5fSU5fUExBQ0VIT0xERVIsIGN1cnJlbnRQb3NpdGlvbigpLCAwLCB0b2tlbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgaWYgKChjdXJyZW50VHlwZSA9PT0gOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gOSAvKiBUb2tlblR5cGVzLkxpbmtlZERvdCAqLyB8fFxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDEyIC8qIFRva2VuVHlwZXMuTGlua2VkTW9kaWZpZXIgKi8gfHxcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSAxMCAvKiBUb2tlblR5cGVzLkxpbmtlZERlbGltaXRlciAqLykgJiZcbiAgICAgICAgICAgIChjaCA9PT0gQ0hBUl9MRiB8fCBjaCA9PT0gQ0hBUl9TUCkpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5JTlZBTElEX0xJTktFRF9GT1JNQVQsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi86XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi8sIFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgIGNhc2UgXCIuXCIgLyogVG9rZW5DaGFycy5MaW5rZWREb3QgKi86XG4gICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgOSAvKiBUb2tlblR5cGVzLkxpbmtlZERvdCAqLywgXCIuXCIgLyogVG9rZW5DaGFycy5MaW5rZWREb3QgKi8pO1xuICAgICAgICAgICAgY2FzZSBcIjpcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERlbGltaXRlciAqLzpcbiAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAxMCAvKiBUb2tlblR5cGVzLkxpbmtlZERlbGltaXRlciAqLywgXCI6XCIgLyogVG9rZW5DaGFycy5MaW5rZWREZWxpbWl0ZXIgKi8pO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoaXNQbHVyYWxTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogVG9rZW5UeXBlcy5QaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkRG90U3RhcnQoc2NuciwgY29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNMaW5rZWREZWxpbWl0ZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xpbmtlZE1vZGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDEyIC8qIFRva2VuVHlwZXMuTGlua2VkTW9kaWZpZXIgKi8sIHJlYWRMaW5rZWRNb2RpZmllcihzY25yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xpbmtlZFJlZmVyU3RhcnQoc2NuciwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NhbiB0aGUgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JblBsYWNlaG9sZGVyKHNjbnIsIGNvbnRleHQpIHx8IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDExIC8qIFRva2VuVHlwZXMuTGlua2VkS2V5ICovLCByZWFkTGlua2VkUmVmZXIoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHlwZSA9PT0gOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5JTlZBTElEX0xJTktFRF9GT1JNQVQsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuKHNjbnIsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE86IFdlIG5lZWQgcmVmYWN0b3Jpbmcgb2YgdG9rZW4gcGFyc2luZyAuLi5cbiAgICBmdW5jdGlvbiByZWFkVG9rZW4oc2NuciwgY29udGV4dCkge1xuICAgICAgICBsZXQgdG9rZW4gPSB7IHR5cGU6IDE0IC8qIFRva2VuVHlwZXMuRU9GICovIH07XG4gICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JblBsYWNlaG9sZGVyKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LmluTGlua2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XG4gICAgICAgICAgICBjYXNlIFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLzpcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDMgLyogVG9rZW5UeXBlcy5CcmFjZVJpZ2h0ICovLCBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi8pO1xuICAgICAgICAgICAgY2FzZSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQbHVyYWxTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogVG9rZW5UeXBlcy5QaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc01vZHVsbywgaGFzU3BhY2UgfSA9IGRldGVjdE1vZHVsb1N0YXJ0KHNjbnIpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vZHVsbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzU3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0VG9rZW4oY29udGV4dCwgMCAvKiBUb2tlblR5cGVzLlRleHQgKi8sIHJlYWRUZXh0KHNjbnIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUb2tlbihjb250ZXh0LCA0IC8qIFRva2VuVHlwZXMuTW9kdWxvICovLCByZWFkTW9kdWxvKHNjbnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAwIC8qIFRva2VuVHlwZXMuVGV4dCAqLywgcmVhZFRleHQoc2NucikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHRUb2tlbigpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSwgb2Zmc2V0LCBzdGFydExvYywgZW5kTG9jIH0gPSBfY29udGV4dDtcbiAgICAgICAgX2NvbnRleHQubGFzdFR5cGUgPSBjdXJyZW50VHlwZTtcbiAgICAgICAgX2NvbnRleHQubGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgX2NvbnRleHQubGFzdFN0YXJ0TG9jID0gc3RhcnRMb2M7XG4gICAgICAgIF9jb250ZXh0Lmxhc3RFbmRMb2MgPSBlbmRMb2M7XG4gICAgICAgIF9jb250ZXh0Lm9mZnNldCA9IGN1cnJlbnRPZmZzZXQoKTtcbiAgICAgICAgX2NvbnRleHQuc3RhcnRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcbiAgICAgICAgaWYgKF9zY25yLmN1cnJlbnRDaGFyKCkgPT09IEVPRikge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKF9jb250ZXh0LCAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihfc2NuciwgX2NvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0VG9rZW4sXG4gICAgICAgIGN1cnJlbnRPZmZzZXQsXG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbixcbiAgICAgICAgY29udGV4dFxuICAgIH07XG59XG5cbmNvbnN0IEVSUk9SX0RPTUFJTiQyID0gJ3BhcnNlcic7XG4vLyBCYWNrc2xhc2ggYmFja3NsYXNoLCBiYWNrc2xhc2ggcXVvdGUsIHVISEhILCBVSEhISEhILlxuY29uc3QgS05PV05fRVNDQVBFUyA9IC8oPzpcXFxcXFxcXHxcXFxcJ3xcXFxcdShbMC05YS1mQS1GXXs0fSl8XFxcXFUoWzAtOWEtZkEtRl17Nn0pKS9nO1xuZnVuY3Rpb24gZnJvbUVzY2FwZVNlcXVlbmNlKG1hdGNoLCBjb2RlUG9pbnQ0LCBjb2RlUG9pbnQ2KSB7XG4gICAgc3dpdGNoIChtYXRjaCkge1xuICAgICAgICBjYXNlIGBcXFxcXFxcXGA6XG4gICAgICAgICAgICByZXR1cm4gYFxcXFxgO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgICAgY2FzZSBgXFxcXFxcJ2A6XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgICAgICAgIHJldHVybiBgXFwnYDtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgY29uc3QgY29kZVBvaW50ID0gcGFyc2VJbnQoY29kZVBvaW50NCB8fCBjb2RlUG9pbnQ2LCAxNik7XG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZDdmZiB8fCBjb2RlUG9pbnQgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbnZhbGlkIC4uLlxuICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGVtIHdpdGggVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUi5cbiAgICAgICAgICAgIHJldHVybiAn77+9JztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IG9wdGlvbnMubG9jYXRpb24gIT09IGZhbHNlO1xuICAgIGNvbnN0IHsgb25FcnJvciB9ID0gb3B0aW9ucztcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IodG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZW5kID0gdG9rZW56ZXIuY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGVuZC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGxvY2F0aW9uID8gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCkgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xuICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOJDIsXG4gICAgICAgICAgICAgICAgYXJnc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnROb2RlKHR5cGUsIG9mZnNldCwgbG9jKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7IHR5cGUgfTtcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBub2RlLnN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBub2RlLmxvYyA9IHsgc3RhcnQ6IGxvYywgZW5kOiBsb2MgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kTm9kZShub2RlLCBvZmZzZXQsIHBvcywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgbm9kZS50eXBlID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIG5vZGUuZW5kID0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG5vZGUubG9jKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5sb2MuZW5kID0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlVGV4dCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDMgLyogTm9kZVR5cGVzLlRleHQgKi8sIGNvbnRleHQub2Zmc2V0LCBjb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUxpc3QodG9rZW5pemVyLCBpbmRleCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg1IC8qIE5vZGVUeXBlcy5MaXN0ICovLCBvZmZzZXQsIGxvYyk7XG4gICAgICAgIG5vZGUuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICB0b2tlbml6ZXIubmV4dFRva2VuKCk7IC8vIHNraXAgYnJhY2ggcmlnaHRcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VOYW1lZCh0b2tlbml6ZXIsIGtleSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg0IC8qIE5vZGVUeXBlcy5OYW1lZCAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBub2RlLmtleSA9IGtleTtcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8sIG9mZnNldCwgbG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlLnJlcGxhY2UoS05PV05fRVNDQVBFUywgZnJvbUVzY2FwZVNlcXVlbmNlKTtcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkTW9kaWZpZXIodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgbGlua2VkIGRvdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLykge1xuICAgICAgICAgICAgLy8gZW1wdHkgbW9kaWZpZXJcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCk7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XG4gICAgICAgICAgICBlbmROb2RlKG5vZGUsIG9mZnNldCwgbG9jKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS52YWx1ZSA9IHRva2VuLnZhbHVlIHx8ICcnO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkS2V5KHRva2VuaXplciwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VMaW5rZWQodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gc3RhcnROb2RlKDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbml6ZXIubmV4dFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUxpbmtlZE1vZGlmaWVyKHRva2VuaXplcik7XG4gICAgICAgICAgICBsaW5rZWROb2RlLm1vZGlmaWVyID0gcGFyc2VkLm5vZGU7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcnNlZC5uZXh0Q29uc3VtZVRva2VuIHx8IHRva2VuaXplci5uZXh0VG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NldCBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICAvLyBza2lwIGJyYWNlIGxlZnRcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxMSAvKiBUb2tlblR5cGVzLkxpbmtlZEtleSAqLzpcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYgLyogVG9rZW5UeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTGlzdCh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIC8vIGVtcHR5IGtleVxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWSwgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eUxpbmtlZEtleU5vZGUgPSBzdGFydE5vZGUoNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgICAgICAgICBlbXB0eUxpbmtlZEtleU5vZGUudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBlbmROb2RlKGVtcHR5TGlua2VkS2V5Tm9kZSwgbmV4dENvbnRleHQub2Zmc2V0LCBuZXh0Q29udGV4dC5zdGFydExvYyk7XG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBlbXB0eUxpbmtlZEtleU5vZGU7XG4gICAgICAgICAgICAgICAgZW5kTm9kZShsaW5rZWROb2RlLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Q29uc3VtZVRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW5kTm9kZShsaW5rZWROb2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovXG4gICAgICAgICAgICA/IHRva2VuaXplci5jdXJyZW50T2Zmc2V0KClcbiAgICAgICAgICAgIDogY29udGV4dC5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHN0YXJ0TG9jID0gY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMSAvKiBUb2tlblR5cGVzLlBpcGUgKi9cbiAgICAgICAgICAgID8gY29udGV4dC5lbmRMb2NcbiAgICAgICAgICAgIDogY29udGV4dC5zdGFydExvYztcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovLCBzdGFydE9mZnNldCwgc3RhcnRMb2MpO1xuICAgICAgICBub2RlLml0ZW1zID0gW107XG4gICAgICAgIGxldCBuZXh0VG9rZW4gPSBudWxsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IG5leHRUb2tlbiB8fCB0b2tlbml6ZXIubmV4dFRva2VuKCk7XG4gICAgICAgICAgICBuZXh0VG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIFRva2VuVHlwZXMuVGV4dCAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZVRleHQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDYgLyogVG9rZW5UeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTGlzdCh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDcgLyogVG9rZW5UeXBlcy5MaXRlcmFsICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlTGlua2VkKHRva2VuaXplcik7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZWQubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUb2tlbiA9IHBhcnNlZC5uZXh0Q29uc3VtZVRva2VuIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8gJiZcbiAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgIT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovKTtcbiAgICAgICAgLy8gYWRqdXN0IG1lc3NhZ2Ugbm9kZSBsb2NcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMSAvKiBUb2tlblR5cGVzLlBpcGUgKi9cbiAgICAgICAgICAgID8gY29udGV4dC5sYXN0T2Zmc2V0XG4gICAgICAgICAgICA6IHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCk7XG4gICAgICAgIGNvbnN0IGVuZExvYyA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovXG4gICAgICAgICAgICA/IGNvbnRleHQubGFzdEVuZExvY1xuICAgICAgICAgICAgOiB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGVuZE5vZGUobm9kZSwgZW5kT2Zmc2V0LCBlbmRMb2MpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VQbHVyYWwodG9rZW5pemVyLCBvZmZzZXQsIGxvYywgbXNnTm9kZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgbGV0IGhhc0VtcHR5TWVzc2FnZSA9IG1zZ05vZGUuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDEgLyogTm9kZVR5cGVzLlBsdXJhbCAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBub2RlLmNhc2VzID0gW107XG4gICAgICAgIG5vZGUuY2FzZXMucHVzaChtc2dOb2RlKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gcGFyc2VNZXNzYWdlKHRva2VuaXplcik7XG4gICAgICAgICAgICBpZiAoIWhhc0VtcHR5TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGhhc0VtcHR5TWVzc2FnZSA9IG1zZy5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmNhc2VzLnB1c2gobXNnKTtcbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pO1xuICAgICAgICBpZiAoaGFzRW1wdHlNZXNzYWdlKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5NVVNUX0hBVkVfTUVTU0FHRVNfSU5fUExVUkFMLCBsb2MsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlUmVzb3VyY2UodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCB7IG9mZnNldCwgc3RhcnRMb2MgfSA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IG1zZ05vZGUgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcbiAgICAgICAgaWYgKGNvbnRleHQuY3VycmVudFR5cGUgPT09IDE0IC8qIFRva2VuVHlwZXMuRU9GICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbXNnTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVBsdXJhbCh0b2tlbml6ZXIsIG9mZnNldCwgc3RhcnRMb2MsIG1zZ05vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlKHNvdXJjZSkge1xuICAgICAgICBjb25zdCB0b2tlbml6ZXIgPSBjcmVhdGVUb2tlbml6ZXIoc291cmNlLCBhc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoMCAvKiBOb2RlVHlwZXMuUmVzb3VyY2UgKi8sIGNvbnRleHQub2Zmc2V0LCBjb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgaWYgKGxvY2F0aW9uICYmIG5vZGUubG9jKSB7XG4gICAgICAgICAgICBub2RlLmxvYy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5ib2R5ID0gcGFyc2VSZXNvdXJjZSh0b2tlbml6ZXIpO1xuICAgICAgICBpZiAob3B0aW9ucy5vbkNhY2hlS2V5KSB7XG4gICAgICAgICAgICBub2RlLmNhY2hlS2V5ID0gb3B0aW9ucy5vbkNhY2hlS2V5KHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXNzZXJ0IHdoZXRoZXIgYWNoaWV2ZWQgdG8gRU9GXG4gICAgICAgIGlmIChjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLykge1xuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgc291cmNlW2NvbnRleHQub2Zmc2V0XSB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcGFyc2UgfTtcbn1cbmZ1bmN0aW9uIGdldFRva2VuQ2FwdGlvbih0b2tlbikge1xuICAgIGlmICh0b2tlbi50eXBlID09PSAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLykge1xuICAgICAgICByZXR1cm4gJ0VPRic7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSAodG9rZW4udmFsdWUgfHwgJycpLnJlcGxhY2UoL1xccj9cXG4vZ3UsICdcXFxcbicpO1xuICAgIHJldHVybiBuYW1lLmxlbmd0aCA+IDEwID8gbmFtZS5zbGljZSgwLCA5KSArICfigKYnIDogbmFtZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtZXIoYXN0LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuKSB7XG4gICAgY29uc3QgX2NvbnRleHQgPSB7XG4gICAgICAgIGFzdCxcbiAgICAgICAgaGVscGVyczogbmV3IFNldCgpXG4gICAgfTtcbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XG4gICAgY29uc3QgaGVscGVyID0gKG5hbWUpID0+IHtcbiAgICAgICAgX2NvbnRleHQuaGVscGVycy5hZGQobmFtZSk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH07XG4gICAgcmV0dXJuIHsgY29udGV4dCwgaGVscGVyIH07XG59XG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGVzKG5vZGVzLCB0cmFuc2Zvcm1lcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJhdmVyc2VOb2RlKG5vZGVzW2ldLCB0cmFuc2Zvcm1lcik7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhdmVyc2VOb2RlKG5vZGUsIHRyYW5zZm9ybWVyKSB7XG4gICAgLy8gVE9ETzogaWYgd2UgbmVlZCBwcmUtaG9vayBvZiB0cmFuc2Zvcm0sIHNob3VsZCBiZSBpbXBsZW1lbnRlZCB0byBoZXJlXG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAxIC8qIE5vZGVUeXBlcy5QbHVyYWwgKi86XG4gICAgICAgICAgICB0cmF2ZXJzZU5vZGVzKG5vZGUuY2FzZXMsIHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcInBsdXJhbFwiIC8qIEhlbHBlck5hbWVNYXAuUExVUkFMICovKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIgLyogTm9kZVR5cGVzLk1lc3NhZ2UgKi86XG4gICAgICAgICAgICB0cmF2ZXJzZU5vZGVzKG5vZGUuaXRlbXMsIHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbGlua2VkID0gbm9kZTtcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZShsaW5rZWQua2V5LCB0cmFuc2Zvcm1lcik7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJsaW5rZWRcIiAvKiBIZWxwZXJOYW1lTWFwLkxJTktFRCAqLyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJ0eXBlXCIgLyogSGVscGVyTmFtZU1hcC5UWVBFICovKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNSAvKiBOb2RlVHlwZXMuTGlzdCAqLzpcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImludGVycG9sYXRlXCIgLyogSGVscGVyTmFtZU1hcC5JTlRFUlBPTEFURSAqLyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJsaXN0XCIgLyogSGVscGVyTmFtZU1hcC5MSVNUICovKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcIm5hbWVkXCIgLyogSGVscGVyTmFtZU1hcC5OQU1FRCAqLyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogaWYgd2UgbmVlZCBwb3N0LWhvb2sgb2YgdHJhbnNmb3JtLCBzaG91bGQgYmUgaW1wbGVtZW50ZWQgdG8gaGVyZVxufVxuLy8gdHJhbnNmb3JtIEFTVFxuZnVuY3Rpb24gdHJhbnNmb3JtKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbikge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVHJhbnNmb3JtZXIoYXN0KTtcbiAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJub3JtYWxpemVcIiAvKiBIZWxwZXJOYW1lTWFwLk5PUk1BTElaRSAqLyk7XG4gICAgLy8gdHJhdmVyc2VcbiAgICBhc3QuYm9keSAmJiB0cmF2ZXJzZU5vZGUoYXN0LmJvZHksIHRyYW5zZm9ybWVyKTtcbiAgICAvLyBzZXQgbWV0YSBpbmZvcm1hdGlvblxuICAgIGNvbnN0IGNvbnRleHQgPSB0cmFuc2Zvcm1lci5jb250ZXh0KCk7XG4gICAgYXN0LmhlbHBlcnMgPSBBcnJheS5mcm9tKGNvbnRleHQuaGVscGVycyk7XG59XG5cbmZ1bmN0aW9uIG9wdGltaXplKGFzdCkge1xuICAgIGNvbnN0IGJvZHkgPSBhc3QuYm9keTtcbiAgICBpZiAoYm9keS50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovKSB7XG4gICAgICAgIG9wdGltaXplTWVzc2FnZU5vZGUoYm9keSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBib2R5LmNhc2VzLmZvckVhY2goYyA9PiBvcHRpbWl6ZU1lc3NhZ2VOb2RlKGMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzdDtcbn1cbmZ1bmN0aW9uIG9wdGltaXplTWVzc2FnZU5vZGUobWVzc2FnZSkge1xuICAgIGlmIChtZXNzYWdlLml0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBpdGVtID0gbWVzc2FnZS5pdGVtc1swXTtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuVGV4dCAqLyB8fCBpdGVtLnR5cGUgPT09IDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGljID0gaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnZhbHVlOyAvLyBvcHRpbWl6YXRpb24gZm9yIHNpemVcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG1lc3NhZ2UuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoIShpdGVtLnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLlRleHQgKi8gfHwgaXRlbS50eXBlID09PSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzLnB1c2goaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IG1lc3NhZ2UuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnN0YXRpYyA9IGpvaW4odmFsdWVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBtZXNzYWdlLml0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLlRleHQgKi8gfHwgaXRlbS50eXBlID09PSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnZhbHVlOyAvLyBvcHRpbWl6YXRpb24gZm9yIHNpemVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IEVSUk9SX0RPTUFJTiQxID0gJ21pbmlmaWVyJztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmZ1bmN0aW9uIG1pbmlmeShub2RlKSB7XG4gICAgbm9kZS50ID0gbm9kZS50eXBlO1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgMCAvKiBOb2RlVHlwZXMuUmVzb3VyY2UgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gbm9kZTtcbiAgICAgICAgICAgIG1pbmlmeShyZXNvdXJjZS5ib2R5KTtcbiAgICAgICAgICAgIHJlc291cmNlLmIgPSByZXNvdXJjZS5ib2R5O1xuICAgICAgICAgICAgZGVsZXRlIHJlc291cmNlLmJvZHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDEgLyogTm9kZVR5cGVzLlBsdXJhbCAqLzoge1xuICAgICAgICAgICAgY29uc3QgcGx1cmFsID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGNhc2VzID0gcGx1cmFsLmNhc2VzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG1pbmlmeShjYXNlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbHVyYWwuYyA9IGNhc2VzO1xuICAgICAgICAgICAgZGVsZXRlIHBsdXJhbC5jYXNlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMiAvKiBOb2RlVHlwZXMuTWVzc2FnZSAqLzoge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5vZGU7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1lc3NhZ2UuaXRlbXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWluaWZ5KGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UuaSA9IGl0ZW1zO1xuICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2UuaXRlbXM7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5zdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnMgPSBtZXNzYWdlLnN0YXRpYztcbiAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZS5zdGF0aWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDMgLyogTm9kZVR5cGVzLlRleHQgKi86XG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLzpcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLzpcbiAgICAgICAgY2FzZSA3IC8qIE5vZGVUeXBlcy5MaW5rZWRLZXkgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICBpZiAodmFsdWVOb2RlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVOb2RlLnYgPSB2YWx1ZU5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlTm9kZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNiAvKiBOb2RlVHlwZXMuTGlua2VkICovOiB7XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSBub2RlO1xuICAgICAgICAgICAgbWluaWZ5KGxpbmtlZC5rZXkpO1xuICAgICAgICAgICAgbGlua2VkLmsgPSBsaW5rZWQua2V5O1xuICAgICAgICAgICAgZGVsZXRlIGxpbmtlZC5rZXk7XG4gICAgICAgICAgICBpZiAobGlua2VkLm1vZGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgbWluaWZ5KGxpbmtlZC5tb2RpZmllcik7XG4gICAgICAgICAgICAgICAgbGlua2VkLm0gPSBsaW5rZWQubW9kaWZpZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxpbmtlZC5tb2RpZmllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNSAvKiBOb2RlVHlwZXMuTGlzdCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IG5vZGU7XG4gICAgICAgICAgICBsaXN0LmkgPSBsaXN0LmluZGV4O1xuICAgICAgICAgICAgZGVsZXRlIGxpc3QuaW5kZXg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lZCA9IG5vZGU7XG4gICAgICAgICAgICBuYW1lZC5rID0gbmFtZWQua2V5O1xuICAgICAgICAgICAgZGVsZXRlIG5hbWVkLmtleTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29tcGlsZUVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOSEFORExFRF9NSU5JRklFUl9OT0RFX1RZUEUsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBFUlJPUl9ET01BSU4kMSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW25vZGUudHlwZV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlIG5vZGUudHlwZTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3RyaXBsZS1zbGFzaC1yZWZlcmVuY2Vcbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwic291cmNlLW1hcC1qc1wiIC8+XG5jb25zdCBFUlJPUl9ET01BSU4gPSAncGFyc2VyJztcbmZ1bmN0aW9uIGNyZWF0ZUNvZGVHZW5lcmF0b3IoYXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzb3VyY2VNYXAsIGZpbGVuYW1lLCBicmVha0xpbmVDb2RlLCBuZWVkSW5kZW50OiBfbmVlZEluZGVudCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBsb2NhdGlvbiA9IG9wdGlvbnMubG9jYXRpb24gIT09IGZhbHNlO1xuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgY29kZTogJycsXG4gICAgICAgIGNvbHVtbjogMSxcbiAgICAgICAgbGluZTogMSxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBtYXA6IHVuZGVmaW5lZCxcbiAgICAgICAgYnJlYWtMaW5lQ29kZSxcbiAgICAgICAgbmVlZEluZGVudDogX25lZWRJbmRlbnQsXG4gICAgICAgIGluZGVudExldmVsOiAwXG4gICAgfTtcbiAgICBpZiAobG9jYXRpb24gJiYgYXN0LmxvYykge1xuICAgICAgICBfY29udGV4dC5zb3VyY2UgPSBhc3QubG9jLnNvdXJjZTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xuICAgIGZ1bmN0aW9uIHB1c2goY29kZSwgbm9kZSkge1xuICAgICAgICBfY29udGV4dC5jb2RlICs9IGNvZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9uZXdsaW5lKG4sIHdpdGhCcmVha0xpbmUgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IF9icmVha0xpbmVDb2RlID0gd2l0aEJyZWFrTGluZSA/IGJyZWFrTGluZUNvZGUgOiAnJztcbiAgICAgICAgcHVzaChfbmVlZEluZGVudCA/IF9icmVha0xpbmVDb2RlICsgYCAgYC5yZXBlYXQobikgOiBfYnJlYWtMaW5lQ29kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGVudCh3aXRoTmV3TGluZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSArK19jb250ZXh0LmluZGVudExldmVsO1xuICAgICAgICB3aXRoTmV3TGluZSAmJiBfbmV3bGluZShsZXZlbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlaW5kZW50KHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBsZXZlbCA9IC0tX2NvbnRleHQuaW5kZW50TGV2ZWw7XG4gICAgICAgIHdpdGhOZXdMaW5lICYmIF9uZXdsaW5lKGxldmVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV3bGluZSgpIHtcbiAgICAgICAgX25ld2xpbmUoX2NvbnRleHQuaW5kZW50TGV2ZWwpO1xuICAgIH1cbiAgICBjb25zdCBoZWxwZXIgPSAoa2V5KSA9PiBgXyR7a2V5fWA7XG4gICAgY29uc3QgbmVlZEluZGVudCA9ICgpID0+IF9jb250ZXh0Lm5lZWRJbmRlbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHVzaCxcbiAgICAgICAgaW5kZW50LFxuICAgICAgICBkZWluZGVudCxcbiAgICAgICAgbmV3bGluZSxcbiAgICAgICAgaGVscGVyLFxuICAgICAgICBuZWVkSW5kZW50XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlTGlua2VkTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcbiAgICBjb25zdCB7IGhlbHBlciB9ID0gZ2VuZXJhdG9yO1xuICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcImxpbmtlZFwiIC8qIEhlbHBlck5hbWVNYXAuTElOS0VEICovKX0oYCk7XG4gICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5rZXkpO1xuICAgIGlmIChub2RlLm1vZGlmaWVyKSB7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGAsIGApO1xuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLm1vZGlmaWVyKTtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCwgX3R5cGVgKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGAsIHVuZGVmaW5lZCwgX3R5cGVgKTtcbiAgICB9XG4gICAgZ2VuZXJhdG9yLnB1c2goYClgKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlTWVzc2FnZU5vZGUoZ2VuZXJhdG9yLCBub2RlKSB7XG4gICAgY29uc3QgeyBoZWxwZXIsIG5lZWRJbmRlbnQgfSA9IGdlbmVyYXRvcjtcbiAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJub3JtYWxpemVcIiAvKiBIZWxwZXJOYW1lTWFwLk5PUk1BTElaRSAqLyl9KFtgKTtcbiAgICBnZW5lcmF0b3IuaW5kZW50KG5lZWRJbmRlbnQoKSk7XG4gICAgY29uc3QgbGVuZ3RoID0gbm9kZS5pdGVtcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLml0ZW1zW2ldKTtcbiAgICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKCcsICcpO1xuICAgIH1cbiAgICBnZW5lcmF0b3IuZGVpbmRlbnQobmVlZEluZGVudCgpKTtcbiAgICBnZW5lcmF0b3IucHVzaCgnXSknKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUGx1cmFsTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcbiAgICBjb25zdCB7IGhlbHBlciwgbmVlZEluZGVudCB9ID0gZ2VuZXJhdG9yO1xuICAgIGlmIChub2RlLmNhc2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwicGx1cmFsXCIgLyogSGVscGVyTmFtZU1hcC5QTFVSQUwgKi8pfShbYCk7XG4gICAgICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCgpKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gbm9kZS5jYXNlcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUuY2FzZXNbaV0pO1xuICAgICAgICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKCcsICcpO1xuICAgICAgICB9XG4gICAgICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KCkpO1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgXSlgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJlc291cmNlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGlmIChub2RlLmJvZHkpIHtcbiAgICAgICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5ib2R5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKCdudWxsJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGNvbnN0IHsgaGVscGVyIH0gPSBnZW5lcmF0b3I7XG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAwIC8qIE5vZGVUeXBlcy5SZXNvdXJjZSAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRlUmVzb3VyY2UoZ2VuZXJhdG9yLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEgLyogTm9kZVR5cGVzLlBsdXJhbCAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRlUGx1cmFsTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMiAvKiBOb2RlVHlwZXMuTWVzc2FnZSAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRlTWVzc2FnZU5vZGUoZ2VuZXJhdG9yLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRlTGlua2VkTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOCAvKiBOb2RlVHlwZXMuTGlua2VkTW9kaWZpZXIgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3IC8qIE5vZGVUeXBlcy5MaW5rZWRLZXkgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1IC8qIE5vZGVUeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKX0oJHtoZWxwZXIoXCJsaXN0XCIgLyogSGVscGVyTmFtZU1hcC5MSVNUICovKX0oJHtub2RlLmluZGV4fSkpYCwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0IC8qIE5vZGVUeXBlcy5OYW1lZCAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcImludGVycG9sYXRlXCIgLyogSGVscGVyTmFtZU1hcC5JTlRFUlBPTEFURSAqLyl9KCR7aGVscGVyKFwibmFtZWRcIiAvKiBIZWxwZXJOYW1lTWFwLk5BTUVEICovKX0oJHtKU09OLnN0cmluZ2lmeShub2RlLmtleSl9KSlgLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzIC8qIE5vZGVUeXBlcy5UZXh0ICovOlxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goSlNPTi5zdHJpbmdpZnkobm9kZS52YWx1ZSksIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29tcGlsZUVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOSEFORExFRF9DT0RFR0VOX05PREVfVFlQRSwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBkb21haW46IEVSUk9SX0RPTUFJTixcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW25vZGUudHlwZV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG4vLyBnZW5lcmF0ZSBjb2RlIGZyb20gQVNUXG5jb25zdCBnZW5lcmF0ZSA9IChhc3QsIG9wdGlvbnMgPSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4pID0+IHtcbiAgICBjb25zdCBtb2RlID0gaXNTdHJpbmcob3B0aW9ucy5tb2RlKSA/IG9wdGlvbnMubW9kZSA6ICdub3JtYWwnO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaXNTdHJpbmcob3B0aW9ucy5maWxlbmFtZSlcbiAgICAgICAgPyBvcHRpb25zLmZpbGVuYW1lXG4gICAgICAgIDogJ21lc3NhZ2UuaW50bCc7XG4gICAgY29uc3Qgc291cmNlTWFwID0gISFvcHRpb25zLnNvdXJjZU1hcDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBicmVha0xpbmVDb2RlID0gb3B0aW9ucy5icmVha0xpbmVDb2RlICE9IG51bGxcbiAgICAgICAgPyBvcHRpb25zLmJyZWFrTGluZUNvZGVcbiAgICAgICAgOiBtb2RlID09PSAnYXJyb3cnXG4gICAgICAgICAgICA/ICc7J1xuICAgICAgICAgICAgOiAnXFxuJztcbiAgICBjb25zdCBuZWVkSW5kZW50ID0gb3B0aW9ucy5uZWVkSW5kZW50ID8gb3B0aW9ucy5uZWVkSW5kZW50IDogbW9kZSAhPT0gJ2Fycm93JztcbiAgICBjb25zdCBoZWxwZXJzID0gYXN0LmhlbHBlcnMgfHwgW107XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gY3JlYXRlQ29kZUdlbmVyYXRvcihhc3QsIHtcbiAgICAgICAgbW9kZSxcbiAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgIHNvdXJjZU1hcCxcbiAgICAgICAgYnJlYWtMaW5lQ29kZSxcbiAgICAgICAgbmVlZEluZGVudFxuICAgIH0pO1xuICAgIGdlbmVyYXRvci5wdXNoKG1vZGUgPT09ICdub3JtYWwnID8gYGZ1bmN0aW9uIF9fbXNnX18gKGN0eCkge2AgOiBgKGN0eCkgPT4ge2ApO1xuICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCk7XG4gICAgaWYgKGhlbHBlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgY29uc3QgeyAke2pvaW4oaGVscGVycy5tYXAocyA9PiBgJHtzfTogXyR7c31gKSwgJywgJyl9IH0gPSBjdHhgKTtcbiAgICAgICAgZ2VuZXJhdG9yLm5ld2xpbmUoKTtcbiAgICB9XG4gICAgZ2VuZXJhdG9yLnB1c2goYHJldHVybiBgKTtcbiAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBhc3QpO1xuICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KTtcbiAgICBnZW5lcmF0b3IucHVzaChgfWApO1xuICAgIGRlbGV0ZSBhc3QuaGVscGVycztcbiAgICBjb25zdCB7IGNvZGUsIG1hcCB9ID0gZ2VuZXJhdG9yLmNvbnRleHQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3QsXG4gICAgICAgIGNvZGUsXG4gICAgICAgIG1hcDogbWFwID8gbWFwLnRvSlNPTigpIDogdW5kZWZpbmVkIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH07XG59O1xuXG5mdW5jdGlvbiBiYXNlQ29tcGlsZShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGFzc2lnbmVkT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgY29uc3Qgaml0ID0gISFhc3NpZ25lZE9wdGlvbnMuaml0O1xuICAgIGNvbnN0IGVuYWxiZU1pbmlmeSA9ICEhYXNzaWduZWRPcHRpb25zLm1pbmlmeTtcbiAgICBjb25zdCBlbmFtYmVPcHRpbWl6ZSA9IGFzc2lnbmVkT3B0aW9ucy5vcHRpbWl6ZSA9PSBudWxsID8gdHJ1ZSA6IGFzc2lnbmVkT3B0aW9ucy5vcHRpbWl6ZTtcbiAgICAvLyBwYXJzZSBzb3VyY2UgY29kZXNcbiAgICBjb25zdCBwYXJzZXIgPSBjcmVhdGVQYXJzZXIoYXNzaWduZWRPcHRpb25zKTtcbiAgICBjb25zdCBhc3QgPSBwYXJzZXIucGFyc2Uoc291cmNlKTtcbiAgICBpZiAoIWppdCkge1xuICAgICAgICAvLyB0cmFuc2Zvcm0gQVNUc1xuICAgICAgICB0cmFuc2Zvcm0oYXN0LCBhc3NpZ25lZE9wdGlvbnMpO1xuICAgICAgICAvLyBnZW5lcmF0ZSBqYXZhc2NyaXB0IGNvZGVzXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZShhc3QsIGFzc2lnbmVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBvcHRpbWl6ZSBBU1RzXG4gICAgICAgIGVuYW1iZU9wdGltaXplICYmIG9wdGltaXplKGFzdCk7XG4gICAgICAgIC8vIG1pbmltaXplIEFTVHNcbiAgICAgICAgZW5hbGJlTWluaWZ5ICYmIG1pbmlmeShhc3QpO1xuICAgICAgICAvLyBJbiBKSVQgbW9kZSwgbm8gYXN0IHRyYW5zZm9ybSwgbm8gY29kZSBnZW5lcmF0aW9uLlxuICAgICAgICByZXR1cm4geyBhc3QsIGNvZGU6ICcnIH07XG4gICAgfVxufVxuXG5leHBvcnQgeyBDb21waWxlRXJyb3JDb2RlcywgRVJST1JfRE9NQUlOJDIgYXMgRVJST1JfRE9NQUlOLCBMT0NBVElPTl9TVFVCLCBiYXNlQ29tcGlsZSwgY3JlYXRlQ29tcGlsZUVycm9yLCBjcmVhdGVMb2NhdGlvbiwgY3JlYXRlUGFyc2VyLCBjcmVhdGVQb3NpdGlvbiwgZGVmYXVsdE9uRXJyb3IsIGRldGVjdEh0bWxUYWcsIGVycm9yTWVzc2FnZXMgfTtcbiIsIi8qIVxuICAqIGNvcmUtYmFzZSB2OS4xMC4yXG4gICogKGMpIDIwMjQga2F6dXlhIGthd2FndWNoaVxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAgKi9cbmltcG9ydCB7IGdldEdsb2JhbFRoaXMsIGlzT2JqZWN0LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzUGxhaW5PYmplY3QsIGFzc2lnbiwgam9pbiwgdG9EaXNwbGF5U3RyaW5nLCBpc0FycmF5LCBmb3JtYXQgYXMgZm9ybWF0JDEsIGluY3JlbWVudGVyLCBpc1Byb21pc2UsIGlzQm9vbGVhbiwgd2FybiwgaXNSZWdFeHAsIHdhcm5PbmNlLCBlc2NhcGVIdG1sLCBpbkJyb3dzZXIsIG1hcmssIG1lYXN1cmUsIGlzRW1wdHlPYmplY3QsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5LCBpc0RhdGUgfSBmcm9tICdAaW50bGlmeS9zaGFyZWQnO1xuaW1wb3J0IHsgQ29tcGlsZUVycm9yQ29kZXMsIGNyZWF0ZUNvbXBpbGVFcnJvciwgZGV0ZWN0SHRtbFRhZywgZGVmYXVsdE9uRXJyb3IsIGJhc2VDb21waWxlIGFzIGJhc2VDb21waWxlJDEgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcbmV4cG9ydCB7IENvbXBpbGVFcnJvckNvZGVzLCBjcmVhdGVDb21waWxlRXJyb3IgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcblxuLyoqXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cbiAqIGlzdGFuYnVsLWlnbm9yZS1uZXh0XG4gKi9cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX0pJVF9DT01QSUxBVElPTl9fID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX0RST1BfTUVTU0FHRV9DT01QSUxFUl9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXyA9IGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgcGF0aFN0YXRlTWFjaGluZSA9ICBbXTtcbnBhdGhTdGF0ZU1hY2hpbmVbMCAvKiBTdGF0ZXMuQkVGT1JFX1BBVEggKi9dID0ge1xuICAgIFtcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqL106IFswIC8qIFN0YXRlcy5CRUZPUkVfUEFUSCAqL10sXG4gICAgW1wiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqL10sXG4gICAgW1wib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBTdGF0ZXMuQUZURVJfUEFUSCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzEgLyogU3RhdGVzLklOX1BBVEggKi9dID0ge1xuICAgIFtcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqL106IFsxIC8qIFN0YXRlcy5JTl9QQVRIICovXSxcbiAgICBbXCIuXCIgLyogUGF0aENoYXJUeXBlcy5ET1QgKi9dOiBbMiAvKiBTdGF0ZXMuQkVGT1JFX0lERU5UICovXSxcbiAgICBbXCJbXCIgLyogUGF0aENoYXJUeXBlcy5MRUZUX0JSQUNLRVQgKi9dOiBbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogWzcgLyogU3RhdGVzLkFGVEVSX1BBVEggKi9dXG59O1xucGF0aFN0YXRlTWFjaGluZVsyIC8qIFN0YXRlcy5CRUZPUkVfSURFTlQgKi9dID0ge1xuICAgIFtcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqL106IFsyIC8qIFN0YXRlcy5CRUZPUkVfSURFTlQgKi9dLFxuICAgIFtcImlcIiAvKiBQYXRoQ2hhclR5cGVzLklERU5UICovXTogWzMgLyogU3RhdGVzLklOX0lERU5UICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCIwXCIgLyogUGF0aENoYXJUeXBlcy5aRVJPICovXTogWzMgLyogU3RhdGVzLklOX0lERU5UICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi9dID0ge1xuICAgIFtcImlcIiAvKiBQYXRoQ2hhclR5cGVzLklERU5UICovXTogWzMgLyogU3RhdGVzLklOX0lERU5UICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCIwXCIgLyogUGF0aENoYXJUeXBlcy5aRVJPICovXTogWzMgLyogU3RhdGVzLklOX0lERU5UICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJ3XCIgLyogUGF0aENoYXJUeXBlcy5XT1JLU1BBQ0UgKi9dOiBbMSAvKiBTdGF0ZXMuSU5fUEFUSCAqLywgMSAvKiBBY3Rpb25zLlBVU0ggKi9dLFxuICAgIFtcIi5cIiAvKiBQYXRoQ2hhclR5cGVzLkRPVCAqL106IFsyIC8qIFN0YXRlcy5CRUZPUkVfSURFTlQgKi8sIDEgLyogQWN0aW9ucy5QVVNIICovXSxcbiAgICBbXCJbXCIgLyogUGF0aENoYXJUeXBlcy5MRUZUX0JSQUNLRVQgKi9dOiBbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sIDEgLyogQWN0aW9ucy5QVVNIICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IFs3IC8qIFN0YXRlcy5BRlRFUl9QQVRIICovLCAxIC8qIEFjdGlvbnMuUFVTSCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovXSA9IHtcbiAgICBbXCInXCIgLyogUGF0aENoYXJUeXBlcy5TSU5HTEVfUVVPVEUgKi9dOiBbNSAvKiBTdGF0ZXMuSU5fU0lOR0xFX1FVT1RFICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJcXFwiXCIgLyogUGF0aENoYXJUeXBlcy5ET1VCTEVfUVVPVEUgKi9dOiBbNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJbXCIgLyogUGF0aENoYXJUeXBlcy5MRUZUX0JSQUNLRVQgKi9dOiBbXG4gICAgICAgIDQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovLFxuICAgICAgICAyIC8qIEFjdGlvbnMuSU5DX1NVQl9QQVRIX0RFUFRIICovXG4gICAgXSxcbiAgICBbXCJdXCIgLyogUGF0aENoYXJUeXBlcy5SSUdIVF9CUkFDS0VUICovXTogWzEgLyogU3RhdGVzLklOX1BBVEggKi8sIDMgLyogQWN0aW9ucy5QVVNIX1NVQl9QQVRIICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IDggLyogU3RhdGVzLkVSUk9SICovLFxuICAgIFtcImxcIiAvKiBQYXRoQ2hhclR5cGVzLkVMU0UgKi9dOiBbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dXG59O1xucGF0aFN0YXRlTWFjaGluZVs1IC8qIFN0YXRlcy5JTl9TSU5HTEVfUVVPVEUgKi9dID0ge1xuICAgIFtcIidcIiAvKiBQYXRoQ2hhclR5cGVzLlNJTkdMRV9RVU9URSAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL10sXG4gICAgW1wib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi9dOiA4IC8qIFN0YXRlcy5FUlJPUiAqLyxcbiAgICBbXCJsXCIgLyogUGF0aENoYXJUeXBlcy5FTFNFICovXTogWzUgLyogU3RhdGVzLklOX1NJTkdMRV9RVU9URSAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzYgLyogU3RhdGVzLklOX0RPVUJMRV9RVU9URSAqL10gPSB7XG4gICAgW1wiXFxcIlwiIC8qIFBhdGhDaGFyVHlwZXMuRE9VQkxFX1FVT1RFICovXTogWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IDggLyogU3RhdGVzLkVSUk9SICovLFxuICAgIFtcImxcIiAvKiBQYXRoQ2hhclR5cGVzLkVMU0UgKi9dOiBbNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXVxufTtcbi8qKlxuICogQ2hlY2sgaWYgYW4gZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgdmFsdWUuXG4gKi9cbmNvbnN0IGxpdGVyYWxWYWx1ZVJFID0gL15cXHM/KD86dHJ1ZXxmYWxzZXwtP1tcXGQuXSt8J1teJ10qJ3xcIlteXCJdKlwiKVxccz8kLztcbmZ1bmN0aW9uIGlzTGl0ZXJhbChleHApIHtcbiAgICByZXR1cm4gbGl0ZXJhbFZhbHVlUkUudGVzdChleHApO1xufVxuLyoqXG4gKiBTdHJpcCBxdW90ZXMgZnJvbSBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzdHJpcFF1b3RlcyhzdHIpIHtcbiAgICBjb25zdCBhID0gc3RyLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3QgYiA9IHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gYSA9PT0gYiAmJiAoYSA9PT0gMHgyMiB8fCBhID09PSAweDI3KSA/IHN0ci5zbGljZSgxLCAtMSkgOiBzdHI7XG59XG4vKipcbiAqIERldGVybWluZSB0aGUgdHlwZSBvZiBhIGNoYXJhY3RlciBpbiBhIGtleXBhdGguXG4gKi9cbmZ1bmN0aW9uIGdldFBhdGhDaGFyVHlwZShjaCkge1xuICAgIGlmIChjaCA9PT0gdW5kZWZpbmVkIHx8IGNoID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovO1xuICAgIH1cbiAgICBjb25zdCBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgY2FzZSAweDViOiAvLyBbXG4gICAgICAgIGNhc2UgMHg1ZDogLy8gXVxuICAgICAgICBjYXNlIDB4MmU6IC8vIC5cbiAgICAgICAgY2FzZSAweDIyOiAvLyBcIlxuICAgICAgICBjYXNlIDB4Mjc6IC8vICdcbiAgICAgICAgICAgIHJldHVybiBjaDtcbiAgICAgICAgY2FzZSAweDVmOiAvLyBfXG4gICAgICAgIGNhc2UgMHgyNDogLy8gJFxuICAgICAgICBjYXNlIDB4MmQ6IC8vIC1cbiAgICAgICAgICAgIHJldHVybiBcImlcIiAvKiBQYXRoQ2hhclR5cGVzLklERU5UICovO1xuICAgICAgICBjYXNlIDB4MDk6IC8vIFRhYiAoSFQpXG4gICAgICAgIGNhc2UgMHgwYTogLy8gTmV3bGluZSAoTEYpXG4gICAgICAgIGNhc2UgMHgwZDogLy8gUmV0dXJuIChDUilcbiAgICAgICAgY2FzZSAweGEwOiAvLyBOby1icmVhayBzcGFjZSAoTkJTUClcbiAgICAgICAgY2FzZSAweGZlZmY6IC8vIEJ5dGUgT3JkZXIgTWFyayAoQk9NKVxuICAgICAgICBjYXNlIDB4MjAyODogLy8gTGluZSBTZXBhcmF0b3IgKExTKVxuICAgICAgICBjYXNlIDB4MjAyOTogLy8gUGFyYWdyYXBoIFNlcGFyYXRvciAoUFMpXG4gICAgICAgICAgICByZXR1cm4gXCJ3XCIgLyogUGF0aENoYXJUeXBlcy5XT1JLU1BBQ0UgKi87XG4gICAgfVxuICAgIHJldHVybiBcImlcIiAvKiBQYXRoQ2hhclR5cGVzLklERU5UICovO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBzdWJQYXRoLCByZXR1cm4gaXRzIHBsYWluIGZvcm0gaWYgaXQgaXNcbiAqIGEgbGl0ZXJhbCBzdHJpbmcgb3IgbnVtYmVyLiBPdGhlcndpc2UgcHJlcGVuZCB0aGVcbiAqIGR5bmFtaWMgaW5kaWNhdG9yICgqKS5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0U3ViUGF0aChwYXRoKSB7XG4gICAgY29uc3QgdHJpbW1lZCA9IHBhdGgudHJpbSgpO1xuICAgIC8vIGludmFsaWQgbGVhZGluZyAwXG4gICAgaWYgKHBhdGguY2hhckF0KDApID09PSAnMCcgJiYgaXNOYU4ocGFyc2VJbnQocGF0aCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzTGl0ZXJhbCh0cmltbWVkKVxuICAgICAgICA/IHN0cmlwUXVvdGVzKHRyaW1tZWQpXG4gICAgICAgIDogXCIqXCIgLyogUGF0aENoYXJUeXBlcy5BU1RBUklTSyAqLyArIHRyaW1tZWQ7XG59XG4vKipcbiAqIFBhcnNlIGEgc3RyaW5nIHBhdGggaW50byBhbiBhcnJheSBvZiBzZWdtZW50c1xuICovXG5mdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGxldCBtb2RlID0gMCAvKiBTdGF0ZXMuQkVGT1JFX1BBVEggKi87XG4gICAgbGV0IHN1YlBhdGhEZXB0aCA9IDA7XG4gICAgbGV0IGM7XG4gICAgbGV0IGtleTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGxldCBuZXdDaGFyO1xuICAgIGxldCB0eXBlO1xuICAgIGxldCB0cmFuc2l0aW9uO1xuICAgIGxldCBhY3Rpb247XG4gICAgbGV0IHR5cGVNYXA7XG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuICAgIGFjdGlvbnNbMCAvKiBBY3Rpb25zLkFQUEVORCAqL10gPSAoKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2V5ID0gbmV3Q2hhcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGtleSArPSBuZXdDaGFyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBhY3Rpb25zWzEgLyogQWN0aW9ucy5QVVNIICovXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIGtleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgYWN0aW9uc1syIC8qIEFjdGlvbnMuSU5DX1NVQl9QQVRIX0RFUFRIICovXSA9ICgpID0+IHtcbiAgICAgICAgYWN0aW9uc1swIC8qIEFjdGlvbnMuQVBQRU5EICovXSgpO1xuICAgICAgICBzdWJQYXRoRGVwdGgrKztcbiAgICB9O1xuICAgIGFjdGlvbnNbMyAvKiBBY3Rpb25zLlBVU0hfU1VCX1BBVEggKi9dID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3ViUGF0aERlcHRoID4gMCkge1xuICAgICAgICAgICAgc3ViUGF0aERlcHRoLS07XG4gICAgICAgICAgICBtb2RlID0gNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi87XG4gICAgICAgICAgICBhY3Rpb25zWzAgLyogQWN0aW9ucy5BUFBFTkQgKi9dKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJQYXRoRGVwdGggPSAwO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5ID0gZm9ybWF0U3ViUGF0aChrZXkpO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zWzEgLyogQWN0aW9ucy5QVVNIICovXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBtYXliZVVuZXNjYXBlUXVvdGUoKSB7XG4gICAgICAgIGNvbnN0IG5leHRDaGFyID0gcGF0aFtpbmRleCArIDFdO1xuICAgICAgICBpZiAoKG1vZGUgPT09IDUgLyogU3RhdGVzLklOX1NJTkdMRV9RVU9URSAqLyAmJlxuICAgICAgICAgICAgbmV4dENoYXIgPT09IFwiJ1wiIC8qIFBhdGhDaGFyVHlwZXMuU0lOR0xFX1FVT1RFICovKSB8fFxuICAgICAgICAgICAgKG1vZGUgPT09IDYgLyogU3RhdGVzLklOX0RPVUJMRV9RVU9URSAqLyAmJlxuICAgICAgICAgICAgICAgIG5leHRDaGFyID09PSBcIlxcXCJcIiAvKiBQYXRoQ2hhclR5cGVzLkRPVUJMRV9RVU9URSAqLykpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBuZXdDaGFyID0gJ1xcXFwnICsgbmV4dENoYXI7XG4gICAgICAgICAgICBhY3Rpb25zWzAgLyogQWN0aW9ucy5BUFBFTkQgKi9dKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobW9kZSAhPT0gbnVsbCkge1xuICAgICAgICBpbmRleCsrO1xuICAgICAgICBjID0gcGF0aFtpbmRleF07XG4gICAgICAgIGlmIChjID09PSAnXFxcXCcgJiYgbWF5YmVVbmVzY2FwZVF1b3RlKCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHR5cGUgPSBnZXRQYXRoQ2hhclR5cGUoYyk7XG4gICAgICAgIHR5cGVNYXAgPSBwYXRoU3RhdGVNYWNoaW5lW21vZGVdO1xuICAgICAgICB0cmFuc2l0aW9uID0gdHlwZU1hcFt0eXBlXSB8fCB0eXBlTWFwW1wibFwiIC8qIFBhdGhDaGFyVHlwZXMuRUxTRSAqL10gfHwgOCAvKiBTdGF0ZXMuRVJST1IgKi87XG4gICAgICAgIC8vIGNoZWNrIHBhcnNlIGVycm9yXG4gICAgICAgIGlmICh0cmFuc2l0aW9uID09PSA4IC8qIFN0YXRlcy5FUlJPUiAqLykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1vZGUgPSB0cmFuc2l0aW9uWzBdO1xuICAgICAgICBpZiAodHJhbnNpdGlvblsxXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25zW3RyYW5zaXRpb25bMV1dO1xuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIG5ld0NoYXIgPSBjO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24oKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBwYXJzZSBmaW5pc2hcbiAgICAgICAgaWYgKG1vZGUgPT09IDcgLyogU3RhdGVzLkFGVEVSX1BBVEggKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gcGF0aCB0b2tlbiBjYWNoZVxuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIGtleS12YWx1ZSBtZXNzYWdlIHJlc29sdmVyXG4gKlxuICogQHJlbWFya3NcbiAqIFJlc29sdmVzIG1lc3NhZ2VzIHdpdGggdGhlIGtleS12YWx1ZSBzdHJ1Y3R1cmUuIE5vdGUgdGhhdCBtZXNzYWdlcyB3aXRoIGEgaGllcmFyY2hpY2FsIHN0cnVjdHVyZSBzdWNoIGFzIG9iamVjdHMgY2Fubm90IGJlIHJlc29sdmVkXG4gKlxuICogQHBhcmFtIG9iaiAtIEEgdGFyZ2V0IG9iamVjdCB0byBiZSByZXNvbHZlZCB3aXRoIHBhdGhcbiAqIEBwYXJhbSBwYXRoIC0gQSB7QGxpbmsgUGF0aCB8IHBhdGh9IHRvIHJlc29sdmUgdGhlIHZhbHVlIG9mIG1lc3NhZ2VcbiAqXG4gKiBAcmV0dXJucyBBIHJlc29sdmVkIHtAbGluayBQYXRoVmFsdWUgfCBwYXRoIHZhbHVlfVxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5mdW5jdGlvbiByZXNvbHZlV2l0aEtleVZhbHVlKG9iaiwgcGF0aCkge1xuICAgIHJldHVybiBpc09iamVjdChvYmopID8gb2JqW3BhdGhdIDogbnVsbDtcbn1cbi8qKlxuICogbWVzc2FnZSByZXNvbHZlclxuICpcbiAqIEByZW1hcmtzXG4gKiBSZXNvbHZlcyBtZXNzYWdlcy4gbWVzc2FnZXMgd2l0aCBhIGhpZXJhcmNoaWNhbCBzdHJ1Y3R1cmUgc3VjaCBhcyBvYmplY3RzIGNhbiBiZSByZXNvbHZlZC4gVGhpcyByZXNvbHZlciBpcyB1c2VkIGluIFZ1ZUkxOG4gYXMgZGVmYXVsdC5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gQSB0YXJnZXQgb2JqZWN0IHRvIGJlIHJlc29sdmVkIHdpdGggcGF0aFxuICogQHBhcmFtIHBhdGggLSBBIHtAbGluayBQYXRoIHwgcGF0aH0gdG8gcmVzb2x2ZSB0aGUgdmFsdWUgb2YgbWVzc2FnZVxuICpcbiAqIEByZXR1cm5zIEEgcmVzb2x2ZWQge0BsaW5rIFBhdGhWYWx1ZSB8IHBhdGggdmFsdWV9XG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVWYWx1ZShvYmosIHBhdGgpIHtcbiAgICAvLyBjaGVjayBvYmplY3RcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIHBhcnNlIHBhdGhcbiAgICBsZXQgaGl0ID0gY2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmICghaGl0KSB7XG4gICAgICAgIGhpdCA9IHBhcnNlKHBhdGgpO1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGF0aCwgaGl0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjaGVjayBoaXRcbiAgICBpZiAoIWhpdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBwYXRoIHZhbHVlXG4gICAgY29uc3QgbGVuID0gaGl0Lmxlbmd0aDtcbiAgICBsZXQgbGFzdCA9IG9iajtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgY29uc3QgdmFsID0gbGFzdFtoaXRbaV1dO1xuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGxhc3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsYXN0ID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBsYXN0O1xufVxuXG5jb25zdCBERUZBVUxUX01PRElGSUVSID0gKHN0cikgPT4gc3RyO1xuY29uc3QgREVGQVVMVF9NRVNTQUdFID0gKGN0eCkgPT4gJyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmNvbnN0IERFRkFVTFRfTUVTU0FHRV9EQVRBX1RZUEUgPSAndGV4dCc7XG5jb25zdCBERUZBVUxUX05PUk1BTElaRSA9ICh2YWx1ZXMpID0+IHZhbHVlcy5sZW5ndGggPT09IDAgPyAnJyA6IGpvaW4odmFsdWVzKTtcbmNvbnN0IERFRkFVTFRfSU5URVJQT0xBVEUgPSB0b0Rpc3BsYXlTdHJpbmc7XG5mdW5jdGlvbiBwbHVyYWxEZWZhdWx0KGNob2ljZSwgY2hvaWNlc0xlbmd0aCkge1xuICAgIGNob2ljZSA9IE1hdGguYWJzKGNob2ljZSk7XG4gICAgaWYgKGNob2ljZXNMZW5ndGggPT09IDIpIHtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIHJldHVybiBjaG9pY2VcbiAgICAgICAgICAgID8gY2hvaWNlID4gMVxuICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgIDogMFxuICAgICAgICAgICAgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gY2hvaWNlID8gTWF0aC5taW4oY2hvaWNlLCAyKSA6IDA7XG59XG5mdW5jdGlvbiBnZXRQbHVyYWxJbmRleChvcHRpb25zKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgaW5kZXggPSBpc051bWJlcihvcHRpb25zLnBsdXJhbEluZGV4KVxuICAgICAgICA/IG9wdGlvbnMucGx1cmFsSW5kZXhcbiAgICAgICAgOiAtMTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gb3B0aW9ucy5uYW1lZCAmJiAoaXNOdW1iZXIob3B0aW9ucy5uYW1lZC5jb3VudCkgfHwgaXNOdW1iZXIob3B0aW9ucy5uYW1lZC5uKSlcbiAgICAgICAgPyBpc051bWJlcihvcHRpb25zLm5hbWVkLmNvdW50KVxuICAgICAgICAgICAgPyBvcHRpb25zLm5hbWVkLmNvdW50XG4gICAgICAgICAgICA6IGlzTnVtYmVyKG9wdGlvbnMubmFtZWQubilcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQublxuICAgICAgICAgICAgICAgIDogaW5kZXhcbiAgICAgICAgOiBpbmRleDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWVkKHBsdXJhbEluZGV4LCBwcm9wcykge1xuICAgIGlmICghcHJvcHMuY291bnQpIHtcbiAgICAgICAgcHJvcHMuY291bnQgPSBwbHVyYWxJbmRleDtcbiAgICB9XG4gICAgaWYgKCFwcm9wcy5uKSB7XG4gICAgICAgIHByb3BzLm4gPSBwbHVyYWxJbmRleDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlQ29udGV4dChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICBjb25zdCBwbHVyYWxJbmRleCA9IGdldFBsdXJhbEluZGV4KG9wdGlvbnMpO1xuICAgIGNvbnN0IHBsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxuICAgICAgICBpc1N0cmluZyhsb2NhbGUpICYmXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5wbHVyYWxSdWxlc1tsb2NhbGVdKVxuICAgICAgICA/IG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXVxuICAgICAgICA6IHBsdXJhbERlZmF1bHQ7XG4gICAgY29uc3Qgb3JnUGx1cmFsUnVsZSA9IGlzT2JqZWN0KG9wdGlvbnMucGx1cmFsUnVsZXMpICYmXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbihvcHRpb25zLnBsdXJhbFJ1bGVzW2xvY2FsZV0pXG4gICAgICAgID8gcGx1cmFsRGVmYXVsdFxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwbHVyYWwgPSAobWVzc2FnZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzW3BsdXJhbFJ1bGUocGx1cmFsSW5kZXgsIG1lc3NhZ2VzLmxlbmd0aCwgb3JnUGx1cmFsUnVsZSldO1xuICAgIH07XG4gICAgY29uc3QgX2xpc3QgPSBvcHRpb25zLmxpc3QgfHwgW107XG4gICAgY29uc3QgbGlzdCA9IChpbmRleCkgPT4gX2xpc3RbaW5kZXhdO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgX25hbWVkID0gb3B0aW9ucy5uYW1lZCB8fCB7fTtcbiAgICBpc051bWJlcihvcHRpb25zLnBsdXJhbEluZGV4KSAmJiBub3JtYWxpemVOYW1lZChwbHVyYWxJbmRleCwgX25hbWVkKTtcbiAgICBjb25zdCBuYW1lZCA9IChrZXkpID0+IF9uYW1lZFtrZXldO1xuICAgIGZ1bmN0aW9uIG1lc3NhZ2Uoa2V5KSB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBjb25zdCBtc2cgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZXMpXG4gICAgICAgICAgICA/IG9wdGlvbnMubWVzc2FnZXMoa2V5KVxuICAgICAgICAgICAgOiBpc09iamVjdChvcHRpb25zLm1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1trZXldXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICFtc2dcbiAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGFyZW50Lm1lc3NhZ2Uoa2V5KSAvLyByZXNvbHZlIGZyb20gcGFyZW50IG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgOiBERUZBVUxUX01FU1NBR0VcbiAgICAgICAgICAgIDogbXNnO1xuICAgIH1cbiAgICBjb25zdCBfbW9kaWZpZXIgPSAobmFtZSkgPT4gb3B0aW9ucy5tb2RpZmllcnNcbiAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1tuYW1lXVxuICAgICAgICA6IERFRkFVTFRfTU9ESUZJRVI7XG4gICAgY29uc3Qgbm9ybWFsaXplID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiYgaXNGdW5jdGlvbihvcHRpb25zLnByb2Nlc3Nvci5ub3JtYWxpemUpXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplXG4gICAgICAgIDogREVGQVVMVF9OT1JNQUxJWkU7XG4gICAgY29uc3QgaW50ZXJwb2xhdGUgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMucHJvY2Vzc29yKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucHJvY2Vzc29yLmludGVycG9sYXRlKVxuICAgICAgICA/IG9wdGlvbnMucHJvY2Vzc29yLmludGVycG9sYXRlXG4gICAgICAgIDogREVGQVVMVF9JTlRFUlBPTEFURTtcbiAgICBjb25zdCB0eXBlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiYgaXNTdHJpbmcob3B0aW9ucy5wcm9jZXNzb3IudHlwZSlcbiAgICAgICAgPyBvcHRpb25zLnByb2Nlc3Nvci50eXBlXG4gICAgICAgIDogREVGQVVMVF9NRVNTQUdFX0RBVEFfVFlQRTtcbiAgICBjb25zdCBsaW5rZWQgPSAoa2V5LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFthcmcxLCBhcmcyXSA9IGFyZ3M7XG4gICAgICAgIGxldCB0eXBlID0gJ3RleHQnO1xuICAgICAgICBsZXQgbW9kaWZpZXIgPSAnJztcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoYXJnMSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IGFyZzEubW9kaWZpZXIgfHwgbW9kaWZpZXI7XG4gICAgICAgICAgICAgICAgdHlwZSA9IGFyZzEudHlwZSB8fCB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoYXJnMSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IGFyZzEgfHwgbW9kaWZpZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhhcmcxKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyID0gYXJnMSB8fCBtb2RpZmllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBhcmcyIHx8IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0ID0gbWVzc2FnZShrZXkpKGN0eCk7XG4gICAgICAgIGNvbnN0IG1zZyA9IFxuICAgICAgICAvLyBUaGUgbWVzc2FnZSBpbiB2bm9kZSByZXNvbHZlZCB3aXRoIGxpbmtlZCBhcmUgcmV0dXJuZWQgYXMgYW4gYXJyYXkgYnkgcHJvY2Vzc29yLm5vbWFsaXplXG4gICAgICAgIHR5cGUgPT09ICd2bm9kZScgJiYgaXNBcnJheShyZXQpICYmIG1vZGlmaWVyXG4gICAgICAgICAgICA/IHJldFswXVxuICAgICAgICAgICAgOiByZXQ7XG4gICAgICAgIHJldHVybiBtb2RpZmllciA/IF9tb2RpZmllcihtb2RpZmllcikobXNnLCB0eXBlKSA6IG1zZztcbiAgICB9O1xuICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgW1wibGlzdFwiIC8qIEhlbHBlck5hbWVNYXAuTElTVCAqL106IGxpc3QsXG4gICAgICAgIFtcIm5hbWVkXCIgLyogSGVscGVyTmFtZU1hcC5OQU1FRCAqL106IG5hbWVkLFxuICAgICAgICBbXCJwbHVyYWxcIiAvKiBIZWxwZXJOYW1lTWFwLlBMVVJBTCAqL106IHBsdXJhbCxcbiAgICAgICAgW1wibGlua2VkXCIgLyogSGVscGVyTmFtZU1hcC5MSU5LRUQgKi9dOiBsaW5rZWQsXG4gICAgICAgIFtcIm1lc3NhZ2VcIiAvKiBIZWxwZXJOYW1lTWFwLk1FU1NBR0UgKi9dOiBtZXNzYWdlLFxuICAgICAgICBbXCJ0eXBlXCIgLyogSGVscGVyTmFtZU1hcC5UWVBFICovXTogdHlwZSxcbiAgICAgICAgW1wiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovXTogaW50ZXJwb2xhdGUsXG4gICAgICAgIFtcIm5vcm1hbGl6ZVwiIC8qIEhlbHBlck5hbWVNYXAuTk9STUFMSVpFICovXTogbm9ybWFsaXplLFxuICAgICAgICBbXCJ2YWx1ZXNcIiAvKiBIZWxwZXJOYW1lTWFwLlZBTFVFUyAqL106IGFzc2lnbih7fSwgX2xpc3QsIF9uYW1lZClcbiAgICB9O1xuICAgIHJldHVybiBjdHg7XG59XG5cbmxldCBkZXZ0b29scyA9IG51bGw7XG5mdW5jdGlvbiBzZXREZXZUb29sc0hvb2soaG9vaykge1xuICAgIGRldnRvb2xzID0gaG9vaztcbn1cbmZ1bmN0aW9uIGdldERldlRvb2xzSG9vaygpIHtcbiAgICByZXR1cm4gZGV2dG9vbHM7XG59XG5mdW5jdGlvbiBpbml0STE4bkRldlRvb2xzKGkxOG4sIHZlcnNpb24sIG1ldGEpIHtcbiAgICAvLyBUT0RPOiBxdWV1ZSBpZiBkZXZ0b29scyBpcyB1bmRlZmluZWRcbiAgICBkZXZ0b29scyAmJlxuICAgICAgICBkZXZ0b29scy5lbWl0KFwiaTE4bjppbml0XCIgLyogSW50bGlmeURldlRvb2xzSG9va3MuSTE4bkluaXQgKi8sIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgICAgbWV0YVxuICAgICAgICB9KTtcbn1cbmNvbnN0IHRyYW5zbGF0ZURldlRvb2xzID0gLyogI19fUFVSRV9fKi8gY3JlYXRlRGV2VG9vbHNIb29rKFwiZnVuY3Rpb246dHJhbnNsYXRlXCIgLyogSW50bGlmeURldlRvb2xzSG9va3MuRnVuY3Rpb25UcmFuc2xhdGUgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2VG9vbHNIb29rKGhvb2spIHtcbiAgICByZXR1cm4gKHBheWxvYWRzKSA9PiBkZXZ0b29scyAmJiBkZXZ0b29scy5lbWl0KGhvb2ssIHBheWxvYWRzKTtcbn1cblxuY29uc3QgQ29yZVdhcm5Db2RlcyA9IHtcbiAgICBOT1RfRk9VTkRfS0VZOiAxLFxuICAgIEZBTExCQUNLX1RPX1RSQU5TTEFURTogMixcbiAgICBDQU5OT1RfRk9STUFUX05VTUJFUjogMyxcbiAgICBGQUxMQkFDS19UT19OVU1CRVJfRk9STUFUOiA0LFxuICAgIENBTk5PVF9GT1JNQVRfREFURTogNSxcbiAgICBGQUxMQkFDS19UT19EQVRFX0ZPUk1BVDogNixcbiAgICBFWFBFUklNRU5UQUxfQ1VTVE9NX01FU1NBR0VfQ09NUElMRVI6IDcsXG4gICAgX19FWFRFTkRfUE9JTlRfXzogOFxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IHdhcm5NZXNzYWdlcyA9IHtcbiAgICBbQ29yZVdhcm5Db2Rlcy5OT1RfRk9VTkRfS0VZXTogYE5vdCBmb3VuZCAne2tleX0nIGtleSBpbiAne2xvY2FsZX0nIGxvY2FsZSBtZXNzYWdlcy5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX1RSQU5TTEFURV06IGBGYWxsIGJhY2sgdG8gdHJhbnNsYXRlICd7a2V5fScga2V5IHdpdGggJ3t0YXJnZXR9JyBsb2NhbGUuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5DQU5OT1RfRk9STUFUX05VTUJFUl06IGBDYW5ub3QgZm9ybWF0IGEgbnVtYmVyIHZhbHVlIGR1ZSB0byBub3Qgc3VwcG9ydGVkIEludGwuTnVtYmVyRm9ybWF0LmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVF06IGBGYWxsIGJhY2sgdG8gbnVtYmVyIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuQ0FOTk9UX0ZPUk1BVF9EQVRFXTogYENhbm5vdCBmb3JtYXQgYSBkYXRlIHZhbHVlIGR1ZSB0byBub3Qgc3VwcG9ydGVkIEludGwuRGF0ZVRpbWVGb3JtYXQuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19EQVRFX0ZPUk1BVF06IGBGYWxsIGJhY2sgdG8gZGF0ZXRpbWUgZm9ybWF0ICd7a2V5fScga2V5IHdpdGggJ3t0YXJnZXR9JyBsb2NhbGUuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5FWFBFUklNRU5UQUxfQ1VTVE9NX01FU1NBR0VfQ09NUElMRVJdOiBgVGhpcyBwcm9qZWN0IGlzIHVzaW5nIEN1c3RvbSBNZXNzYWdlIENvbXBpbGVyLCB3aGljaCBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZS4gSXQgbWF5IHJlY2VpdmUgYnJlYWtpbmcgY2hhbmdlcyBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuYFxufTtcbmZ1bmN0aW9uIGdldFdhcm5NZXNzYWdlKGNvZGUsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gZm9ybWF0JDEod2Fybk1lc3NhZ2VzW2NvZGVdLCAuLi5hcmdzKTtcbn1cblxuY29uc3QgY29kZSA9IENvbXBpbGVFcnJvckNvZGVzLl9fRVhURU5EX1BPSU5UX187XG5jb25zdCBpbmMgPSBpbmNyZW1lbnRlcihjb2RlKTtcbmNvbnN0IENvcmVFcnJvckNvZGVzID0ge1xuICAgIElOVkFMSURfQVJHVU1FTlQ6IGNvZGUsIC8vIDE4XG4gICAgSU5WQUxJRF9EQVRFX0FSR1VNRU5UOiBpbmMoKSwgLy8gMTlcbiAgICBJTlZBTElEX0lTT19EQVRFX0FSR1VNRU5UOiBpbmMoKSwgLy8gMjBcbiAgICBOT1RfU1VQUE9SVF9OT05fU1RSSU5HX01FU1NBR0U6IGluYygpLCAvLyAyMVxuICAgIE5PVF9TVVBQT1JUX0xPQ0FMRV9QUk9NSVNFX1ZBTFVFOiBpbmMoKSwgLy8gMjJcbiAgICBOT1RfU1VQUE9SVF9MT0NBTEVfQVNZTkNfRlVOQ1RJT046IGluYygpLCAvLyAyM1xuICAgIE5PVF9TVVBQT1JUX0xPQ0FMRV9UWVBFOiBpbmMoKSwgLy8gMjRcbiAgICBfX0VYVEVORF9QT0lOVF9fOiBpbmMoKSAvLyAyNVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUNvcmVFcnJvcihjb2RlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBudWxsLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyB7IG1lc3NhZ2VzOiBlcnJvck1lc3NhZ2VzIH0gOiB1bmRlZmluZWQpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcbiAgICBbQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVF06ICdJbnZhbGlkIGFyZ3VtZW50cycsXG4gICAgW0NvcmVFcnJvckNvZGVzLklOVkFMSURfREFURV9BUkdVTUVOVF06ICdUaGUgZGF0ZSBwcm92aWRlZCBpcyBhbiBpbnZhbGlkIERhdGUgb2JqZWN0LicgK1xuICAgICAgICAnTWFrZSBzdXJlIHlvdXIgRGF0ZSByZXByZXNlbnRzIGEgdmFsaWQgZGF0ZS4nLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0lTT19EQVRFX0FSR1VNRU5UXTogJ1RoZSBhcmd1bWVudCBwcm92aWRlZCBpcyBub3QgYSB2YWxpZCBJU08gZGF0ZSBzdHJpbmcnLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9OT05fU1RSSU5HX01FU1NBR0VdOiAnTm90IHN1cHBvcnQgbm9uLXN0cmluZyBtZXNzYWdlJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX1BST01JU0VfVkFMVUVdOiAnY2Fubm90IHN1cHBvcnQgcHJvbWlzZSB2YWx1ZScsXG4gICAgW0NvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9BU1lOQ19GVU5DVElPTl06ICdjYW5ub3Qgc3VwcG9ydCBhc3luYyBmdW5jdGlvbicsXG4gICAgW0NvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9UWVBFXTogJ2Nhbm5vdCBzdXBwb3J0IGxvY2FsZSB0eXBlJ1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb2NhbGUgIT0gbnVsbFxuICAgICAgICA/IHJlc29sdmVMb2NhbGUob3B0aW9ucy5sb2NhbGUpXG4gICAgICAgIDogcmVzb2x2ZUxvY2FsZShjb250ZXh0LmxvY2FsZSk7XG59XG5sZXQgX3Jlc29sdmVMb2NhbGU7XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiByZXNvbHZlTG9jYWxlKGxvY2FsZSkge1xuICAgIGlmIChpc1N0cmluZyhsb2NhbGUpKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsb2NhbGUpKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlLnJlc29sdmVkT25jZSAmJiBfcmVzb2x2ZUxvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlTG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9jYWxlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdGdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlID0gbG9jYWxlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXNvbHZlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX1BST01JU0VfVkFMVUUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKF9yZXNvbHZlTG9jYWxlID0gcmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX0FTWU5DX0ZVTkNUSU9OKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfVFlQRSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEZhbGxiYWNrIHdpdGggc2ltcGxlIGltcGxlbWVuYXRpb25cbiAqXG4gKiBAcmVtYXJrc1xuICogQSBmYWxsYmFjayBsb2NhbGUgZnVuY3Rpb24gaW1wbGVtZW50ZWQgd2l0aCBhIHNpbXBsZSBmYWxsYmFjayBhbGdvcml0aG0uXG4gKlxuICogQmFzaWNhbGx5LCBpdCByZXR1cm5zIHRoZSB2YWx1ZSBhcyBzcGVjaWZpZWQgaW4gdGhlIGBmYWxsYmFja0xvY2FsZWAgcHJvcHMsIGFuZCBpcyBwcm9jZXNzZWQgd2l0aCB0aGUgZmFsbGJhY2sgaW5zaWRlIGludGxpZnkuXG4gKlxuICogQHBhcmFtIGN0eCAtIEEge0BsaW5rIENvcmVDb250ZXh0IHwgY29udGV4dH1cbiAqIEBwYXJhbSBmYWxsYmFjayAtIEEge0BsaW5rIEZhbGxiYWNrTG9jYWxlIHwgZmFsbGJhY2sgbG9jYWxlfVxuICogQHBhcmFtIHN0YXJ0IC0gQSBzdGFydGluZyB7QGxpbmsgTG9jYWxlIHwgbG9jYWxlfVxuICpcbiAqIEByZXR1cm5zIEZhbGxiYWNrIGxvY2FsZXNcbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gZmFsbGJhY2tXaXRoU2ltcGxlKGN0eCwgZmFsbGJhY2ssIHN0YXJ0IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoW1xuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAuLi4oaXNBcnJheShmYWxsYmFjaylcbiAgICAgICAgICAgICAgICA/IGZhbGxiYWNrXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdChmYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgPyBPYmplY3Qua2V5cyhmYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgOiBpc1N0cmluZyhmYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW2ZhbGxiYWNrXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbc3RhcnRdKVxuICAgICAgICBdKV07XG59XG4vKipcbiAqIEZhbGxiYWNrIHdpdGggbG9jYWxlIGNoYWluXG4gKlxuICogQHJlbWFya3NcbiAqIEEgZmFsbGJhY2sgbG9jYWxlIGZ1bmN0aW9uIGltcGxlbWVudGVkIHdpdGggYSBmYWxsYmFjayBjaGFpbiBhbGdvcml0aG0uIEl0J3MgdXNlZCBpbiBWdWVJMThuIGFzIGRlZmF1bHQuXG4gKlxuICogQHBhcmFtIGN0eCAtIEEge0BsaW5rIENvcmVDb250ZXh0IHwgY29udGV4dH1cbiAqIEBwYXJhbSBmYWxsYmFjayAtIEEge0BsaW5rIEZhbGxiYWNrTG9jYWxlIHwgZmFsbGJhY2sgbG9jYWxlfVxuICogQHBhcmFtIHN0YXJ0IC0gQSBzdGFydGluZyB7QGxpbmsgTG9jYWxlIHwgbG9jYWxlfVxuICpcbiAqIEByZXR1cm5zIEZhbGxiYWNrIGxvY2FsZXNcbiAqXG4gKiBAVnVlSTE4blNlZSBbRmFsbGJhY2tpbmddKC4uL2d1aWRlL2Vzc2VudGlhbHMvZmFsbGJhY2spXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIGZhbGxiYWNrV2l0aExvY2FsZUNoYWluKGN0eCwgZmFsbGJhY2ssIHN0YXJ0KSB7XG4gICAgY29uc3Qgc3RhcnRMb2NhbGUgPSBpc1N0cmluZyhzdGFydCkgPyBzdGFydCA6IERFRkFVTFRfTE9DQUxFO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XG4gICAgaWYgKCFjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZSkge1xuICAgICAgICBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgbGV0IGNoYWluID0gY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUuZ2V0KHN0YXJ0TG9jYWxlKTtcbiAgICBpZiAoIWNoYWluKSB7XG4gICAgICAgIGNoYWluID0gW107XG4gICAgICAgIC8vIGZpcnN0IGJsb2NrIGRlZmluZWQgYnkgc3RhcnRcbiAgICAgICAgbGV0IGJsb2NrID0gW3N0YXJ0XTtcbiAgICAgICAgLy8gd2hpbGUgYW55IGludGVydmVuaW5nIGJsb2NrIGZvdW5kXG4gICAgICAgIHdoaWxlIChpc0FycmF5KGJsb2NrKSkge1xuICAgICAgICAgICAgYmxvY2sgPSBhcHBlbmRCbG9ja1RvQ2hhaW4oY2hhaW4sIGJsb2NrLCBmYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIC8vIGxhc3QgYmxvY2sgZGVmaW5lZCBieSBkZWZhdWx0XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gaXNBcnJheShmYWxsYmFjaykgfHwgIWlzUGxhaW5PYmplY3QoZmFsbGJhY2spXG4gICAgICAgICAgICA/IGZhbGxiYWNrXG4gICAgICAgICAgICA6IGZhbGxiYWNrWydkZWZhdWx0J11cbiAgICAgICAgICAgICAgICA/IGZhbGxiYWNrWydkZWZhdWx0J11cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIC8vIGNvbnZlcnQgZGVmYXVsdHMgdG8gYXJyYXlcbiAgICAgICAgYmxvY2sgPSBpc1N0cmluZyhkZWZhdWx0cykgPyBbZGVmYXVsdHNdIDogZGVmYXVsdHM7XG4gICAgICAgIGlmIChpc0FycmF5KGJsb2NrKSkge1xuICAgICAgICAgICAgYXBwZW5kQmxvY2tUb0NoYWluKGNoYWluLCBibG9jaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlLnNldChzdGFydExvY2FsZSwgY2hhaW4pO1xuICAgIH1cbiAgICByZXR1cm4gY2hhaW47XG59XG5mdW5jdGlvbiBhcHBlbmRCbG9ja1RvQ2hhaW4oY2hhaW4sIGJsb2NrLCBibG9ja3MpIHtcbiAgICBsZXQgZm9sbG93ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2NrLmxlbmd0aCAmJiBpc0Jvb2xlYW4oZm9sbG93KTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsZSA9IGJsb2NrW2ldO1xuICAgICAgICBpZiAoaXNTdHJpbmcobG9jYWxlKSkge1xuICAgICAgICAgICAgZm9sbG93ID0gYXBwZW5kTG9jYWxlVG9DaGFpbihjaGFpbiwgYmxvY2tbaV0sIGJsb2Nrcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvbGxvdztcbn1cbmZ1bmN0aW9uIGFwcGVuZExvY2FsZVRvQ2hhaW4oY2hhaW4sIGxvY2FsZSwgYmxvY2tzKSB7XG4gICAgbGV0IGZvbGxvdztcbiAgICBjb25zdCB0b2tlbnMgPSBsb2NhbGUuc3BsaXQoJy0nKTtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRva2Vucy5qb2luKCctJyk7XG4gICAgICAgIGZvbGxvdyA9IGFwcGVuZEl0ZW1Ub0NoYWluKGNoYWluLCB0YXJnZXQsIGJsb2Nrcyk7XG4gICAgICAgIHRva2Vucy5zcGxpY2UoLTEsIDEpO1xuICAgIH0gd2hpbGUgKHRva2Vucy5sZW5ndGggJiYgZm9sbG93ID09PSB0cnVlKTtcbiAgICByZXR1cm4gZm9sbG93O1xufVxuZnVuY3Rpb24gYXBwZW5kSXRlbVRvQ2hhaW4oY2hhaW4sIHRhcmdldCwgYmxvY2tzKSB7XG4gICAgbGV0IGZvbGxvdyA9IGZhbHNlO1xuICAgIGlmICghY2hhaW4uaW5jbHVkZXModGFyZ2V0KSkge1xuICAgICAgICBmb2xsb3cgPSB0cnVlO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBmb2xsb3cgPSB0YXJnZXRbdGFyZ2V0Lmxlbmd0aCAtIDFdICE9PSAnISc7XG4gICAgICAgICAgICBjb25zdCBsb2NhbGUgPSB0YXJnZXQucmVwbGFjZSgvIS9nLCAnJyk7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGxvY2FsZSk7XG4gICAgICAgICAgICBpZiAoKGlzQXJyYXkoYmxvY2tzKSB8fCBpc1BsYWluT2JqZWN0KGJsb2NrcykpICYmXG4gICAgICAgICAgICAgICAgYmxvY2tzW2xvY2FsZV0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGZvbGxvdyA9IGJsb2Nrc1tsb2NhbGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb2xsb3c7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogSW50bGlmeSBjb3JlLWJhc2UgdmVyc2lvblxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IFZFUlNJT04gPSAnOS4xMC4yJztcbmNvbnN0IE5PVF9SRU9TTFZFRCA9IC0xO1xuY29uc3QgREVGQVVMVF9MT0NBTEUgPSAnZW4tVVMnO1xuY29uc3QgTUlTU0lOR19SRVNPTFZFX1ZBTFVFID0gJyc7XG5jb25zdCBjYXBpdGFsaXplID0gKHN0cikgPT4gYCR7c3RyLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpfSR7c3RyLnN1YnN0cigxKX1gO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdExpbmtlZE1vZGlmaWVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cHBlcjogKHZhbCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ3RleHQnICYmIGlzU3RyaW5nKHZhbClcbiAgICAgICAgICAgICAgICA/IHZhbC50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgOiB0eXBlID09PSAndm5vZGUnICYmIGlzT2JqZWN0KHZhbCkgJiYgJ19fdl9pc1ZOb2RlJyBpbiB2YWxcbiAgICAgICAgICAgICAgICAgICAgPyB2YWwuY2hpbGRyZW4udG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICA6IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgbG93ZXI6ICh2YWwsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09ICd0ZXh0JyAmJiBpc1N0cmluZyh2YWwpXG4gICAgICAgICAgICAgICAgPyB2YWwudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogdHlwZSA9PT0gJ3Zub2RlJyAmJiBpc09iamVjdCh2YWwpICYmICdfX3ZfaXNWTm9kZScgaW4gdmFsXG4gICAgICAgICAgICAgICAgICAgID8gdmFsLmNoaWxkcmVuLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgOiB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGNhcGl0YWxpemU6ICh2YWwsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuICh0eXBlID09PSAndGV4dCcgJiYgaXNTdHJpbmcodmFsKVxuICAgICAgICAgICAgICAgID8gY2FwaXRhbGl6ZSh2YWwpXG4gICAgICAgICAgICAgICAgOiB0eXBlID09PSAndm5vZGUnICYmIGlzT2JqZWN0KHZhbCkgJiYgJ19fdl9pc1ZOb2RlJyBpbiB2YWxcbiAgICAgICAgICAgICAgICAgICAgPyBjYXBpdGFsaXplKHZhbC5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgOiB2YWwpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmxldCBfY29tcGlsZXI7XG5mdW5jdGlvbiByZWdpc3Rlck1lc3NhZ2VDb21waWxlcihjb21waWxlcikge1xuICAgIF9jb21waWxlciA9IGNvbXBpbGVyO1xufVxubGV0IF9yZXNvbHZlcjtcbi8qKlxuICogUmVnaXN0ZXIgdGhlIG1lc3NhZ2UgcmVzb2x2ZXJcbiAqXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBIHtAbGluayBNZXNzYWdlUmVzb2x2ZXJ9IGZ1bmN0aW9uXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTWVzc2FnZVJlc29sdmVyKHJlc29sdmVyKSB7XG4gICAgX3Jlc29sdmVyID0gcmVzb2x2ZXI7XG59XG5sZXQgX2ZhbGxiYWNrZXI7XG4vKipcbiAqIFJlZ2lzdGVyIHRoZSBsb2NhbGUgZmFsbGJhY2tlclxuICpcbiAqIEBwYXJhbSBmYWxsYmFja2VyIC0gQSB7QGxpbmsgTG9jYWxlRmFsbGJhY2tlcn0gZnVuY3Rpb25cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyKGZhbGxiYWNrZXIpIHtcbiAgICBfZmFsbGJhY2tlciA9IGZhbGxiYWNrZXI7XG59XG4vLyBBZGRpdGlvbmFsIE1ldGEgZm9yIEludGxpZnkgRGV2VG9vbHNcbmxldCBfYWRkaXRpb25hbE1ldGEgPSAgbnVsbDtcbi8qICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBzZXRBZGRpdGlvbmFsTWV0YSA9IChtZXRhKSA9PiB7XG4gICAgX2FkZGl0aW9uYWxNZXRhID0gbWV0YTtcbn07XG4vKiAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuY29uc3QgZ2V0QWRkaXRpb25hbE1ldGEgPSAoKSA9PiBfYWRkaXRpb25hbE1ldGE7XG5sZXQgX2ZhbGxiYWNrQ29udGV4dCA9IG51bGw7XG5jb25zdCBzZXRGYWxsYmFja0NvbnRleHQgPSAoY29udGV4dCkgPT4ge1xuICAgIF9mYWxsYmFja0NvbnRleHQgPSBjb250ZXh0O1xufTtcbmNvbnN0IGdldEZhbGxiYWNrQ29udGV4dCA9ICgpID0+IF9mYWxsYmFja0NvbnRleHQ7XG4vLyBJRCBmb3IgQ29yZUNvbnRleHRcbmxldCBfY2lkID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUNvcmVDb250ZXh0KG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHNldHVwIG9wdGlvbnNcbiAgICBjb25zdCBvbldhcm4gPSBpc0Z1bmN0aW9uKG9wdGlvbnMub25XYXJuKSA/IG9wdGlvbnMub25XYXJuIDogd2FybjtcbiAgICBjb25zdCB2ZXJzaW9uID0gaXNTdHJpbmcob3B0aW9ucy52ZXJzaW9uKSA/IG9wdGlvbnMudmVyc2lvbiA6IFZFUlNJT047XG4gICAgY29uc3QgbG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpIHx8IGlzRnVuY3Rpb24ob3B0aW9ucy5sb2NhbGUpXG4gICAgICAgID8gb3B0aW9ucy5sb2NhbGVcbiAgICAgICAgOiBERUZBVUxUX0xPQ0FMRTtcbiAgICBjb25zdCBfbG9jYWxlID0gaXNGdW5jdGlvbihsb2NhbGUpID8gREVGQVVMVF9MT0NBTEUgOiBsb2NhbGU7XG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBpc0FycmF5KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIGlzUGxhaW5PYmplY3Qob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrTG9jYWxlXG4gICAgICAgIDogX2xvY2FsZTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tZXNzYWdlcylcbiAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VzXG4gICAgICAgIDogeyBbX2xvY2FsZV06IHt9IH07XG4gICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzID0gaXNQbGFpbk9iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cylcbiAgICAgICAgICAgID8gb3B0aW9ucy5kYXRldGltZUZvcm1hdHNcbiAgICAgICAgICAgIDogeyBbX2xvY2FsZV06IHt9IH1cbiAgICAgICAgO1xuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcbiAgICAgICAgICAgID8gb3B0aW9ucy5udW1iZXJGb3JtYXRzXG4gICAgICAgICAgICA6IHsgW19sb2NhbGVdOiB7fSB9XG4gICAgICAgIDtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBhc3NpZ24oe30sIG9wdGlvbnMubW9kaWZpZXJzIHx8IHt9LCBnZXREZWZhdWx0TGlua2VkTW9kaWZpZXJzKCkpO1xuICAgIGNvbnN0IHBsdXJhbFJ1bGVzID0gb3B0aW9ucy5wbHVyYWxSdWxlcyB8fCB7fTtcbiAgICBjb25zdCBtaXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpID8gb3B0aW9ucy5taXNzaW5nIDogbnVsbDtcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZhbGxiYWNrRm9ybWF0O1xuICAgIGNvbnN0IHVucmVzb2x2aW5nID0gISFvcHRpb25zLnVucmVzb2x2aW5nO1xuICAgIGNvbnN0IHBvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHByb2Nlc3NvciA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpID8gb3B0aW9ucy5wcm9jZXNzb3IgOiBudWxsO1xuICAgIGNvbnN0IHdhcm5IdG1sTWVzc2FnZSA9IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcbiAgICAgICAgPyBvcHRpb25zLndhcm5IdG1sTWVzc2FnZVxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZXNjYXBlUGFyYW1ldGVyID0gISFvcHRpb25zLmVzY2FwZVBhcmFtZXRlcjtcbiAgICBjb25zdCBtZXNzYWdlQ29tcGlsZXIgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZUNvbXBpbGVyKVxuICAgICAgICA/IG9wdGlvbnMubWVzc2FnZUNvbXBpbGVyXG4gICAgICAgIDogX2NvbXBpbGVyO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgIWZhbHNlICYmXG4gICAgICAgICFmYWxzZSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZUNvbXBpbGVyKSkge1xuICAgICAgICB3YXJuT25jZShnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLkVYUEVSSU1FTlRBTF9DVVNUT01fTUVTU0FHRV9DT01QSUxFUikpO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlUmVzb2x2ZXIgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZVJlc29sdmVyKVxuICAgICAgICA/IG9wdGlvbnMubWVzc2FnZVJlc29sdmVyXG4gICAgICAgIDogX3Jlc29sdmVyIHx8IHJlc29sdmVXaXRoS2V5VmFsdWU7XG4gICAgY29uc3QgbG9jYWxlRmFsbGJhY2tlciA9IGlzRnVuY3Rpb24ob3B0aW9ucy5sb2NhbGVGYWxsYmFja2VyKVxuICAgICAgICA/IG9wdGlvbnMubG9jYWxlRmFsbGJhY2tlclxuICAgICAgICA6IF9mYWxsYmFja2VyIHx8IGZhbGxiYWNrV2l0aFNpbXBsZTtcbiAgICBjb25zdCBmYWxsYmFja0NvbnRleHQgPSBpc09iamVjdChvcHRpb25zLmZhbGxiYWNrQ29udGV4dClcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrQ29udGV4dFxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAvLyBzZXR1cCBpbnRlcm5hbCBvcHRpb25zXG4gICAgY29uc3QgaW50ZXJuYWxPcHRpb25zID0gb3B0aW9ucztcbiAgICBjb25zdCBfX2RhdGV0aW1lRm9ybWF0dGVycyA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX2RhdGV0aW1lRm9ybWF0dGVycylcbiAgICAgICAgICAgID8gaW50ZXJuYWxPcHRpb25zLl9fZGF0ZXRpbWVGb3JtYXR0ZXJzXG4gICAgICAgICAgICA6IG5ldyBNYXAoKVxuICAgICAgICA7XG4gICAgY29uc3QgX19udW1iZXJGb3JtYXR0ZXJzID0gaXNPYmplY3QoaW50ZXJuYWxPcHRpb25zLl9fbnVtYmVyRm9ybWF0dGVycylcbiAgICAgICAgICAgID8gaW50ZXJuYWxPcHRpb25zLl9fbnVtYmVyRm9ybWF0dGVyc1xuICAgICAgICAgICAgOiBuZXcgTWFwKClcbiAgICAgICAgO1xuICAgIGNvbnN0IF9fbWV0YSA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX21ldGEpID8gaW50ZXJuYWxPcHRpb25zLl9fbWV0YSA6IHt9O1xuICAgIF9jaWQrKztcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBjaWQ6IF9jaWQsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBtb2RpZmllcnMsXG4gICAgICAgIHBsdXJhbFJ1bGVzLFxuICAgICAgICBtaXNzaW5nLFxuICAgICAgICBtaXNzaW5nV2FybixcbiAgICAgICAgZmFsbGJhY2tXYXJuLFxuICAgICAgICBmYWxsYmFja0Zvcm1hdCxcbiAgICAgICAgdW5yZXNvbHZpbmcsXG4gICAgICAgIHBvc3RUcmFuc2xhdGlvbixcbiAgICAgICAgcHJvY2Vzc29yLFxuICAgICAgICB3YXJuSHRtbE1lc3NhZ2UsXG4gICAgICAgIGVzY2FwZVBhcmFtZXRlcixcbiAgICAgICAgbWVzc2FnZUNvbXBpbGVyLFxuICAgICAgICBtZXNzYWdlUmVzb2x2ZXIsXG4gICAgICAgIGxvY2FsZUZhbGxiYWNrZXIsXG4gICAgICAgIGZhbGxiYWNrQ29udGV4dCxcbiAgICAgICAgb25XYXJuLFxuICAgICAgICBfX21ldGFcbiAgICB9O1xuICAgIHtcbiAgICAgICAgY29udGV4dC5kYXRldGltZUZvcm1hdHMgPSBkYXRldGltZUZvcm1hdHM7XG4gICAgICAgIGNvbnRleHQubnVtYmVyRm9ybWF0cyA9IG51bWJlckZvcm1hdHM7XG4gICAgICAgIGNvbnRleHQuX19kYXRldGltZUZvcm1hdHRlcnMgPSBfX2RhdGV0aW1lRm9ybWF0dGVycztcbiAgICAgICAgY29udGV4dC5fX251bWJlckZvcm1hdHRlcnMgPSBfX251bWJlckZvcm1hdHRlcnM7XG4gICAgfVxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnRleHQuX192X2VtaXR0ZXIgPVxuICAgICAgICAgICAgaW50ZXJuYWxPcHRpb25zLl9fdl9lbWl0dGVyICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX3ZfZW1pdHRlclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBOT1RFOiBleHBlcmltZW50YWwgISFcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgaW5pdEkxOG5EZXZUb29scyhjb250ZXh0LCB2ZXJzaW9uLCBfX21ldGEpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrLCBrZXkpIHtcbiAgICByZXR1cm4gZmFsbGJhY2sgaW5zdGFuY2VvZiBSZWdFeHAgPyBmYWxsYmFjay50ZXN0KGtleSkgOiBmYWxsYmFjaztcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4obWlzc2luZywga2V5KSB7XG4gICAgcmV0dXJuIG1pc3NpbmcgaW5zdGFuY2VvZiBSZWdFeHAgPyBtaXNzaW5nLnRlc3Qoa2V5KSA6IG1pc3Npbmc7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgbG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSkge1xuICAgIGNvbnN0IHsgbWlzc2luZywgb25XYXJuIH0gPSBjb250ZXh0O1xuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWlzc2luZ1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUlTU0lORyAqLywge1xuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobWlzc2luZyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByZXQgPSBtaXNzaW5nKGNvbnRleHQsIGxvY2FsZSwga2V5LCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHJldCkgPyByZXQgOiBrZXk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4obWlzc2luZ1dhcm4sIGtleSkpIHtcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLk5PVF9GT1VORF9LRVksIHsga2V5LCBsb2NhbGUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gdXBkYXRlRmFsbGJhY2tMb2NhbGUoY3R4LCBsb2NhbGUsIGZhbGxiYWNrKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcbiAgICBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZSA9IG5ldyBNYXAoKTtcbiAgICBjdHgubG9jYWxlRmFsbGJhY2tlcihjdHgsIGZhbGxiYWNrLCBsb2NhbGUpO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbmZ1bmN0aW9uIGZvcm1hdChhc3QpIHtcbiAgICBjb25zdCBtc2cgPSAoY3R4KSA9PiBmb3JtYXRQYXJ0cyhjdHgsIGFzdCk7XG4gICAgcmV0dXJuIG1zZztcbn1cbmZ1bmN0aW9uIGZvcm1hdFBhcnRzKGN0eCwgYXN0KSB7XG4gICAgY29uc3QgYm9keSA9IGFzdC5iIHx8IGFzdC5ib2R5O1xuICAgIGlmICgoYm9keS50IHx8IGJvZHkudHlwZSkgPT09IDEgLyogTm9kZVR5cGVzLlBsdXJhbCAqLykge1xuICAgICAgICBjb25zdCBwbHVyYWwgPSBib2R5O1xuICAgICAgICBjb25zdCBjYXNlcyA9IHBsdXJhbC5jIHx8IHBsdXJhbC5jYXNlcztcbiAgICAgICAgcmV0dXJuIGN0eC5wbHVyYWwoY2FzZXMucmVkdWNlKChtZXNzYWdlcywgYykgPT4gW1xuICAgICAgICAgICAgLi4ubWVzc2FnZXMsXG4gICAgICAgICAgICBmb3JtYXRNZXNzYWdlUGFydHMoY3R4LCBjKVxuICAgICAgICBdLCBbXSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1lc3NhZ2VQYXJ0cyhjdHgsIGJvZHkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2VQYXJ0cyhjdHgsIG5vZGUpIHtcbiAgICBjb25zdCBfc3RhdGljID0gbm9kZS5zIHx8IG5vZGUuc3RhdGljO1xuICAgIGlmIChfc3RhdGljKSB7XG4gICAgICAgIHJldHVybiBjdHgudHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgICA/IF9zdGF0aWNcbiAgICAgICAgICAgIDogY3R4Lm5vcm1hbGl6ZShbX3N0YXRpY10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSAobm9kZS5pIHx8IG5vZGUuaXRlbXMpLnJlZHVjZSgoYWNtLCBjKSA9PiBbLi4uYWNtLCBmb3JtYXRNZXNzYWdlUGFydChjdHgsIGMpXSwgW10pO1xuICAgICAgICByZXR1cm4gY3R4Lm5vcm1hbGl6ZShtZXNzYWdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0TWVzc2FnZVBhcnQoY3R4LCBub2RlKSB7XG4gICAgY29uc3QgdHlwZSA9IG5vZGUudCB8fCBub2RlLnR5cGU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgMyAvKiBOb2RlVHlwZXMuVGV4dCAqLzoge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IG5vZGU7XG4gICAgICAgICAgICByZXR1cm4gKHRleHQudiB8fCB0ZXh0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IGxpdGVyYWwgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIChsaXRlcmFsLnYgfHwgbGl0ZXJhbC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA0IC8qIE5vZGVUeXBlcy5OYW1lZCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbmFtZWQgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5pbnRlcnBvbGF0ZShjdHgubmFtZWQobmFtZWQuayB8fCBuYW1lZC5rZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLkxpc3QgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5pbnRlcnBvbGF0ZShjdHgubGlzdChsaXN0LmkgIT0gbnVsbCA/IGxpc3QuaSA6IGxpc3QuaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbGlua2VkID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVyID0gbGlua2VkLm0gfHwgbGlua2VkLm1vZGlmaWVyO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5saW5rZWQoZm9ybWF0TWVzc2FnZVBhcnQoY3R4LCBsaW5rZWQuayB8fCBsaW5rZWQua2V5KSwgbW9kaWZpZXIgPyBmb3JtYXRNZXNzYWdlUGFydChjdHgsIG1vZGlmaWVyKSA6IHVuZGVmaW5lZCwgY3R4LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovOiB7XG4gICAgICAgICAgICBjb25zdCBsaW5rZWRLZXkgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIChsaW5rZWRLZXkudiB8fCBsaW5rZWRLZXkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgOCAvKiBOb2RlVHlwZXMuTGlua2VkTW9kaWZpZXIgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZE1vZGlmaWVyID0gbm9kZTtcbiAgICAgICAgICAgIHJldHVybiAobGlua2VkTW9kaWZpZXIudiB8fCBsaW5rZWRNb2RpZmllci52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5oYW5kbGVkIG5vZGUgdHlwZSBvbiBmb3JtYXQgbWVzc2FnZSBwYXJ0OiAke3R5cGV9YCk7XG4gICAgfVxufVxuXG5jb25zdCBXQVJOX01FU1NBR0UgPSBgRGV0ZWN0ZWQgSFRNTCBpbiAne3NvdXJjZX0nIG1lc3NhZ2UuIFJlY29tbWVuZCBub3QgdXNpbmcgSFRNTCBtZXNzYWdlcyB0byBhdm9pZCBYU1MuYDtcbmZ1bmN0aW9uIGNoZWNrSHRtbE1lc3NhZ2Uoc291cmNlLCB3YXJuSHRtbE1lc3NhZ2UpIHtcbiAgICBpZiAod2Fybkh0bWxNZXNzYWdlICYmIGRldGVjdEh0bWxUYWcoc291cmNlKSkge1xuICAgICAgICB3YXJuKGZvcm1hdCQxKFdBUk5fTUVTU0FHRSwgeyBzb3VyY2UgfSkpO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHRPbkNhY2hlS2V5ID0gKG1lc3NhZ2UpID0+IG1lc3NhZ2U7XG5sZXQgY29tcGlsZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGNsZWFyQ29tcGlsZUNhY2hlKCkge1xuICAgIGNvbXBpbGVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5jb25zdCBpc01lc3NhZ2VBU1QgPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmXG4gICAgKHZhbC50ID09PSAwIHx8IHZhbC50eXBlID09PSAwKSAmJlxuICAgICgnYicgaW4gdmFsIHx8ICdib2R5JyBpbiB2YWwpO1xuZnVuY3Rpb24gYmFzZUNvbXBpbGUobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gZXJyb3IgZGV0ZWN0aW5nIG9uIGNvbXBpbGVcbiAgICBsZXQgZGV0ZWN0RXJyb3IgPSBmYWxzZTtcbiAgICBjb25zdCBvbkVycm9yID0gb3B0aW9ucy5vbkVycm9yIHx8IGRlZmF1bHRPbkVycm9yO1xuICAgIG9wdGlvbnMub25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgZGV0ZWN0RXJyb3IgPSB0cnVlO1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgfTtcbiAgICAvLyBjb21waWxlIHdpdGggbWVzYXNnZS1jb21waWxlclxuICAgIHJldHVybiB7IC4uLmJhc2VDb21waWxlJDEobWVzc2FnZSwgb3B0aW9ucyksIGRldGVjdEVycm9yIH07XG59XG4vKiAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuY29uc3QgY29tcGlsZVRvRnVuY3Rpb24gPSAobWVzc2FnZSwgY29udGV4dCkgPT4ge1xuICAgIGlmICghaXNTdHJpbmcobWVzc2FnZSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX05PTl9TVFJJTkdfTUVTU0FHRSk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgLy8gY2hlY2sgSFRNTCBtZXNzYWdlXG4gICAgICAgIGNvbnN0IHdhcm5IdG1sTWVzc2FnZSA9IGlzQm9vbGVhbihjb250ZXh0Lndhcm5IdG1sTWVzc2FnZSlcbiAgICAgICAgICAgID8gY29udGV4dC53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoZWNrSHRtbE1lc3NhZ2UobWVzc2FnZSwgd2Fybkh0bWxNZXNzYWdlKTtcbiAgICAgICAgLy8gY2hlY2sgY2FjaGVzXG4gICAgICAgIGNvbnN0IG9uQ2FjaGVLZXkgPSBjb250ZXh0Lm9uQ2FjaGVLZXkgfHwgZGVmYXVsdE9uQ2FjaGVLZXk7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gb25DYWNoZUtleShtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gY29tcGlsZUNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21waWxlXG4gICAgICAgIGNvbnN0IHsgY29kZSwgZGV0ZWN0RXJyb3IgfSA9IGJhc2VDb21waWxlKG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICAvLyBldmFsdWF0ZSBmdW5jdGlvblxuICAgICAgICBjb25zdCBtc2cgPSBuZXcgRnVuY3Rpb24oYHJldHVybiAke2NvZGV9YCkoKTtcbiAgICAgICAgLy8gaWYgb2NjdXJyZWQgY29tcGlsZSBlcnJvciwgZG9uJ3QgY2FjaGVcbiAgICAgICAgcmV0dXJuICFkZXRlY3RFcnJvclxuICAgICAgICAgICAgPyAoY29tcGlsZUNhY2hlW2NhY2hlS2V5XSA9IG1zZylcbiAgICAgICAgICAgIDogbXNnO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjb21waWxlKG1lc3NhZ2UsIGNvbnRleHQpIHtcbiAgICBpZiAoKChfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gJiYgIV9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXykpICYmXG4gICAgICAgIGlzU3RyaW5nKG1lc3NhZ2UpKSB7XG4gICAgICAgIC8vIGNoZWNrIEhUTUwgbWVzc2FnZVxuICAgICAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc0Jvb2xlYW4oY29udGV4dC53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IGNvbnRleHQud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0h0bWxNZXNzYWdlKG1lc3NhZ2UsIHdhcm5IdG1sTWVzc2FnZSk7XG4gICAgICAgIC8vIGNoZWNrIGNhY2hlc1xuICAgICAgICBjb25zdCBvbkNhY2hlS2V5ID0gY29udGV4dC5vbkNhY2hlS2V5IHx8IGRlZmF1bHRPbkNhY2hlS2V5O1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IG9uQ2FjaGVLZXkobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGNvbXBpbGVDYWNoZVtjYWNoZUtleV07XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcGlsZSB3aXRoIEpJVCBtb2RlXG4gICAgICAgIGNvbnN0IHsgYXN0LCBkZXRlY3RFcnJvciB9ID0gYmFzZUNvbXBpbGUobWVzc2FnZSwge1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyksXG4gICAgICAgICAgICBqaXQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbXBvc2UgbWVzc2FnZSBmdW5jdGlvbiBmcm9tIEFTVFxuICAgICAgICBjb25zdCBtc2cgPSBmb3JtYXQoYXN0KTtcbiAgICAgICAgLy8gaWYgb2NjdXJyZWQgY29tcGlsZSBlcnJvciwgZG9uJ3QgY2FjaGVcbiAgICAgICAgcmV0dXJuICFkZXRlY3RFcnJvclxuICAgICAgICAgICAgPyAoY29tcGlsZUNhY2hlW2NhY2hlS2V5XSA9IG1zZylcbiAgICAgICAgICAgIDogbXNnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNNZXNzYWdlQVNUKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB3YXJuKGB0aGUgbWVzc2FnZSB0aGF0IGlzIHJlc29sdmUgd2l0aCBrZXkgJyR7Y29udGV4dC5rZXl9JyBpcyBub3Qgc3VwcG9ydGVkIGZvciBqaXQgY29tcGlsYXRpb25gKTtcbiAgICAgICAgICAgIHJldHVybiAoKCkgPT4gbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVNUIGNhc2UgKHBhc3NlZCBmcm9tIGJ1bmRsZXIpXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gbWVzc2FnZS5jYWNoZUtleTtcbiAgICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBjb21waWxlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb21wb3NlIG1lc3NhZ2UgZnVuY3Rpb24gZnJvbSBtZXNzYWdlIChBU1QpXG4gICAgICAgICAgICByZXR1cm4gKGNvbXBpbGVDYWNoZVtjYWNoZUtleV0gPVxuICAgICAgICAgICAgICAgIGZvcm1hdChtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBOT09QX01FU1NBR0VfRlVOQ1RJT04gPSAoKSA9PiAnJztcbmNvbnN0IGlzTWVzc2FnZUZ1bmN0aW9uID0gKHZhbCkgPT4gaXNGdW5jdGlvbih2YWwpO1xuLy8gaW1wbGVtZW50YXRpb24gb2YgYHRyYW5zbGF0ZWAgZnVuY3Rpb25cbmZ1bmN0aW9uIHRyYW5zbGF0ZShjb250ZXh0LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBmYWxsYmFja0Zvcm1hdCwgcG9zdFRyYW5zbGF0aW9uLCB1bnJlc29sdmluZywgbWVzc2FnZUNvbXBpbGVyLCBmYWxsYmFja0xvY2FsZSwgbWVzc2FnZXMgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgW2tleSwgb3B0aW9uc10gPSBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyk7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSBpc0Jvb2xlYW4ob3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXIpXG4gICAgICAgID8gb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXJcbiAgICAgICAgOiBjb250ZXh0LmVzY2FwZVBhcmFtZXRlcjtcbiAgICBjb25zdCByZXNvbHZlZE1lc3NhZ2UgPSAhIW9wdGlvbnMucmVzb2x2ZWRNZXNzYWdlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGRlZmF1bHRNc2dPcktleSA9IGlzU3RyaW5nKG9wdGlvbnMuZGVmYXVsdCkgfHwgaXNCb29sZWFuKG9wdGlvbnMuZGVmYXVsdCkgLy8gZGVmYXVsdCBieSBmdW5jdGlvbiBvcHRpb25cbiAgICAgICAgPyAhaXNCb29sZWFuKG9wdGlvbnMuZGVmYXVsdClcbiAgICAgICAgICAgID8gb3B0aW9ucy5kZWZhdWx0XG4gICAgICAgICAgICA6ICghbWVzc2FnZUNvbXBpbGVyID8gKCkgPT4ga2V5IDoga2V5KVxuICAgICAgICA6IGZhbGxiYWNrRm9ybWF0IC8vIGRlZmF1bHQgYnkgYGZhbGxiYWNrRm9ybWF0YCBvcHRpb25cbiAgICAgICAgICAgID8gKCFtZXNzYWdlQ29tcGlsZXIgPyAoKSA9PiBrZXkgOiBrZXkpXG4gICAgICAgICAgICA6ICcnO1xuICAgIGNvbnN0IGVuYWJsZURlZmF1bHRNc2cgPSBmYWxsYmFja0Zvcm1hdCB8fCBkZWZhdWx0TXNnT3JLZXkgIT09ICcnO1xuICAgIGNvbnN0IGxvY2FsZSA9IGdldExvY2FsZShjb250ZXh0LCBvcHRpb25zKTtcbiAgICAvLyBlc2NhcGUgcGFyYW1zXG4gICAgZXNjYXBlUGFyYW1ldGVyICYmIGVzY2FwZVBhcmFtcyhvcHRpb25zKTtcbiAgICAvLyByZXNvbHZlIG1lc3NhZ2UgZm9ybWF0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCBbZm9ybWF0U2NvcGUsIHRhcmdldExvY2FsZSwgbWVzc2FnZV0gPSAhcmVzb2x2ZWRNZXNzYWdlXG4gICAgICAgID8gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKVxuICAgICAgICA6IFtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIG1lc3NhZ2VzW2xvY2FsZV0gfHwge31cbiAgICAgICAgXTtcbiAgICAvLyBOT1RFOlxuICAgIC8vICBGaXggdG8gd29yayBhcm91bmQgYHNzclRyYW5zZnJvbWAgYnVnIGluIFZpdGUuXG4gICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS9pc3N1ZXMvNDMwNlxuICAgIC8vICBUbyBnZXQgYXJvdW5kIHRoaXMsIHVzZSB0ZW1wb3JhcnkgdmFyaWFibGVzLlxuICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vbnV4dC9mcmFtZXdvcmsvaXNzdWVzLzE0NjEjaXNzdWVjb21tZW50LTk1NDYwNjI0M1xuICAgIGxldCBmb3JtYXQgPSBmb3JtYXRTY29wZTtcbiAgICAvLyBpZiB5b3UgdXNlIGRlZmF1bHQgbWVzc2FnZSwgc2V0IGl0IGFzIG1lc3NhZ2UgZm9ybWF0IVxuICAgIGxldCBjYWNoZUJhc2VLZXkgPSBrZXk7XG4gICAgaWYgKCFyZXNvbHZlZE1lc3NhZ2UgJiZcbiAgICAgICAgIShpc1N0cmluZyhmb3JtYXQpIHx8XG4gICAgICAgICAgICBpc01lc3NhZ2VBU1QoZm9ybWF0KSB8fFxuICAgICAgICAgICAgaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkpIHtcbiAgICAgICAgaWYgKGVuYWJsZURlZmF1bHRNc2cpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGRlZmF1bHRNc2dPcktleTtcbiAgICAgICAgICAgIGNhY2hlQmFzZUtleSA9IGZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjaGVja2luZyBtZXNzYWdlIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxuICAgIGlmICghcmVzb2x2ZWRNZXNzYWdlICYmXG4gICAgICAgICghKGlzU3RyaW5nKGZvcm1hdCkgfHxcbiAgICAgICAgICAgIGlzTWVzc2FnZUFTVChmb3JtYXQpIHx8XG4gICAgICAgICAgICBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpKSB8fFxuICAgICAgICAgICAgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpKSB7XG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmVmYWN0b3JcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzU3RyaW5nKGZvcm1hdCkgJiYgY29udGV4dC5tZXNzYWdlQ29tcGlsZXIgPT0gbnVsbCkge1xuICAgICAgICB3YXJuKGBUaGUgbWVzc2FnZSBmb3JtYXQgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkLiBgICtcbiAgICAgICAgICAgIGBCZWNhdXNlIG1lc3NhZ2UgY29tcGlsZXIgaXNuJ3QgaW5jbHVkZWQuIGAgK1xuICAgICAgICAgICAgYFlvdSBuZWVkIHRvIHByZS1jb21waWxhdGlvbiBhbGwgbWVzc2FnZSBmb3JtYXQuIGAgK1xuICAgICAgICAgICAgYFNvIHRyYW5zbGF0ZSBmdW5jdGlvbiByZXR1cm4gJyR7a2V5fScuYCk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIC8vIHNldHVwIGNvbXBpbGUgZXJyb3IgZGV0ZWN0aW5nXG4gICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XG4gICAgY29uc3Qgb25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgb2NjdXJyZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLy8gY29tcGlsZSBtZXNzYWdlIGZvcm1hdFxuICAgIGNvbnN0IG1zZyA9ICFpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXG4gICAgICAgID8gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIGZvcm1hdCwgY2FjaGVCYXNlS2V5LCBvbkVycm9yKVxuICAgICAgICA6IGZvcm1hdDtcbiAgICAvLyBpZiBvY2N1cnJlZCBjb21waWxlIGVycm9yLCByZXR1cm4gdGhlIG1lc3NhZ2UgZm9ybWF0XG4gICAgaWYgKG9jY3VycmVkKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuICAgIC8vIGV2YWx1YXRlIG1lc3NhZ2Ugd2l0aCBjb250ZXh0XG4gICAgY29uc3QgY3R4T3B0aW9ucyA9IGdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyhjb250ZXh0LCB0YXJnZXRMb2NhbGUsIG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIGNvbnN0IG1zZ0NvbnRleHQgPSBjcmVhdGVNZXNzYWdlQ29udGV4dChjdHhPcHRpb25zKTtcbiAgICBjb25zdCBtZXNzYWdlZCA9IGV2YWx1YXRlTWVzc2FnZShjb250ZXh0LCBtc2csIG1zZ0NvbnRleHQpO1xuICAgIC8vIGlmIHVzZSBwb3N0IHRyYW5zbGF0aW9uIG9wdGlvbiwgcHJvY2VlZCBpdCB3aXRoIGhhbmRsZXJcbiAgICBjb25zdCByZXQgPSBwb3N0VHJhbnNsYXRpb25cbiAgICAgICAgPyBwb3N0VHJhbnNsYXRpb24obWVzc2FnZWQsIGtleSlcbiAgICAgICAgOiBtZXNzYWdlZDtcbiAgICAvLyBOT1RFOiBleHBlcmltZW50YWwgISFcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGNvbnN0IHBheWxvYWRzID0ge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAga2V5OiBpc1N0cmluZyhrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXlcbiAgICAgICAgICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQua2V5XG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBsb2NhbGU6IHRhcmdldExvY2FsZSB8fCAoaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxuICAgICAgICAgICAgICAgID8gZm9ybWF0LmxvY2FsZVxuICAgICAgICAgICAgICAgIDogJycpLFxuICAgICAgICAgICAgZm9ybWF0OiBpc1N0cmluZyhmb3JtYXQpXG4gICAgICAgICAgICAgICAgPyBmb3JtYXRcbiAgICAgICAgICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXRcbiAgICAgICAgfTtcbiAgICAgICAgcGF5bG9hZHMubWV0YSA9IGFzc2lnbih7fSwgY29udGV4dC5fX21ldGEsIGdldEFkZGl0aW9uYWxNZXRhKCkgfHwge30pO1xuICAgICAgICB0cmFuc2xhdGVEZXZUb29scyhwYXlsb2Fkcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBlc2NhcGVQYXJhbXMob3B0aW9ucykge1xuICAgIGlmIChpc0FycmF5KG9wdGlvbnMubGlzdCkpIHtcbiAgICAgICAgb3B0aW9ucy5saXN0ID0gb3B0aW9ucy5saXN0Lm1hcChpdGVtID0+IGlzU3RyaW5nKGl0ZW0pID8gZXNjYXBlSHRtbChpdGVtKSA6IGl0ZW0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChvcHRpb25zLm5hbWVkKSkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm5hbWVkKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcob3B0aW9ucy5uYW1lZFtrZXldKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubmFtZWRba2V5XSA9IGVzY2FwZUh0bWwob3B0aW9ucy5uYW1lZFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlcywgb25XYXJuLCBtZXNzYWdlUmVzb2x2ZXI6IHJlc29sdmVWYWx1ZSwgbG9jYWxlRmFsbGJhY2tlciB9ID0gY29udGV4dDtcbiAgICBjb25zdCBsb2NhbGVzID0gbG9jYWxlRmFsbGJhY2tlcihjb250ZXh0LCBmYWxsYmFja0xvY2FsZSwgbG9jYWxlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IG1lc3NhZ2UgPSB7fTtcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xuICAgIGxldCBmb3JtYXQgPSBudWxsO1xuICAgIGxldCBmcm9tID0gbG9jYWxlO1xuICAgIGxldCB0byA9IG51bGw7XG4gICAgY29uc3QgdHlwZSA9ICd0cmFuc2xhdGUnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRMb2NhbGUgPSB0byA9IGxvY2FsZXNbaV07XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlICYmXG4gICAgICAgICAgICBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihmYWxsYmFja1dhcm4sIGtleSkpIHtcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX1RSQU5TTEFURSwge1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldExvY2FsZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBsb2NhbGUgIT09IHRhcmdldExvY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5GQUxCQUNLICovLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgIG1lc3NhZ2VzW3RhcmdldExvY2FsZV0gfHwge307XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgbGV0IHN0YXJ0VGFnO1xuICAgICAgICBsZXQgZW5kVGFnO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBzdGFydFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtcmVzb2x2ZS1zdGFydCc7XG4gICAgICAgICAgICBlbmRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLXJlc29sdmUtZW5kJztcbiAgICAgICAgICAgIG1hcmsgJiYgbWFyayhzdGFydFRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChmb3JtYXQgPSByZXNvbHZlVmFsdWUobWVzc2FnZSwga2V5KSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIG51bGwsIHJlc29sdmUgd2l0aCBvYmplY3Qga2V5IHBhdGhcbiAgICAgICAgICAgIGZvcm1hdCA9IG1lc3NhZ2Vba2V5XTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBzdGFydCAmJiBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJtZXNzYWdlLXJlc29sdmVcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfUkVTT0xWRSAqLywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2UtcmVzb2x2ZVwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUVTU0FHRV9SRVNPTFZFICovLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogZW5kIC0gc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydFRhZyAmJiBlbmRUYWcgJiYgbWFyayAmJiBtZWFzdXJlKSB7XG4gICAgICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSByZXNvbHZlJywgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaW5nKGZvcm1hdCkgfHwgaXNNZXNzYWdlQVNUKGZvcm1hdCkgfHwgaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWlzc2luZ1JldCA9IGhhbmRsZU1pc3NpbmcoY29udGV4dCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGtleSwgdGFyZ2V0TG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSk7XG4gICAgICAgIGlmIChtaXNzaW5nUmV0ICE9PSBrZXkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IG1pc3NpbmdSZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZnJvbSA9IHRvO1xuICAgIH1cbiAgICByZXR1cm4gW2Zvcm1hdCwgdGFyZ2V0TG9jYWxlLCBtZXNzYWdlXTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBmb3JtYXQsIGNhY2hlQmFzZUtleSwgb25FcnJvcikge1xuICAgIGNvbnN0IHsgbWVzc2FnZUNvbXBpbGVyLCB3YXJuSHRtbE1lc3NhZ2UgfSA9IGNvbnRleHQ7XG4gICAgaWYgKGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpIHtcbiAgICAgICAgY29uc3QgbXNnID0gZm9ybWF0O1xuICAgICAgICBtc2cubG9jYWxlID0gbXNnLmxvY2FsZSB8fCB0YXJnZXRMb2NhbGU7XG4gICAgICAgIG1zZy5rZXkgPSBtc2cua2V5IHx8IGtleTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VDb21waWxlciA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9ICgoKSA9PiBmb3JtYXQpO1xuICAgICAgICBtc2cubG9jYWxlID0gdGFyZ2V0TG9jYWxlO1xuICAgICAgICBtc2cua2V5ID0ga2V5O1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICBsZXQgc3RhcnRUYWc7XG4gICAgbGV0IGVuZFRhZztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWNvbXBpbGF0aW9uLXN0YXJ0JztcbiAgICAgICAgZW5kVGFnID0gJ2ludGxpZnktbWVzc2FnZS1jb21waWxhdGlvbi1lbmQnO1xuICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xuICAgIH1cbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlQ29tcGlsZXIoZm9ybWF0LCBnZXRDb21waWxlQ29udGV4dChjb250ZXh0LCB0YXJnZXRMb2NhbGUsIGNhY2hlQmFzZUtleSwgZm9ybWF0LCB3YXJuSHRtbE1lc3NhZ2UsIG9uRXJyb3IpKTtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQpIHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtY29tcGlsYXRpb25cIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfQ09NUElMQVRJT04gKi8sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2UtY29tcGlsYXRpb25cIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfQ09NUElMQVRJT04gKi8sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRpbWU6IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAkeyd0cmFuc2xhdGUnfToke2tleX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xuICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgICAgICAgbWVhc3VyZSgnaW50bGlmeSBtZXNzYWdlIGNvbXBpbGF0aW9uJywgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbXNnLmxvY2FsZSA9IHRhcmdldExvY2FsZTtcbiAgICBtc2cua2V5ID0ga2V5O1xuICAgIG1zZy5zb3VyY2UgPSBmb3JtYXQ7XG4gICAgcmV0dXJuIG1zZztcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlTWVzc2FnZShjb250ZXh0LCBtc2csIG1zZ0N0eCkge1xuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgIGxldCBzdGFydFRhZztcbiAgICBsZXQgZW5kVGFnO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XG4gICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBzdGFydFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtZXZhbHVhdGlvbi1zdGFydCc7XG4gICAgICAgIGVuZFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtZXZhbHVhdGlvbi1lbmQnO1xuICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlZCA9IG1zZyhtc2dDdHgpO1xuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICBjb25zdCBlbmQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICBpZiAoZW1pdHRlciAmJiBzdGFydCkge1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1ldmFsdWF0aW9uXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX0VWQUxVQVRJT04gKi8sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2UtZXZhbHVhdGlvblwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUVTU0FHRV9FVkFMVUFUSU9OICovLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlZCxcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHsndHJhbnNsYXRlJ306JHttc2cua2V5fWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFRhZyAmJiBlbmRUYWcgJiYgbWFyayAmJiBtZWFzdXJlKSB7XG4gICAgICAgICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICAgICAgICBtZWFzdXJlKCdpbnRsaWZ5IG1lc3NhZ2UgZXZhbHVhdGlvbicsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlZDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKSB7XG4gICAgY29uc3QgW2FyZzEsIGFyZzIsIGFyZzNdID0gYXJncztcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgaWYgKCFpc1N0cmluZyhhcmcxKSAmJlxuICAgICAgICAhaXNOdW1iZXIoYXJnMSkgJiZcbiAgICAgICAgIWlzTWVzc2FnZUZ1bmN0aW9uKGFyZzEpICYmXG4gICAgICAgICFpc01lc3NhZ2VBU1QoYXJnMSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBrZXkgPSBpc051bWJlcihhcmcxKVxuICAgICAgICA/IFN0cmluZyhhcmcxKVxuICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGFyZzEpXG4gICAgICAgICAgICA/IGFyZzFcbiAgICAgICAgICAgIDogYXJnMTtcbiAgICBpZiAoaXNOdW1iZXIoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHQgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpICYmICFpc0VtcHR5T2JqZWN0KGFyZzIpKSB7XG4gICAgICAgIG9wdGlvbnMubmFtZWQgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KGFyZzIpKSB7XG4gICAgICAgIG9wdGlvbnMubGlzdCA9IGFyZzI7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihhcmczKSkge1xuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGFyZzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKGFyZzMpKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdCA9IGFyZzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgYXNzaWduKG9wdGlvbnMsIGFyZzMpO1xuICAgIH1cbiAgICByZXR1cm4gW2tleSwgb3B0aW9uc107XG59XG5mdW5jdGlvbiBnZXRDb21waWxlQ29udGV4dChjb250ZXh0LCBsb2NhbGUsIGtleSwgc291cmNlLCB3YXJuSHRtbE1lc3NhZ2UsIG9uRXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxuICAgICAgICBvbkVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc291cmNlID0gZ2V0U291cmNlRm9yQ29kZUZyYW1lKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBNZXNzYWdlIGNvbXBpbGF0aW9uIGVycm9yOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgY29kZUZyYW1lID0gZXJyLmxvY2F0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIF9zb3VyY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVDb2RlRnJhbWUoX3NvdXJjZSwgZXJyLmxvY2F0aW9uLnN0YXJ0Lm9mZnNldCwgZXJyLmxvY2F0aW9uLmVuZC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgICAgIGlmIChlbWl0dGVyICYmIF9zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiY29tcGlsZS1lcnJvclwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuQ09NUElMRV9FUlJPUiAqLywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBlcnIubG9jYXRpb24gJiYgZXJyLmxvY2F0aW9uLnN0YXJ0Lm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZXJyLmxvY2F0aW9uICYmIGVyci5sb2NhdGlvbi5lbmQub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7J3RyYW5zbGF0ZSd9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY29kZUZyYW1lID8gYCR7bWVzc2FnZX1cXG4ke2NvZGVGcmFtZX1gIDogbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FjaGVLZXk6IChzb3VyY2UpID0+IGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXkobG9jYWxlLCBrZXksIHNvdXJjZSlcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0U291cmNlRm9yQ29kZUZyYW1lKHNvdXJjZSkge1xuICAgIGlmIChpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoc291cmNlLmxvYyAmJiBzb3VyY2UubG9jLnNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5sb2Muc291cmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TWVzc2FnZUNvbnRleHRPcHRpb25zKGNvbnRleHQsIGxvY2FsZSwgbWVzc2FnZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgbW9kaWZpZXJzLCBwbHVyYWxSdWxlcywgbWVzc2FnZVJlc29sdmVyOiByZXNvbHZlVmFsdWUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuLCBmYWxsYmFja0NvbnRleHQgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSAoa2V5KSA9PiB7XG4gICAgICAgIGxldCB2YWwgPSByZXNvbHZlVmFsdWUobWVzc2FnZSwga2V5KTtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gcm9vdCBjb250ZXh0XG4gICAgICAgIGlmICh2YWwgPT0gbnVsbCAmJiBmYWxsYmFja0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IFssICwgbWVzc2FnZV0gPSByZXNvbHZlTWVzc2FnZUZvcm1hdChmYWxsYmFja0NvbnRleHQsIGtleSwgbG9jYWxlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2Fybik7XG4gICAgICAgICAgICB2YWwgPSByZXNvbHZlVmFsdWUobWVzc2FnZSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsKSB8fCBpc01lc3NhZ2VBU1QodmFsKSkge1xuICAgICAgICAgICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9jY3VycmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBjb21waWxlTWVzc2FnZUZvcm1hdChjb250ZXh0LCBrZXksIGxvY2FsZSwgdmFsLCBrZXksIG9uRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuICFvY2N1cnJlZFxuICAgICAgICAgICAgICAgID8gbXNnXG4gICAgICAgICAgICAgICAgOiBOT09QX01FU1NBR0VfRlVOQ1RJT047XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNNZXNzYWdlRnVuY3Rpb24odmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBiZSBpbXBsZW1lbnRlZCB3YXJuaW5nIG1lc3NhZ2VcbiAgICAgICAgICAgIHJldHVybiBOT09QX01FU1NBR0VfRlVOQ1RJT047XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGN0eE9wdGlvbnMgPSB7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBwbHVyYWxSdWxlcyxcbiAgICAgICAgbWVzc2FnZXM6IHJlc29sdmVNZXNzYWdlXG4gICAgfTtcbiAgICBpZiAoY29udGV4dC5wcm9jZXNzb3IpIHtcbiAgICAgICAgY3R4T3B0aW9ucy5wcm9jZXNzb3IgPSBjb250ZXh0LnByb2Nlc3NvcjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubGlzdCkge1xuICAgICAgICBjdHhPcHRpb25zLmxpc3QgPSBvcHRpb25zLmxpc3Q7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm5hbWVkKSB7XG4gICAgICAgIGN0eE9wdGlvbnMubmFtZWQgPSBvcHRpb25zLm5hbWVkO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5wbHVyYWwpKSB7XG4gICAgICAgIGN0eE9wdGlvbnMucGx1cmFsSW5kZXggPSBvcHRpb25zLnBsdXJhbDtcbiAgICB9XG4gICAgcmV0dXJuIGN0eE9wdGlvbnM7XG59XG5cbmNvbnN0IGludGxEZWZpbmVkID0gdHlwZW9mIEludGwgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgQXZhaWxhYmlsaXRpZXMgPSB7XG4gICAgZGF0ZVRpbWVGb3JtYXQ6IGludGxEZWZpbmVkICYmIHR5cGVvZiBJbnRsLkRhdGVUaW1lRm9ybWF0ICE9PSAndW5kZWZpbmVkJyxcbiAgICBudW1iZXJGb3JtYXQ6IGludGxEZWZpbmVkICYmIHR5cGVvZiBJbnRsLk51bWJlckZvcm1hdCAhPT0gJ3VuZGVmaW5lZCdcbn07XG5cbi8vIGltcGxlbWVudGF0aW9uIG9mIGBkYXRldGltZWAgZnVuY3Rpb25cbmZ1bmN0aW9uIGRhdGV0aW1lKGNvbnRleHQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IGRhdGV0aW1lRm9ybWF0cywgdW5yZXNvbHZpbmcsIGZhbGxiYWNrTG9jYWxlLCBvbldhcm4sIGxvY2FsZUZhbGxiYWNrZXIgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgeyBfX2RhdGV0aW1lRm9ybWF0dGVycyB9ID0gY29udGV4dDtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFBdmFpbGFiaWxpdGllcy5kYXRlVGltZUZvcm1hdCkge1xuICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5DQU5OT1RfRk9STUFUX0RBVEUpKTtcbiAgICAgICAgcmV0dXJuIE1JU1NJTkdfUkVTT0xWRV9WQUxVRTtcbiAgICB9XG4gICAgY29uc3QgW2tleSwgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc10gPSBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKTtcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgOiBjb250ZXh0Lm1pc3NpbmdXYXJuO1xuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICA6IGNvbnRleHQuZmFsbGJhY2tXYXJuO1xuICAgIGNvbnN0IHBhcnQgPSAhIW9wdGlvbnMucGFydDtcbiAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgbG9jYWxlcyA9IGxvY2FsZUZhbGxiYWNrZXIoY29udGV4dCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7XG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3ZlcnJpZGVzKS5mb3JtYXQodmFsdWUpO1xuICAgIH1cbiAgICAvLyByZXNvbHZlIGZvcm1hdFxuICAgIGxldCBkYXRldGltZUZvcm1hdCA9IHt9O1xuICAgIGxldCB0YXJnZXRMb2NhbGU7XG4gICAgbGV0IGZvcm1hdCA9IG51bGw7XG4gICAgbGV0IGZyb20gPSBsb2NhbGU7XG4gICAgbGV0IHRvID0gbnVsbDtcbiAgICBjb25zdCB0eXBlID0gJ2RhdGV0aW1lIGZvcm1hdCc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhcmdldExvY2FsZSA9IHRvID0gbG9jYWxlc1tpXTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcbiAgICAgICAgICAgIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrV2Fybiwga2V5KSkge1xuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fREFURV9GT1JNQVQsIHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRMb2NhbGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuRkFMQkFDSyAqLywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGF0ZXRpbWVGb3JtYXQgPVxuICAgICAgICAgICAgZGF0ZXRpbWVGb3JtYXRzW3RhcmdldExvY2FsZV0gfHwge307XG4gICAgICAgIGZvcm1hdCA9IGRhdGV0aW1lRm9ybWF0W2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KGZvcm1hdCkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgZnJvbSA9IHRvO1xuICAgIH1cbiAgICAvLyBjaGVja2luZyBmb3JtYXQgYW5kIHRhcmdldCBsb2NhbGVcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoZm9ybWF0KSB8fCAhaXNTdHJpbmcodGFyZ2V0TG9jYWxlKSkge1xuICAgICAgICByZXR1cm4gdW5yZXNvbHZpbmcgPyBOT1RfUkVPU0xWRUQgOiBrZXk7XG4gICAgfVxuICAgIGxldCBpZCA9IGAke3RhcmdldExvY2FsZX1fXyR7a2V5fWA7XG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KG92ZXJyaWRlcykpIHtcbiAgICAgICAgaWQgPSBgJHtpZH1fXyR7SlNPTi5zdHJpbmdpZnkob3ZlcnJpZGVzKX1gO1xuICAgIH1cbiAgICBsZXQgZm9ybWF0dGVyID0gX19kYXRldGltZUZvcm1hdHRlcnMuZ2V0KGlkKTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh0YXJnZXRMb2NhbGUsIGFzc2lnbih7fSwgZm9ybWF0LCBvdmVycmlkZXMpKTtcbiAgICAgICAgX19kYXRldGltZUZvcm1hdHRlcnMuc2V0KGlkLCBmb3JtYXR0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gIXBhcnQgPyBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlKSA6IGZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKHZhbHVlKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMgPSBbXG4gICAgJ2xvY2FsZU1hdGNoZXInLFxuICAgICd3ZWVrZGF5JyxcbiAgICAnZXJhJyxcbiAgICAneWVhcicsXG4gICAgJ21vbnRoJyxcbiAgICAnZGF5JyxcbiAgICAnaG91cicsXG4gICAgJ21pbnV0ZScsXG4gICAgJ3NlY29uZCcsXG4gICAgJ3RpbWVab25lTmFtZScsXG4gICAgJ2Zvcm1hdE1hdGNoZXInLFxuICAgICdob3VyMTInLFxuICAgICd0aW1lWm9uZScsXG4gICAgJ2RhdGVTdHlsZScsXG4gICAgJ3RpbWVTdHlsZScsXG4gICAgJ2NhbGVuZGFyJyxcbiAgICAnZGF5UGVyaW9kJyxcbiAgICAnbnVtYmVyaW5nU3lzdGVtJyxcbiAgICAnaG91ckN5Y2xlJyxcbiAgICAnZnJhY3Rpb25hbFNlY29uZERpZ2l0cydcbl07XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSB7XG4gICAgY29uc3QgW2FyZzEsIGFyZzIsIGFyZzMsIGFyZzRdID0gYXJncztcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgbGV0IG92ZXJyaWRlcyA9IHt9O1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnMSkpIHtcbiAgICAgICAgLy8gT25seSBhbGxvdyBJU08gc3RyaW5ncyAtIG90aGVyIGRhdGUgZm9ybWF0cyBhcmUgb2Z0ZW4gc3VwcG9ydGVkLFxuICAgICAgICAvLyBidXQgbWF5IGNhdXNlIGRpZmZlcmVudCByZXN1bHRzIGluIGRpZmZlcmVudCBicm93c2Vycy5cbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGFyZzEubWF0Y2goLyhcXGR7NH0tXFxkezJ9LVxcZHsyfSkoVHxcXHMpPyguKikvKTtcbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29tZSBicm93c2VycyBjYW4gbm90IHBhcnNlIHRoZSBpc28gZGF0ZXRpbWUgc2VwYXJhdGVkIGJ5IHNwYWNlLFxuICAgICAgICAvLyB0aGlzIGlzIGEgY29tcHJvbWlzZSBzb2x1dGlvbiBieSByZXBsYWNlIHRoZSAnVCcvJyAnIHdpdGggJ1QnXG4gICAgICAgIGNvbnN0IGRhdGVUaW1lID0gbWF0Y2hlc1szXVxuICAgICAgICAgICAgPyBtYXRjaGVzWzNdLnRyaW0oKS5zdGFydHNXaXRoKCdUJylcbiAgICAgICAgICAgICAgICA/IGAke21hdGNoZXNbMV0udHJpbSgpfSR7bWF0Y2hlc1szXS50cmltKCl9YFxuICAgICAgICAgICAgICAgIDogYCR7bWF0Y2hlc1sxXS50cmltKCl9VCR7bWF0Y2hlc1szXS50cmltKCl9YFxuICAgICAgICAgICAgOiBtYXRjaGVzWzFdLnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZShkYXRlVGltZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgZmFpbCBpZiB0aGUgZGF0ZSBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0lTT19EQVRFX0FSR1VNRU5UKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0RhdGUoYXJnMSkpIHtcbiAgICAgICAgaWYgKGlzTmFOKGFyZzEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfREFURV9BUkdVTUVOVCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBhcmcxO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc051bWJlcihhcmcxKSkge1xuICAgICAgICB2YWx1ZSA9IGFyZzE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICBvcHRpb25zLmtleSA9IGFyZzI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXJnMikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlc1trZXldID0gYXJnMltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1trZXldID0gYXJnMltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKGFyZzMpKSB7XG4gICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmczKSkge1xuICAgICAgICBvdmVycmlkZXMgPSBhcmczO1xuICAgIH1cbiAgICBpZiAoaXNQbGFpbk9iamVjdChhcmc0KSkge1xuICAgICAgICBvdmVycmlkZXMgPSBhcmc0O1xuICAgIH1cbiAgICByZXR1cm4gW29wdGlvbnMua2V5IHx8ICcnLCB2YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGNsZWFyRGF0ZVRpbWVGb3JtYXQoY3R4LCBsb2NhbGUsIGZvcm1hdCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7bG9jYWxlfV9fJHtrZXl9YDtcbiAgICAgICAgaWYgKCFjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuX19kYXRldGltZUZvcm1hdHRlcnMuZGVsZXRlKGlkKTtcbiAgICB9XG59XG5cbi8vIGltcGxlbWVudGF0aW9uIG9mIGBudW1iZXJgIGZ1bmN0aW9uXG5mdW5jdGlvbiBudW1iZXIoY29udGV4dCwgLi4uYXJncykge1xuICAgIGNvbnN0IHsgbnVtYmVyRm9ybWF0cywgdW5yZXNvbHZpbmcsIGZhbGxiYWNrTG9jYWxlLCBvbldhcm4sIGxvY2FsZUZhbGxiYWNrZXIgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgeyBfX251bWJlckZvcm1hdHRlcnMgfSA9IGNvbnRleHQ7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQXZhaWxhYmlsaXRpZXMubnVtYmVyRm9ybWF0KSB7XG4gICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLkNBTk5PVF9GT1JNQVRfTlVNQkVSKSk7XG4gICAgICAgIHJldHVybiBNSVNTSU5HX1JFU09MVkVfVkFMVUU7XG4gICAgfVxuICAgIGNvbnN0IFtrZXksIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdID0gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpO1xuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxuICAgICAgICA6IGNvbnRleHQubWlzc2luZ1dhcm47XG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXG4gICAgICAgIDogY29udGV4dC5mYWxsYmFja1dhcm47XG4gICAgY29uc3QgcGFydCA9ICEhb3B0aW9ucy5wYXJ0O1xuICAgIGNvbnN0IGxvY2FsZSA9IGdldExvY2FsZShjb250ZXh0LCBvcHRpb25zKTtcbiAgICBjb25zdCBsb2NhbGVzID0gbG9jYWxlRmFsbGJhY2tlcihjb250ZXh0LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBmYWxsYmFja0xvY2FsZSwgbG9jYWxlKTtcbiAgICBpZiAoIWlzU3RyaW5nKGtleSkgfHwga2V5ID09PSAnJykge1xuICAgICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3ZlcnJpZGVzKS5mb3JtYXQodmFsdWUpO1xuICAgIH1cbiAgICAvLyByZXNvbHZlIGZvcm1hdFxuICAgIGxldCBudW1iZXJGb3JtYXQgPSB7fTtcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xuICAgIGxldCBmb3JtYXQgPSBudWxsO1xuICAgIGxldCBmcm9tID0gbG9jYWxlO1xuICAgIGxldCB0byA9IG51bGw7XG4gICAgY29uc3QgdHlwZSA9ICdudW1iZXIgZm9ybWF0JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICBsb2NhbGUgIT09IHRhcmdldExvY2FsZSAmJlxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XG4gICAgICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19OVU1CRVJfRk9STUFULCB7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TG9jYWxlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlKSB7XG4gICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkZBTEJBQ0sgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlckZvcm1hdCA9XG4gICAgICAgICAgICBudW1iZXJGb3JtYXRzW3RhcmdldExvY2FsZV0gfHwge307XG4gICAgICAgIGZvcm1hdCA9IG51bWJlckZvcm1hdFtrZXldO1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChmb3JtYXQpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGhhbmRsZU1pc3NpbmcoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGZyb20gPSB0bztcbiAgICB9XG4gICAgLy8gY2hlY2tpbmcgZm9ybWF0IGFuZCB0YXJnZXQgbG9jYWxlXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGZvcm1hdCkgfHwgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpIHtcbiAgICAgICAgcmV0dXJuIHVucmVzb2x2aW5nID8gTk9UX1JFT1NMVkVEIDoga2V5O1xuICAgIH1cbiAgICBsZXQgaWQgPSBgJHt0YXJnZXRMb2NhbGV9X18ke2tleX1gO1xuICAgIGlmICghaXNFbXB0eU9iamVjdChvdmVycmlkZXMpKSB7XG4gICAgICAgIGlkID0gYCR7aWR9X18ke0pTT04uc3RyaW5naWZ5KG92ZXJyaWRlcyl9YDtcbiAgICB9XG4gICAgbGV0IGZvcm1hdHRlciA9IF9fbnVtYmVyRm9ybWF0dGVycy5nZXQoaWQpO1xuICAgIGlmICghZm9ybWF0dGVyKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh0YXJnZXRMb2NhbGUsIGFzc2lnbih7fSwgZm9ybWF0LCBvdmVycmlkZXMpKTtcbiAgICAgICAgX19udW1iZXJGb3JtYXR0ZXJzLnNldChpZCwgZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgcmV0dXJuICFwYXJ0ID8gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkgOiBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyh2YWx1ZSk7XG59XG4vKiogQGludGVybmFsICovXG5jb25zdCBOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUyA9IFtcbiAgICAnbG9jYWxlTWF0Y2hlcicsXG4gICAgJ3N0eWxlJyxcbiAgICAnY3VycmVuY3knLFxuICAgICdjdXJyZW5jeURpc3BsYXknLFxuICAgICdjdXJyZW5jeVNpZ24nLFxuICAgICd1c2VHcm91cGluZycsXG4gICAgJ21pbmltdW1JbnRlZ2VyRGlnaXRzJyxcbiAgICAnbWluaW11bUZyYWN0aW9uRGlnaXRzJyxcbiAgICAnbWF4aW11bUZyYWN0aW9uRGlnaXRzJyxcbiAgICAnbWluaW11bVNpZ25pZmljYW50RGlnaXRzJyxcbiAgICAnbWF4aW11bVNpZ25pZmljYW50RGlnaXRzJyxcbiAgICAnY29tcGFjdERpc3BsYXknLFxuICAgICdub3RhdGlvbicsXG4gICAgJ3NpZ25EaXNwbGF5JyxcbiAgICAndW5pdCcsXG4gICAgJ3VuaXREaXNwbGF5JyxcbiAgICAncm91bmRpbmdNb2RlJyxcbiAgICAncm91bmRpbmdQcmlvcml0eScsXG4gICAgJ3JvdW5kaW5nSW5jcmVtZW50JyxcbiAgICAndHJhaWxpbmdaZXJvRGlzcGxheSdcbl07XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwYXJzZU51bWJlckFyZ3MoLi4uYXJncykge1xuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczLCBhcmc0XSA9IGFyZ3M7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGxldCBvdmVycmlkZXMgPSB7fTtcbiAgICBpZiAoIWlzTnVtYmVyKGFyZzEpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBhcmcxO1xuICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICBvcHRpb25zLmtleSA9IGFyZzI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXJnMikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKE5VTUJFUl9GT1JNQVRfT1BUSU9OU19LRVlTLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnMztcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnNDtcbiAgICB9XG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBjbGVhck51bWJlckZvcm1hdChjdHgsIGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtYXQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBgJHtsb2NhbGV9X18ke2tleX1gO1xuICAgICAgICBpZiAoIWNvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzLmRlbGV0ZShpZCk7XG4gICAgfVxufVxuXG57XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xufVxuXG5leHBvcnQgeyBDb3JlRXJyb3JDb2RlcywgQ29yZVdhcm5Db2RlcywgREFURVRJTUVfRk9STUFUX09QVElPTlNfS0VZUywgREVGQVVMVF9MT0NBTEUsIERFRkFVTFRfTUVTU0FHRV9EQVRBX1RZUEUsIE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgTk9UX1JFT1NMVkVELCBOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUywgVkVSU0lPTiwgY2xlYXJDb21waWxlQ2FjaGUsIGNsZWFyRGF0ZVRpbWVGb3JtYXQsIGNsZWFyTnVtYmVyRm9ybWF0LCBjb21waWxlLCBjb21waWxlVG9GdW5jdGlvbiwgY3JlYXRlQ29yZUNvbnRleHQsIGNyZWF0ZUNvcmVFcnJvciwgY3JlYXRlTWVzc2FnZUNvbnRleHQsIGRhdGV0aW1lLCBmYWxsYmFja1dpdGhMb2NhbGVDaGFpbiwgZmFsbGJhY2tXaXRoU2ltcGxlLCBnZXRBZGRpdGlvbmFsTWV0YSwgZ2V0RGV2VG9vbHNIb29rLCBnZXRGYWxsYmFja0NvbnRleHQsIGdldExvY2FsZSwgZ2V0V2Fybk1lc3NhZ2UsIGhhbmRsZU1pc3NpbmcsIGluaXRJMThuRGV2VG9vbHMsIGlzTWVzc2FnZUFTVCwgaXNNZXNzYWdlRnVuY3Rpb24sIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuLCBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuLCBudW1iZXIsIHBhcnNlLCBwYXJzZURhdGVUaW1lQXJncywgcGFyc2VOdW1iZXJBcmdzLCBwYXJzZVRyYW5zbGF0ZUFyZ3MsIHJlZ2lzdGVyTG9jYWxlRmFsbGJhY2tlciwgcmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIsIHJlZ2lzdGVyTWVzc2FnZVJlc29sdmVyLCByZXNvbHZlTG9jYWxlLCByZXNvbHZlVmFsdWUsIHJlc29sdmVXaXRoS2V5VmFsdWUsIHNldEFkZGl0aW9uYWxNZXRhLCBzZXREZXZUb29sc0hvb2ssIHNldEZhbGxiYWNrQ29udGV4dCwgdHJhbnNsYXRlLCB0cmFuc2xhdGVEZXZUb29scywgdXBkYXRlRmFsbGJhY2tMb2NhbGUgfTtcbiIsIi8qIVxuICAqIHZ1ZS1pMThuIHY5LjEwLjJcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuaW1wb3J0IHsgZ2V0R2xvYmFsVGhpcywgaW5jcmVtZW50ZXIsIGZvcm1hdCwgbWFrZVN5bWJvbCwgaXNQbGFpbk9iamVjdCwgaXNBcnJheSwgZGVlcENvcHksIGlzU3RyaW5nLCBoYXNPd24sIGlzT2JqZWN0LCB3YXJuLCB3YXJuT25jZSwgaXNCb29sZWFuLCBpc1JlZ0V4cCwgaXNGdW5jdGlvbiwgaW5Ccm93c2VyLCBhc3NpZ24sIGlzTnVtYmVyLCBjcmVhdGVFbWl0dGVyLCBpc0VtcHR5T2JqZWN0IH0gZnJvbSAnQGludGxpZnkvc2hhcmVkJztcbmltcG9ydCB7IENvcmVXYXJuQ29kZXMsIENvcmVFcnJvckNvZGVzLCBjcmVhdGVDb21waWxlRXJyb3IsIERFRkFVTFRfTE9DQUxFLCB1cGRhdGVGYWxsYmFja0xvY2FsZSwgc2V0RmFsbGJhY2tDb250ZXh0LCBjcmVhdGVDb3JlQ29udGV4dCwgY2xlYXJEYXRlVGltZUZvcm1hdCwgY2xlYXJOdW1iZXJGb3JtYXQsIHNldEFkZGl0aW9uYWxNZXRhLCBnZXRGYWxsYmFja0NvbnRleHQsIE5PVF9SRU9TTFZFRCwgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4sIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4sIHBhcnNlVHJhbnNsYXRlQXJncywgdHJhbnNsYXRlLCBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIHBhcnNlRGF0ZVRpbWVBcmdzLCBkYXRldGltZSwgcGFyc2VOdW1iZXJBcmdzLCBudW1iZXIsIGlzTWVzc2FnZUFTVCwgaXNNZXNzYWdlRnVuY3Rpb24sIGZhbGxiYWNrV2l0aExvY2FsZUNoYWluLCBOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUywgREFURVRJTUVfRk9STUFUX09QVElPTlNfS0VZUywgcmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIsIGNvbXBpbGUsIHJlZ2lzdGVyTWVzc2FnZVJlc29sdmVyLCByZXNvbHZlVmFsdWUsIHJlZ2lzdGVyTG9jYWxlRmFsbGJhY2tlciwgc2V0RGV2VG9vbHNIb29rIH0gZnJvbSAnQGludGxpZnkvY29yZS1iYXNlJztcbmltcG9ydCB7IGNyZWF0ZVZOb2RlLCBUZXh0LCBjb21wdXRlZCwgd2F0Y2gsIGdldEN1cnJlbnRJbnN0YW5jZSwgcmVmLCBzaGFsbG93UmVmLCBGcmFnbWVudCwgZGVmaW5lQ29tcG9uZW50LCBoLCBlZmZlY3RTY29wZSwgaW5qZWN0LCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBvbkJlZm9yZU1vdW50LCBpc1JlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG4vKipcbiAqIFZ1ZSBJMThuIFZlcnNpb25cbiAqXG4gKiBAcmVtYXJrc1xuICogU2VtdmVyIGZvcm1hdC4gU2FtZSBmb3JtYXQgYXMgdGhlIHBhY2thZ2UuanNvbiBgdmVyc2lvbmAgZmllbGQuXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmNvbnN0IFZFUlNJT04gPSAnOS4xMC4yJztcbi8qKlxuICogVGhpcyBpcyBvbmx5IGNhbGxlZCBpbiBlc20tYnVuZGxlciBidWlsZHMuXG4gKiBpc3RhbmJ1bC1pZ25vcmUtbmV4dFxuICovXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xuICAgIGlmICh0eXBlb2YgX19WVUVfSTE4Tl9GVUxMX0lOU1RBTExfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9JMThOX0xFR0FDWV9BUElfXyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX0pJVF9DT01QSUxBVElPTl9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9KSVRfQ09NUElMQVRJT05fXyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfRFJPUF9NRVNTQUdFX0NPTVBJTEVSX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgICB9XG59XG5cbmNvbnN0IGNvZGUkMSA9IENvcmVXYXJuQ29kZXMuX19FWFRFTkRfUE9JTlRfXztcbmNvbnN0IGluYyQxID0gaW5jcmVtZW50ZXIoY29kZSQxKTtcbmNvbnN0IEkxOG5XYXJuQ29kZXMgPSB7XG4gICAgRkFMTEJBQ0tfVE9fUk9PVDogY29kZSQxLCAvLyA5XG4gICAgTk9UX1NVUFBPUlRFRF9QUkVTRVJWRTogaW5jJDEoKSwgLy8gMTBcbiAgICBOT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUjogaW5jJDEoKSwgLy8gMTFcbiAgICBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRTogaW5jJDEoKSwgLy8gMTJcbiAgICBOT1RfU1VQUE9SVEVEX0dFVF9DSE9JQ0VfSU5ERVg6IGluYyQxKCksIC8vIDEzXG4gICAgQ09NUE9ORU5UX05BTUVfTEVHQUNZX0NPTVBBVElCTEU6IGluYyQxKCksIC8vIDE0XG4gICAgTk9UX0ZPVU5EX1BBUkVOVF9TQ09QRTogaW5jJDEoKSwgLy8gMTVcbiAgICBJR05PUkVfT0JKX0ZMQVRURU46IGluYyQxKCksIC8vIDE2XG4gICAgTk9USUNFX0RST1BfQUxMT1dfQ09NUE9TSVRJT046IGluYyQxKCksIC8vIDE3XG4gICAgTk9USUNFX0RST1BfVFJBTlNMQVRFX0VYSVNUX0NPTVBBVElCTEVfRkxBRzogaW5jJDEoKSAvLyAxOFxufTtcbmNvbnN0IHdhcm5NZXNzYWdlcyA9IHtcbiAgICBbSTE4bldhcm5Db2Rlcy5GQUxMQkFDS19UT19ST09UXTogYEZhbGwgYmFjayB0byB7dHlwZX0gJ3trZXl9JyB3aXRoIHJvb3QgbG9jYWxlLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV06IGBOb3Qgc3VwcG9ydGVkICdwcmVzZXJ2ZScuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUl06IGBOb3Qgc3VwcG9ydGVkICdmb3JtYXR0ZXInLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV9ESVJFQ1RJVkVdOiBgTm90IHN1cHBvcnRlZCAncHJlc2VydmVEaXJlY3RpdmVDb250ZW50Jy5gLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfR0VUX0NIT0lDRV9JTkRFWF06IGBOb3Qgc3VwcG9ydGVkICdnZXRDaG9pY2VJbmRleCcuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5DT01QT05FTlRfTkFNRV9MRUdBQ1lfQ09NUEFUSUJMRV06IGBDb21wb25lbnQgbmFtZSBsZWdhY3kgY29tcGF0aWJsZTogJ3tuYW1lfScgLT4gJ2kxOG4nYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RfRk9VTkRfUEFSRU5UX1NDT1BFXTogYE5vdCBmb3VuZCBwYXJlbnQgc2NvcGUuIHVzZSB0aGUgZ2xvYmFsIHNjb3BlLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuSUdOT1JFX09CSl9GTEFUVEVOXTogYElnbm9yZSBvYmplY3QgZmxhdHRlbjogJ3trZXl9JyBrZXkgaGFzIGFuIHN0cmluZyB2YWx1ZWAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9USUNFX0RST1BfQUxMT1dfQ09NUE9TSVRJT05dOiBgJ2FsbG93Q29tcG9zaXRpb24nIG9wdGlvbiB3aWxsIGJlIGRyb3BwZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBzZWUg8J+RiSBodHRwczovL3Rpbnl1cmwuY29tLzJwOTdtY3plYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RJQ0VfRFJPUF9UUkFOU0xBVEVfRVhJU1RfQ09NUEFUSUJMRV9GTEFHXTogYCd0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUnIG9wdGlvbiB3aWxsIGJlIGRyb3BwZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi5gXG59O1xuZnVuY3Rpb24gZ2V0V2Fybk1lc3NhZ2UoY29kZSwgLi4uYXJncykge1xuICAgIHJldHVybiBmb3JtYXQod2Fybk1lc3NhZ2VzW2NvZGVdLCAuLi5hcmdzKTtcbn1cblxuY29uc3QgY29kZSA9IENvcmVFcnJvckNvZGVzLl9fRVhURU5EX1BPSU5UX187XG5jb25zdCBpbmMgPSBpbmNyZW1lbnRlcihjb2RlKTtcbmNvbnN0IEkxOG5FcnJvckNvZGVzID0ge1xuICAgIC8vIGNvbXBvc2VyIG1vZHVsZSBlcnJvcnNcbiAgICBVTkVYUEVDVEVEX1JFVFVSTl9UWVBFOiBjb2RlLCAvLyAyNlxuICAgIC8vIGxlZ2FjeSBtb2R1bGUgZXJyb3JzXG4gICAgSU5WQUxJRF9BUkdVTUVOVDogaW5jKCksIC8vIDI3XG4gICAgLy8gaTE4biBtb2R1bGUgZXJyb3JzXG4gICAgTVVTVF9CRV9DQUxMX1NFVFVQX1RPUDogaW5jKCksIC8vIDI4XG4gICAgTk9UX0lOU1RBTExFRDogaW5jKCksIC8vIDI5XG4gICAgTk9UX0FWQUlMQUJMRV9JTl9MRUdBQ1lfTU9ERTogaW5jKCksIC8vIDMwXG4gICAgLy8gZGlyZWN0aXZlIG1vZHVsZSBlcnJvcnNcbiAgICBSRVFVSVJFRF9WQUxVRTogaW5jKCksIC8vIDMxXG4gICAgSU5WQUxJRF9WQUxVRTogaW5jKCksIC8vIDMyXG4gICAgLy8gdnVlLWRldnRvb2xzIGVycm9yc1xuICAgIENBTk5PVF9TRVRVUF9WVUVfREVWVE9PTFNfUExVR0lOOiBpbmMoKSwgLy8gMzNcbiAgICBOT1RfSU5TVEFMTEVEX1dJVEhfUFJPVklERTogaW5jKCksIC8vIDM0XG4gICAgLy8gdW5leHBlY3RlZCBlcnJvclxuICAgIFVORVhQRUNURURfRVJST1I6IGluYygpLCAvLyAzNVxuICAgIC8vIG5vdCBjb21wYXRpYmxlIGxlZ2FjeSB2dWUtaTE4biBjb25zdHJ1Y3RvclxuICAgIE5PVF9DT01QQVRJQkxFX0xFR0FDWV9WVUVfSTE4TjogaW5jKCksIC8vIDM2XG4gICAgLy8gYnJpZGdlIHN1cHBvcnQgdnVlIDIueCBvbmx5XG4gICAgQlJJREdFX1NVUFBPUlRfVlVFXzJfT05MWTogaW5jKCksIC8vIDM3XG4gICAgLy8gbmVlZCB0byBkZWZpbmUgYGkxOG5gIG9wdGlvbiBpbiBgYWxsb3dDb21wb3NpdGlvbjogdHJ1ZWAgYW5kIGB1c2VTY29wZTogJ2xvY2FsJyBhdCBgdXNlSTE4bmBgXG4gICAgTVVTVF9ERUZJTkVfSTE4Tl9PUFRJT05fSU5fQUxMT1dfQ09NUE9TSVRJT046IGluYygpLCAvLyAzOFxuICAgIC8vIE5vdCBhdmFpbGFibGUgQ29tcG9zdGlvbiBBUEkgaW4gTGVnYWN5IEFQSSBtb2RlLiBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlIGxlZ2FjeSBBUEkgbW9kZSBpcyB3b3JraW5nIHByb3Blcmx5XG4gICAgTk9UX0FWQUlMQUJMRV9DT01QT1NJVElPTl9JTl9MRUdBQ1k6IGluYygpLCAvLyAzOVxuICAgIC8vIGZvciBlbmhhbmNlbWVudFxuICAgIF9fRVhURU5EX1BPSU5UX186IGluYygpIC8vIDQwXG59O1xuZnVuY3Rpb24gY3JlYXRlSTE4bkVycm9yKGNvZGUsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHsgbWVzc2FnZXM6IGVycm9yTWVzc2FnZXMsIGFyZ3MgfSA6IHVuZGVmaW5lZCk7XG59XG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xuICAgIFtJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX1JFVFVSTl9UWVBFXTogJ1VuZXhwZWN0ZWQgcmV0dXJuIHR5cGUgaW4gY29tcG9zZXInLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UXTogJ0ludmFsaWQgYXJndW1lbnQnLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5NVVNUX0JFX0NBTExfU0VUVVBfVE9QXTogJ011c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBgc2V0dXBgIGZ1bmN0aW9uJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTk9UX0lOU1RBTExFRF06ICdOZWVkIHRvIGluc3RhbGwgd2l0aCBgYXBwLnVzZWAgZnVuY3Rpb24nLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SXTogJ1VuZXhwZWN0ZWQgZXJyb3InLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5OT1RfQVZBSUxBQkxFX0lOX0xFR0FDWV9NT0RFXTogJ05vdCBhdmFpbGFibGUgaW4gbGVnYWN5IG1vZGUnLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5SRVFVSVJFRF9WQUxVRV06IGBSZXF1aXJlZCBpbiB2YWx1ZTogezB9YCxcbiAgICBbSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9WQUxVRV06IGBJbnZhbGlkIHZhbHVlYCxcbiAgICBbSTE4bkVycm9yQ29kZXMuQ0FOTk9UX1NFVFVQX1ZVRV9ERVZUT09MU19QTFVHSU5dOiBgQ2Fubm90IHNldHVwIHZ1ZS1kZXZ0b29scyBwbHVnaW5gLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5OT1RfSU5TVEFMTEVEX1dJVEhfUFJPVklERV06ICdOZWVkIHRvIGluc3RhbGwgd2l0aCBgcHJvdmlkZWAgZnVuY3Rpb24nLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5OT1RfQ09NUEFUSUJMRV9MRUdBQ1lfVlVFX0kxOE5dOiAnTm90IGNvbXBhdGlibGUgbGVnYWN5IFZ1ZUkxOG4uJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuQlJJREdFX1NVUFBPUlRfVlVFXzJfT05MWV06ICd2dWUtaTE4bi1icmlkZ2Ugc3VwcG9ydCBWdWUgMi54IG9ubHknLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5NVVNUX0RFRklORV9JMThOX09QVElPTl9JTl9BTExPV19DT01QT1NJVElPTl06ICdNdXN0IGRlZmluZSDigJhpMThu4oCZIG9wdGlvbiBvciBjdXN0b20gYmxvY2sgaW4gQ29tcG9zaXRpb24gQVBJIHdpdGggdXNpbmcgbG9jYWwgc2NvcGUgaW4gTGVnYWN5IEFQSSBtb2RlJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTk9UX0FWQUlMQUJMRV9DT01QT1NJVElPTl9JTl9MRUdBQ1ldOiAnTm90IGF2YWlsYWJsZSBDb21wb3N0aW9uIEFQSSBpbiBMZWdhY3kgQVBJIG1vZGUuIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB0aGUgbGVnYWN5IEFQSSBtb2RlIGlzIHdvcmtpbmcgcHJvcGVybHknXG59O1xuXG5jb25zdCBUcmFuc2xhdGVWTm9kZVN5bWJvbCA9IFxuLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX190cmFuc2xhdGVWTm9kZScpO1xuY29uc3QgRGF0ZXRpbWVQYXJ0c1N5bWJvbCA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fZGF0ZXRpbWVQYXJ0cycpO1xuY29uc3QgTnVtYmVyUGFydHNTeW1ib2wgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX251bWJlclBhcnRzJyk7XG5jb25zdCBFbmFibGVFbWl0dGVyID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19lbmFibGVFbWl0dGVyJyk7XG5jb25zdCBEaXNhYmxlRW1pdHRlciA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fZGlzYWJsZUVtaXR0ZXInKTtcbmNvbnN0IFNldFBsdXJhbFJ1bGVzU3ltYm9sID0gbWFrZVN5bWJvbCgnX19zZXRQbHVyYWxSdWxlcycpO1xubWFrZVN5bWJvbCgnX19pbnRsaWZ5TWV0YScpO1xuY29uc3QgSW5lamN0V2l0aE9wdGlvblN5bWJvbCA9IFxuLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19pbmplY3RXaXRoT3B0aW9uJyk7XG5jb25zdCBEaXNwb3NlU3ltYm9sID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19kaXNwb3NlJyk7XG5jb25zdCBfX1ZVRV9JMThOX0JSSURHRV9fID0gICdfX1ZVRV9JMThOX0JSSURHRV9fJztcblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBUcmFuc2Zvcm0gZmxhdCBqc29uIGluIG9iaiB0byBub3JtYWwganNvbiBpbiBvYmpcbiAqL1xuZnVuY3Rpb24gaGFuZGxlRmxhdEpzb24ob2JqKSB7XG4gICAgLy8gY2hlY2sgb2JqXG4gICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAvLyBjaGVjayBrZXlcbiAgICAgICAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgZm9yIG5vcm1hbCBqc29uXG4gICAgICAgIGlmICgha2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBwcm9jZXNzIHZhbHVlIGlmIHZhbHVlIGlzIGFsc28gYSBvYmplY3RcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGZvciBmbGF0IGpzb24sIHRyYW5zZm9ybSB0byBub3JtYWwganNvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBsYXN0IG9iamVjdFxuICAgICAgICAgICAgY29uc3Qgc3ViS2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3ViS2V5cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRPYmogPSBvYmo7XG4gICAgICAgICAgICBsZXQgaGFzU3RyaW5nVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIShzdWJLZXlzW2ldIGluIGN1cnJlbnRPYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmpbc3ViS2V5c1tpXV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdChjdXJyZW50T2JqW3N1YktleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5JR05PUkVfT0JKX0ZMQVRURU4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHN1YktleXNbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzU3RyaW5nVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudE9iaiA9IGN1cnJlbnRPYmpbc3ViS2V5c1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgbGFzdCBvYmplY3QgdmFsdWUsIGRlbGV0ZSBvbGQgcHJvcGVydHlcbiAgICAgICAgICAgIGlmICghaGFzU3RyaW5nVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqW3N1YktleXNbbGFzdEluZGV4XV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgcHJvY2VzcyB2YWx1ZSBpZiB2YWx1ZSBpcyBhbHNvIGEgb2JqZWN0XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoY3VycmVudE9ialtzdWJLZXlzW2xhc3RJbmRleF1dKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2VzKGxvY2FsZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgbWVzc2FnZXMsIF9faTE4biwgbWVzc2FnZVJlc29sdmVyLCBmbGF0SnNvbiB9ID0gb3B0aW9ucztcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCByZXQgPSAoaXNQbGFpbk9iamVjdChtZXNzYWdlcylcbiAgICAgICAgPyBtZXNzYWdlc1xuICAgICAgICA6IGlzQXJyYXkoX19pMThuKVxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiB7IFtsb2NhbGVdOiB7fSB9KTtcbiAgICAvLyBtZXJnZSBsb2NhbGUgbWVzc2FnZXMgb2YgaTE4biBjdXN0b20gYmxvY2tcbiAgICBpZiAoaXNBcnJheShfX2kxOG4pKSB7XG4gICAgICAgIF9faTE4bi5mb3JFYWNoKGN1c3RvbSA9PiB7XG4gICAgICAgICAgICBpZiAoJ2xvY2FsZScgaW4gY3VzdG9tICYmICdyZXNvdXJjZScgaW4gY3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBsb2NhbGUsIHJlc291cmNlIH0gPSBjdXN0b207XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXRbbG9jYWxlXSA9IHJldFtsb2NhbGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBkZWVwQ29weShyZXNvdXJjZSwgcmV0W2xvY2FsZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVlcENvcHkocmVzb3VyY2UsIHJldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTdHJpbmcoY3VzdG9tKSAmJiBkZWVwQ29weShKU09OLnBhcnNlKGN1c3RvbSksIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBoYW5kbGUgbWVzc2FnZXMgZm9yIGZsYXQganNvblxuICAgIGlmIChtZXNzYWdlUmVzb2x2ZXIgPT0gbnVsbCAmJiBmbGF0SnNvbikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXQpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24ocmV0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24ocmV0W2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50T3B0aW9ucyhpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS50eXBlIDtcbn1cbmZ1bmN0aW9uIGFkanVzdEkxOG5SZXNvdXJjZXMoZ2wsIG9wdGlvbnMsIGNvbXBvbmVudE9wdGlvbnMgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pIHtcbiAgICBsZXQgbWVzc2FnZXMgPSBpc09iamVjdChvcHRpb25zLm1lc3NhZ2VzKSA/IG9wdGlvbnMubWVzc2FnZXMgOiB7fTtcbiAgICBpZiAoJ19faTE4bkdsb2JhbCcgaW4gY29tcG9uZW50T3B0aW9ucykge1xuICAgICAgICBtZXNzYWdlcyA9IGdldExvY2FsZU1lc3NhZ2VzKGdsLmxvY2FsZS52YWx1ZSwge1xuICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICBfX2kxOG46IGNvbXBvbmVudE9wdGlvbnMuX19pMThuR2xvYmFsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZSBsb2NhbGUgbWVzc2FnZXNcbiAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMobWVzc2FnZXMpO1xuICAgIGlmIChsb2NhbGVzLmxlbmd0aCkge1xuICAgICAgICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgIGdsLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2VzW2xvY2FsZV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAge1xuICAgICAgICAvLyBtZXJnZSBkYXRldGltZSBmb3JtYXRzXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhvcHRpb25zLmRhdGV0aW1lRm9ybWF0cyk7XG4gICAgICAgICAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2wubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzW2xvY2FsZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG1lcmdlIG51bWJlciBmb3JtYXRzXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMob3B0aW9ucy5udW1iZXJGb3JtYXRzKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbC5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMubnVtYmVyRm9ybWF0c1tsb2NhbGVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKGtleSkge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBrZXksIDApXG4gICAgICAgIDtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyBleHRlbmQgVk5vZGUgaW50ZXJmYWNlXG5jb25zdCBERVZUT09MU19NRVRBID0gJ19fSU5UTElGWV9NRVRBX18nO1xuY29uc3QgTk9PUF9SRVRVUk5fQVJSQVkgPSAoKSA9PiBbXTtcbmNvbnN0IE5PT1BfUkVUVVJOX0ZBTFNFID0gKCkgPT4gZmFsc2U7XG5sZXQgY29tcG9zZXJJRCA9IDA7XG5mdW5jdGlvbiBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIobWlzc2luZykge1xuICAgIHJldHVybiAoKGN0eCwgbG9jYWxlLCBrZXksIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIG1pc3NpbmcobG9jYWxlLCBrZXksIGdldEN1cnJlbnRJbnN0YW5jZSgpIHx8IHVuZGVmaW5lZCwgdHlwZSk7XG4gICAgfSk7XG59XG4vLyBmb3IgSW50bGlmeSBEZXZUb29sc1xuLyogI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGdldE1ldGFJbmZvID0gKCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgbGV0IG1ldGEgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgKG1ldGEgPSBnZXRDb21wb25lbnRPcHRpb25zKGluc3RhbmNlKVtERVZUT09MU19NRVRBXSlcbiAgICAgICAgPyB7IFtERVZUT09MU19NRVRBXTogbWV0YSB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICA6IG51bGw7XG59O1xuLyoqXG4gKiBDcmVhdGUgY29tcG9zZXIgaW50ZXJmYWNlIGZhY3RvcnlcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvc2VyKG9wdGlvbnMgPSB7fSwgVnVlSTE4bkxlZ2FjeSkge1xuICAgIGNvbnN0IHsgX19yb290LCBfX2luamVjdFdpdGhPcHRpb24gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgX2lzR2xvYmFsID0gX19yb290ID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZmxhdEpzb24gPSBvcHRpb25zLmZsYXRKc29uO1xuICAgIGNvbnN0IF9yZWYgPSBpbkJyb3dzZXIgPyByZWYgOiBzaGFsbG93UmVmO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSA9ICEhb3B0aW9ucy50cmFuc2xhdGVFeGlzdENvbXBhdGlibGU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpZiAodHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlICYmICFmYWxzZSkge1xuICAgICAgICAgICAgd2Fybk9uY2UoZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RJQ0VfRFJPUF9UUkFOU0xBVEVfRVhJU1RfQ09NUEFUSUJMRV9GTEFHKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IF9pbmhlcml0TG9jYWxlID0gaXNCb29sZWFuKG9wdGlvbnMuaW5oZXJpdExvY2FsZSlcbiAgICAgICAgPyBvcHRpb25zLmluaGVyaXRMb2NhbGVcbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IF9sb2NhbGUgPSBfcmVmKFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIF9fcm9vdCAmJiBfaW5oZXJpdExvY2FsZVxuICAgICAgICA/IF9fcm9vdC5sb2NhbGUudmFsdWVcbiAgICAgICAgOiBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSlcbiAgICAgICAgICAgID8gb3B0aW9ucy5sb2NhbGVcbiAgICAgICAgICAgIDogREVGQVVMVF9MT0NBTEUpO1xuICAgIGNvbnN0IF9mYWxsYmFja0xvY2FsZSA9IF9yZWYoXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgX19yb290ICYmIF9pbmhlcml0TG9jYWxlXG4gICAgICAgID8gX19yb290LmZhbGxiYWNrTG9jYWxlLnZhbHVlXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcbiAgICAgICAgICAgIDogX2xvY2FsZS52YWx1ZSk7XG4gICAgY29uc3QgX21lc3NhZ2VzID0gX3JlZihnZXRMb2NhbGVNZXNzYWdlcyhfbG9jYWxlLnZhbHVlLCBvcHRpb25zKSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX2RhdGV0aW1lRm9ybWF0cyA9IF9yZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cylcbiAgICAgICAgICAgID8gb3B0aW9ucy5kYXRldGltZUZvcm1hdHNcbiAgICAgICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pXG4gICAgICAgIDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfbnVtYmVyRm9ybWF0cyA9IF9yZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpXG4gICAgICAgICAgICA/IG9wdGlvbnMubnVtYmVyRm9ybWF0c1xuICAgICAgICAgICAgOiB7IFtfbG9jYWxlLnZhbHVlXToge30gfSlcbiAgICAgICAgO1xuICAgIC8vIHdhcm5pbmcgc3VwcHJlc3Mgb3B0aW9uc1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGxldCBfbWlzc2luZ1dhcm4gPSBfX3Jvb3RcbiAgICAgICAgPyBfX3Jvb3QubWlzc2luZ1dhcm5cbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGxldCBfZmFsbGJhY2tXYXJuID0gX19yb290XG4gICAgICAgID8gX19yb290LmZhbGxiYWNrV2FyblxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgbGV0IF9mYWxsYmFja1Jvb3QgPSBfX3Jvb3RcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tSb290XG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tSb290KVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrUm9vdFxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIGNvbmZpZ3VyZSBmYWxsIGJhY2sgdG8gcm9vdFxuICAgIGxldCBfZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZmFsbGJhY2tGb3JtYXQ7XG4gICAgLy8gcnVudGltZSBtaXNzaW5nXG4gICAgbGV0IF9taXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpID8gb3B0aW9ucy5taXNzaW5nIDogbnVsbDtcbiAgICBsZXQgX3J1bnRpbWVNaXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpXG4gICAgICAgID8gZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyKG9wdGlvbnMubWlzc2luZylcbiAgICAgICAgOiBudWxsO1xuICAgIC8vIHBvc3RUcmFuc2xhdGlvbiBoYW5kbGVyXG4gICAgbGV0IF9wb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXG4gICAgICAgIDogbnVsbDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgX3dhcm5IdG1sTWVzc2FnZSA9IF9fcm9vdFxuICAgICAgICA/IF9fcm9vdC53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgbGV0IF9lc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyO1xuICAgIC8vIGN1c3RvbSBsaW5rZWQgbW9kaWZpZXJzXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX21vZGlmaWVycyA9IF9fcm9vdFxuICAgICAgICA/IF9fcm9vdC5tb2RpZmllcnNcbiAgICAgICAgOiBpc1BsYWluT2JqZWN0KG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1xuICAgICAgICAgICAgOiB7fTtcbiAgICAvLyBwbHVyYWxSdWxlc1xuICAgIGxldCBfcGx1cmFsUnVsZXMgPSBvcHRpb25zLnBsdXJhbFJ1bGVzIHx8IChfX3Jvb3QgJiYgX19yb290LnBsdXJhbFJ1bGVzKTtcbiAgICAvLyBydW50aW1lIGNvbnRleHRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgbGV0IF9jb250ZXh0O1xuICAgIGNvbnN0IGdldENvcmVDb250ZXh0ID0gKCkgPT4ge1xuICAgICAgICBfaXNHbG9iYWwgJiYgc2V0RmFsbGJhY2tDb250ZXh0KG51bGwpO1xuICAgICAgICBjb25zdCBjdHhPcHRpb25zID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICAgICAgICAgIGxvY2FsZTogX2xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlOiBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlczogX21lc3NhZ2VzLnZhbHVlLFxuICAgICAgICAgICAgbW9kaWZpZXJzOiBfbW9kaWZpZXJzLFxuICAgICAgICAgICAgcGx1cmFsUnVsZXM6IF9wbHVyYWxSdWxlcyxcbiAgICAgICAgICAgIG1pc3Npbmc6IF9ydW50aW1lTWlzc2luZyA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IF9ydW50aW1lTWlzc2luZyxcbiAgICAgICAgICAgIG1pc3NpbmdXYXJuOiBfbWlzc2luZ1dhcm4sXG4gICAgICAgICAgICBmYWxsYmFja1dhcm46IF9mYWxsYmFja1dhcm4sXG4gICAgICAgICAgICBmYWxsYmFja0Zvcm1hdDogX2ZhbGxiYWNrRm9ybWF0LFxuICAgICAgICAgICAgdW5yZXNvbHZpbmc6IHRydWUsXG4gICAgICAgICAgICBwb3N0VHJhbnNsYXRpb246IF9wb3N0VHJhbnNsYXRpb24gPT09IG51bGwgPyB1bmRlZmluZWQgOiBfcG9zdFRyYW5zbGF0aW9uLFxuICAgICAgICAgICAgd2Fybkh0bWxNZXNzYWdlOiBfd2Fybkh0bWxNZXNzYWdlLFxuICAgICAgICAgICAgZXNjYXBlUGFyYW1ldGVyOiBfZXNjYXBlUGFyYW1ldGVyLFxuICAgICAgICAgICAgbWVzc2FnZVJlc29sdmVyOiBvcHRpb25zLm1lc3NhZ2VSZXNvbHZlcixcbiAgICAgICAgICAgIG1lc3NhZ2VDb21waWxlcjogb3B0aW9ucy5tZXNzYWdlQ29tcGlsZXIsXG4gICAgICAgICAgICBfX21ldGE6IHsgZnJhbWV3b3JrOiAndnVlJyB9XG4gICAgICAgIH07XG4gICAgICAgIHtcbiAgICAgICAgICAgIGN0eE9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzID0gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgICAgIGN0eE9wdGlvbnMubnVtYmVyRm9ybWF0cyA9IF9udW1iZXJGb3JtYXRzLnZhbHVlO1xuICAgICAgICAgICAgY3R4T3B0aW9ucy5fX2RhdGV0aW1lRm9ybWF0dGVycyA9IGlzUGxhaW5PYmplY3QoX2NvbnRleHQpXG4gICAgICAgICAgICAgICAgPyBfY29udGV4dC5fX2RhdGV0aW1lRm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY3R4T3B0aW9ucy5fX251bWJlckZvcm1hdHRlcnMgPSBpc1BsYWluT2JqZWN0KF9jb250ZXh0KVxuICAgICAgICAgICAgICAgID8gX2NvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY3R4T3B0aW9ucy5fX3ZfZW1pdHRlciA9IGlzUGxhaW5PYmplY3QoX2NvbnRleHQpXG4gICAgICAgICAgICAgICAgPyBfY29udGV4dC5fX3ZfZW1pdHRlclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN0eCA9IGNyZWF0ZUNvcmVDb250ZXh0KGN0eE9wdGlvbnMpO1xuICAgICAgICBfaXNHbG9iYWwgJiYgc2V0RmFsbGJhY2tDb250ZXh0KGN0eCk7XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgfTtcbiAgICBfY29udGV4dCA9IGdldENvcmVDb250ZXh0KCk7XG4gICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XG4gICAgLy8gdHJhY2sgcmVhY3Rpdml0eVxuICAgIGZ1bmN0aW9uIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBfbG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBfbWVzc2FnZXMudmFsdWUsXG4gICAgICAgICAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSxcbiAgICAgICAgICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgO1xuICAgIH1cbiAgICAvLyBsb2NhbGVcbiAgICBjb25zdCBsb2NhbGUgPSBjb21wdXRlZCh7XG4gICAgICAgIGdldDogKCkgPT4gX2xvY2FsZS52YWx1ZSxcbiAgICAgICAgc2V0OiB2YWwgPT4ge1xuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0LmxvY2FsZSA9IF9sb2NhbGUudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBmYWxsYmFja0xvY2FsZVxuICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQ6ICgpID0+IF9mYWxsYmFja0xvY2FsZS52YWx1ZSxcbiAgICAgICAgc2V0OiB2YWwgPT4ge1xuICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tMb2NhbGUgPSBfZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgdmFsKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIG1lc3NhZ2VzXG4gICAgY29uc3QgbWVzc2FnZXMgPSBjb21wdXRlZCgoKSA9PiBfbWVzc2FnZXMudmFsdWUpO1xuICAgIC8vIGRhdGV0aW1lRm9ybWF0c1xuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IC8qICNfX1BVUkVfXyovIGNvbXB1dGVkKCgpID0+IF9kYXRldGltZUZvcm1hdHMudmFsdWUpO1xuICAgIC8vIG51bWJlckZvcm1hdHNcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzID0gLyogI19fUFVSRV9fKi8gY29tcHV0ZWQoKCkgPT4gX251bWJlckZvcm1hdHMudmFsdWUpO1xuICAgIC8vIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICBmdW5jdGlvbiBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihfcG9zdFRyYW5zbGF0aW9uKSA/IF9wb3N0VHJhbnNsYXRpb24gOiBudWxsO1xuICAgIH1cbiAgICAvLyBzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyXG4gICAgZnVuY3Rpb24gc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIF9wb3N0VHJhbnNsYXRpb24gPSBoYW5kbGVyO1xuICAgICAgICBfY29udGV4dC5wb3N0VHJhbnNsYXRpb24gPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvLyBnZXRNaXNzaW5nSGFuZGxlclxuICAgIGZ1bmN0aW9uIGdldE1pc3NpbmdIYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gX21pc3Npbmc7XG4gICAgfVxuICAgIC8vIHNldE1pc3NpbmdIYW5kbGVyXG4gICAgZnVuY3Rpb24gc2V0TWlzc2luZ0hhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICBpZiAoaGFuZGxlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX3J1bnRpbWVNaXNzaW5nID0gZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIF9taXNzaW5nID0gaGFuZGxlcjtcbiAgICAgICAgX2NvbnRleHQubWlzc2luZyA9IF9ydW50aW1lTWlzc2luZztcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZXNvbHZlZFRyYW5zbGF0ZU1lc3NhZ2UodHlwZSwgYXJnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkge1xuICAgICAgICByZXR1cm4gdHlwZSAhPT0gJ3RyYW5zbGF0ZScgfHwgIWFyZy5yZXNvbHZlZE1lc3NhZ2U7XG4gICAgfVxuICAgIGNvbnN0IHdyYXBXaXRoRGVwcyA9IChmbiwgYXJndW1lbnRQYXJzZXIsIHdhcm5UeXBlLCBmYWxsYmFja1N1Y2Nlc3MsIGZhbGxiYWNrRmFpbCwgc3VjY2Vzc0NvbmRpdGlvbikgPT4ge1xuICAgICAgICB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKTsgLy8gdHJhY2sgcmVhY3RpdmUgZGVwZW5kZW5jeVxuICAgICAgICAvLyBOT1RFOiBleHBlcmltZW50YWwgISFcbiAgICAgICAgbGV0IHJldDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgIHNldEFkZGl0aW9uYWxNZXRhKGdldE1ldGFJbmZvKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFfaXNHbG9iYWwpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0NvbnRleHQgPSBfX3Jvb3RcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRGYWxsYmFja0NvbnRleHQoKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldCA9IGZuKF9jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgIHNldEFkZGl0aW9uYWxNZXRhKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFfaXNHbG9iYWwpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0NvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh3YXJuVHlwZSAhPT0gJ3RyYW5zbGF0ZSBleGlzdHMnICYmIC8vIGZvciBub3QgYHRlYCAoZS5nIGB0YClcbiAgICAgICAgICAgIGlzTnVtYmVyKHJldCkgJiZcbiAgICAgICAgICAgIHJldCA9PT0gTk9UX1JFT1NMVkVEKSB8fFxuICAgICAgICAgICAgKHdhcm5UeXBlID09PSAndHJhbnNsYXRlIGV4aXN0cycgJiYgIXJldCkgLy8gZm9yIGB0ZWBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCBhcmcyXSA9IGFyZ3VtZW50UGFyc2VyKCk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgX19yb290ICYmXG4gICAgICAgICAgICAgICAgaXNTdHJpbmcoa2V5KSAmJlxuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWRUcmFuc2xhdGVNZXNzYWdlKHdhcm5UeXBlLCBhcmcyKSkge1xuICAgICAgICAgICAgICAgIGlmIChfZmFsbGJhY2tSb290ICYmXG4gICAgICAgICAgICAgICAgICAgIChpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihfZmFsbGJhY2tXYXJuLCBrZXkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKF9taXNzaW5nV2Fybiwga2V5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLkZBTExCQUNLX1RPX1JPT1QsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHdhcm5UeXBlXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBfX3ZfZW1pdHRlcjogZW1pdHRlciB9ID0gX2NvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVyICYmIF9mYWxsYmFja1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5GQUxCQUNLICovLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogd2FyblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAnZ2xvYmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt3YXJuVHlwZX06JHtrZXl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19yb290ICYmIF9mYWxsYmFja1Jvb3RcbiAgICAgICAgICAgICAgICA/IGZhbGxiYWNrU3VjY2VzcyhfX3Jvb3QpXG4gICAgICAgICAgICAgICAgOiBmYWxsYmFja0ZhaWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdWNjZXNzQ29uZGl0aW9uKHJldCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfUkVUVVJOX1RZUEUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyB0XG4gICAgZnVuY3Rpb24gdCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBSZWZsZWN0LmFwcGx5KHRyYW5zbGF0ZSwgbnVsbCwgW2NvbnRleHQsIC4uLmFyZ3NdKSwgKCkgPT4gcGFyc2VUcmFuc2xhdGVBcmdzKC4uLmFyZ3MpLCAndHJhbnNsYXRlJywgcm9vdCA9PiBSZWZsZWN0LmFwcGx5KHJvb3QudCwgcm9vdCwgWy4uLmFyZ3NdKSwga2V5ID0+IGtleSwgdmFsID0+IGlzU3RyaW5nKHZhbCkpO1xuICAgIH1cbiAgICAvLyBydFxuICAgIGZ1bmN0aW9uIHJ0KC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgW2FyZzEsIGFyZzIsIGFyZzNdID0gYXJncztcbiAgICAgICAgaWYgKGFyZzMgJiYgIWlzT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQoLi4uW2FyZzEsIGFyZzIsIGFzc2lnbih7IHJlc29sdmVkTWVzc2FnZTogdHJ1ZSB9LCBhcmczIHx8IHt9KV0pO1xuICAgIH1cbiAgICAvLyBkXG4gICAgZnVuY3Rpb24gZCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBSZWZsZWN0LmFwcGx5KGRhdGV0aW1lLCBudWxsLCBbY29udGV4dCwgLi4uYXJnc10pLCAoKSA9PiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSwgJ2RhdGV0aW1lIGZvcm1hdCcsIHJvb3QgPT4gUmVmbGVjdC5hcHBseShyb290LmQsIHJvb3QsIFsuLi5hcmdzXSksICgpID0+IE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgdmFsID0+IGlzU3RyaW5nKHZhbCkpO1xuICAgIH1cbiAgICAvLyBuXG4gICAgZnVuY3Rpb24gbiguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBSZWZsZWN0LmFwcGx5KG51bWJlciwgbnVsbCwgW2NvbnRleHQsIC4uLmFyZ3NdKSwgKCkgPT4gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpLCAnbnVtYmVyIGZvcm1hdCcsIHJvb3QgPT4gUmVmbGVjdC5hcHBseShyb290Lm4sIHJvb3QsIFsuLi5hcmdzXSksICgpID0+IE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgdmFsID0+IGlzU3RyaW5nKHZhbCkpO1xuICAgIH1cbiAgICAvLyBmb3IgY3VzdG9tIHByb2Nlc3NvclxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAodmFsID0+IGlzU3RyaW5nKHZhbCkgfHwgaXNOdW1iZXIodmFsKSB8fCBpc0Jvb2xlYW4odmFsKVxuICAgICAgICAgICAgPyBjcmVhdGVUZXh0Tm9kZShTdHJpbmcodmFsKSlcbiAgICAgICAgICAgIDogdmFsKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJwb2xhdGUgPSAodmFsKSA9PiB2YWw7XG4gICAgY29uc3QgcHJvY2Vzc29yID0ge1xuICAgICAgICBub3JtYWxpemUsXG4gICAgICAgIGludGVycG9sYXRlLFxuICAgICAgICB0eXBlOiAndm5vZGUnXG4gICAgfTtcbiAgICAvLyB0cmFuc2xhdGVWTm9kZSwgdXNpbmcgZm9yIGBpMThuLXRgIGNvbXBvbmVudFxuICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVZOb2RlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGxldCByZXQ7XG4gICAgICAgICAgICBjb25zdCBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgICAgICAgICByZXQgPSBSZWZsZWN0LmFwcGx5KHRyYW5zbGF0ZSwgbnVsbCwgW19jb250ZXh0LCAuLi5hcmdzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSwgKCkgPT4gcGFyc2VUcmFuc2xhdGVBcmdzKC4uLmFyZ3MpLCAndHJhbnNsYXRlJywgXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJvb3QgPT4gcm9vdFtUcmFuc2xhdGVWTm9kZVN5bWJvbF0oLi4uYXJncyksIGtleSA9PiBbY3JlYXRlVGV4dE5vZGUoa2V5KV0sIHZhbCA9PiBpc0FycmF5KHZhbCkpO1xuICAgIH1cbiAgICAvLyBudW1iZXJQYXJ0cywgdXNpbmcgZm9yIGBpMThuLW5gIGNvbXBvbmVudFxuICAgIGZ1bmN0aW9uIG51bWJlclBhcnRzKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IFJlZmxlY3QuYXBwbHkobnVtYmVyLCBudWxsLCBbY29udGV4dCwgLi4uYXJnc10pLCAoKSA9PiBwYXJzZU51bWJlckFyZ3MoLi4uYXJncyksICdudW1iZXIgZm9ybWF0JywgXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJvb3QgPT4gcm9vdFtOdW1iZXJQYXJ0c1N5bWJvbF0oLi4uYXJncyksIE5PT1BfUkVUVVJOX0FSUkFZLCB2YWwgPT4gaXNTdHJpbmcodmFsKSB8fCBpc0FycmF5KHZhbCkpO1xuICAgIH1cbiAgICAvLyBkYXRldGltZVBhcnRzLCB1c2luZyBmb3IgYGkxOG4tZGAgY29tcG9uZW50XG4gICAgZnVuY3Rpb24gZGF0ZXRpbWVQYXJ0cyguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBSZWZsZWN0LmFwcGx5KGRhdGV0aW1lLCBudWxsLCBbY29udGV4dCwgLi4uYXJnc10pLCAoKSA9PiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSwgJ2RhdGV0aW1lIGZvcm1hdCcsIFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByb290ID0+IHJvb3RbRGF0ZXRpbWVQYXJ0c1N5bWJvbF0oLi4uYXJncyksIE5PT1BfUkVUVVJOX0FSUkFZLCB2YWwgPT4gaXNTdHJpbmcodmFsKSB8fCBpc0FycmF5KHZhbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRQbHVyYWxSdWxlcyhydWxlcykge1xuICAgICAgICBfcGx1cmFsUnVsZXMgPSBydWxlcztcbiAgICAgICAgX2NvbnRleHQucGx1cmFsUnVsZXMgPSBfcGx1cmFsUnVsZXM7XG4gICAgfVxuICAgIC8vIHRlXG4gICAgZnVuY3Rpb24gdGUoa2V5LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExvY2FsZSA9IGlzU3RyaW5nKGxvY2FsZSkgPyBsb2NhbGUgOiBfbG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldExvY2FsZU1lc3NhZ2UodGFyZ2V0TG9jYWxlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0gX2NvbnRleHQubWVzc2FnZVJlc29sdmVyKG1lc3NhZ2UsIGtleSk7XG4gICAgICAgICAgICByZXR1cm4gIXRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZVxuICAgICAgICAgICAgICAgID8gaXNNZXNzYWdlQVNUKHJlc29sdmVkKSB8fFxuICAgICAgICAgICAgICAgICAgICBpc01lc3NhZ2VGdW5jdGlvbihyZXNvbHZlZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNTdHJpbmcocmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgOiByZXNvbHZlZCAhPSBudWxsO1xuICAgICAgICB9LCAoKSA9PiBba2V5XSwgJ3RyYW5zbGF0ZSBleGlzdHMnLCByb290ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHJvb3QudGUsIHJvb3QsIFtrZXksIGxvY2FsZV0pO1xuICAgICAgICB9LCBOT09QX1JFVFVSTl9GQUxTRSwgdmFsID0+IGlzQm9vbGVhbih2YWwpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZU1lc3NhZ2VzKGtleSkge1xuICAgICAgICBsZXQgbWVzc2FnZXMgPSBudWxsO1xuICAgICAgICBjb25zdCBsb2NhbGVzID0gZmFsbGJhY2tXaXRoTG9jYWxlQ2hhaW4oX2NvbnRleHQsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSwgX2xvY2FsZS52YWx1ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0TG9jYWxlTWVzc2FnZXMgPSBfbWVzc2FnZXMudmFsdWVbbG9jYWxlc1tpXV0gfHwge307XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlVmFsdWUgPSBfY29udGV4dC5tZXNzYWdlUmVzb2x2ZXIodGFyZ2V0TG9jYWxlTWVzc2FnZXMsIGtleSk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IG1lc3NhZ2VWYWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgfVxuICAgIC8vIHRtXG4gICAgZnVuY3Rpb24gdG0oa2V5KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzb2x2ZU1lc3NhZ2VzKGtleSk7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICByZXR1cm4gbWVzc2FnZXMgIT0gbnVsbFxuICAgICAgICAgICAgPyBtZXNzYWdlc1xuICAgICAgICAgICAgOiBfX3Jvb3RcbiAgICAgICAgICAgICAgICA/IF9fcm9vdC50bShrZXkpIHx8IHt9XG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICB9XG4gICAgLy8gZ2V0TG9jYWxlTWVzc2FnZVxuICAgIGZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiAoX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gfHwge30pO1xuICAgIH1cbiAgICAvLyBzZXRMb2NhbGVNZXNzYWdlXG4gICAgZnVuY3Rpb24gc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGZsYXRKc29uKSB7XG4gICAgICAgICAgICBjb25zdCBfbWVzc2FnZSA9IHsgW2xvY2FsZV06IG1lc3NhZ2UgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIF9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093bihfbWVzc2FnZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihfbWVzc2FnZVtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlID0gX21lc3NhZ2VbbG9jYWxlXTtcbiAgICAgICAgfVxuICAgICAgICBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSA9IG1lc3NhZ2U7XG4gICAgICAgIF9jb250ZXh0Lm1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlO1xuICAgIH1cbiAgICAvLyBtZXJnZUxvY2FsZU1lc3NhZ2VcbiAgICBmdW5jdGlvbiBtZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdID0gX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gfHwge307XG4gICAgICAgIGNvbnN0IF9tZXNzYWdlID0geyBbbG9jYWxlXTogbWVzc2FnZSB9O1xuICAgICAgICBpZiAoZmxhdEpzb24pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIF9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093bihfbWVzc2FnZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihfbWVzc2FnZVtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlW2xvY2FsZV07XG4gICAgICAgIGRlZXBDb3B5KG1lc3NhZ2UsIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdKTtcbiAgICAgICAgX2NvbnRleHQubWVzc2FnZXMgPSBfbWVzc2FnZXMudmFsdWU7XG4gICAgfVxuICAgIC8vIGdldERhdGVUaW1lRm9ybWF0XG4gICAgZnVuY3Rpb24gZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge307XG4gICAgfVxuICAgIC8vIHNldERhdGVUaW1lRm9ybWF0XG4gICAgZnVuY3Rpb24gc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gZm9ybWF0O1xuICAgICAgICBfY29udGV4dC5kYXRldGltZUZvcm1hdHMgPSBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xuICAgICAgICBjbGVhckRhdGVUaW1lRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XG4gICAgfVxuICAgIC8vIG1lcmdlRGF0ZVRpbWVGb3JtYXRcbiAgICBmdW5jdGlvbiBtZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGFzc2lnbihfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge30sIGZvcm1hdCk7XG4gICAgICAgIF9jb250ZXh0LmRhdGV0aW1lRm9ybWF0cyA9IF9kYXRldGltZUZvcm1hdHMudmFsdWU7XG4gICAgICAgIGNsZWFyRGF0ZVRpbWVGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcbiAgICB9XG4gICAgLy8gZ2V0TnVtYmVyRm9ybWF0XG4gICAgZnVuY3Rpb24gZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fTtcbiAgICB9XG4gICAgLy8gc2V0TnVtYmVyRm9ybWF0XG4gICAgZnVuY3Rpb24gc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XG4gICAgICAgIF9jb250ZXh0Lm51bWJlckZvcm1hdHMgPSBfbnVtYmVyRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgY2xlYXJOdW1iZXJGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcbiAgICB9XG4gICAgLy8gbWVyZ2VOdW1iZXJGb3JtYXRcbiAgICBmdW5jdGlvbiBtZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gYXNzaWduKF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge30sIGZvcm1hdCk7XG4gICAgICAgIF9jb250ZXh0Lm51bWJlckZvcm1hdHMgPSBfbnVtYmVyRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgY2xlYXJOdW1iZXJGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcbiAgICB9XG4gICAgLy8gZm9yIGRlYnVnXG4gICAgY29tcG9zZXJJRCsrO1xuICAgIC8vIHdhdGNoIHJvb3QgbG9jYWxlICYgZmFsbGJhY2tMb2NhbGVcbiAgICBpZiAoX19yb290ICYmIGluQnJvd3Nlcikge1xuICAgICAgICB3YXRjaChfX3Jvb3QubG9jYWxlLCAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoX2luaGVyaXRMb2NhbGUpIHtcbiAgICAgICAgICAgICAgICBfbG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LmxvY2FsZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdhdGNoKF9fcm9vdC5mYWxsYmFja0xvY2FsZSwgKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKF9pbmhlcml0TG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrTG9jYWxlID0gdmFsO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCBfZmFsbGJhY2tMb2NhbGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZGVmaW5lIGJhc2ljIGNvbXBvc2l0aW9uIEFQSSFcbiAgICBjb25zdCBjb21wb3NlciA9IHtcbiAgICAgICAgaWQ6IGNvbXBvc2VySUQsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgIGdldCBpbmhlcml0TG9jYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9pbmhlcml0TG9jYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgaW5oZXJpdExvY2FsZSh2YWwpIHtcbiAgICAgICAgICAgIF9pbmhlcml0TG9jYWxlID0gdmFsO1xuICAgICAgICAgICAgaWYgKHZhbCAmJiBfX3Jvb3QpIHtcbiAgICAgICAgICAgICAgICBfbG9jYWxlLnZhbHVlID0gX19yb290LmxvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBfX3Jvb3QuZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBhdmFpbGFibGVMb2NhbGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKF9tZXNzYWdlcy52YWx1ZSkuc29ydCgpO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgZ2V0IG1vZGlmaWVycygpIHtcbiAgICAgICAgICAgIHJldHVybiBfbW9kaWZpZXJzO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgcGx1cmFsUnVsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3BsdXJhbFJ1bGVzIHx8IHt9O1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaXNHbG9iYWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2lzR2xvYmFsO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgbWlzc2luZ1dhcm4oKSB7XG4gICAgICAgICAgICByZXR1cm4gX21pc3NpbmdXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgbWlzc2luZ1dhcm4odmFsKSB7XG4gICAgICAgICAgICBfbWlzc2luZ1dhcm4gPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5taXNzaW5nV2FybiA9IF9taXNzaW5nV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrV2FybigpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmFsbGJhY2tXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tXYXJuKHZhbCkge1xuICAgICAgICAgICAgX2ZhbGxiYWNrV2FybiA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrV2FybiA9IF9mYWxsYmFja1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja1Jvb3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2ZhbGxiYWNrUm9vdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrUm9vdCh2YWwpIHtcbiAgICAgICAgICAgIF9mYWxsYmFja1Jvb3QgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja0Zvcm1hdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja0Zvcm1hdCh2YWwpIHtcbiAgICAgICAgICAgIF9mYWxsYmFja0Zvcm1hdCA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrRm9ybWF0ID0gX2ZhbGxiYWNrRm9ybWF0O1xuICAgICAgICB9LFxuICAgICAgICBnZXQgd2Fybkh0bWxNZXNzYWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF93YXJuSHRtbE1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCB3YXJuSHRtbE1lc3NhZ2UodmFsKSB7XG4gICAgICAgICAgICBfd2Fybkh0bWxNZXNzYWdlID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQud2Fybkh0bWxNZXNzYWdlID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9lc2NhcGVQYXJhbWV0ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXIodmFsKSB7XG4gICAgICAgICAgICBfZXNjYXBlUGFyYW1ldGVyID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQuZXNjYXBlUGFyYW1ldGVyID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICB0LFxuICAgICAgICBnZXRMb2NhbGVNZXNzYWdlLFxuICAgICAgICBzZXRMb2NhbGVNZXNzYWdlLFxuICAgICAgICBtZXJnZUxvY2FsZU1lc3NhZ2UsXG4gICAgICAgIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXG4gICAgICAgIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXG4gICAgICAgIGdldE1pc3NpbmdIYW5kbGVyLFxuICAgICAgICBzZXRNaXNzaW5nSGFuZGxlcixcbiAgICAgICAgW1NldFBsdXJhbFJ1bGVzU3ltYm9sXTogc2V0UGx1cmFsUnVsZXNcbiAgICB9O1xuICAgIHtcbiAgICAgICAgY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzID0gZGF0ZXRpbWVGb3JtYXRzO1xuICAgICAgICBjb21wb3Nlci5udW1iZXJGb3JtYXRzID0gbnVtYmVyRm9ybWF0cztcbiAgICAgICAgY29tcG9zZXIucnQgPSBydDtcbiAgICAgICAgY29tcG9zZXIudGUgPSB0ZTtcbiAgICAgICAgY29tcG9zZXIudG0gPSB0bTtcbiAgICAgICAgY29tcG9zZXIuZCA9IGQ7XG4gICAgICAgIGNvbXBvc2VyLm4gPSBuO1xuICAgICAgICBjb21wb3Nlci5nZXREYXRlVGltZUZvcm1hdCA9IGdldERhdGVUaW1lRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5zZXREYXRlVGltZUZvcm1hdCA9IHNldERhdGVUaW1lRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5tZXJnZURhdGVUaW1lRm9ybWF0ID0gbWVyZ2VEYXRlVGltZUZvcm1hdDtcbiAgICAgICAgY29tcG9zZXIuZ2V0TnVtYmVyRm9ybWF0ID0gZ2V0TnVtYmVyRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5zZXROdW1iZXJGb3JtYXQgPSBzZXROdW1iZXJGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLm1lcmdlTnVtYmVyRm9ybWF0ID0gbWVyZ2VOdW1iZXJGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyW0luZWpjdFdpdGhPcHRpb25TeW1ib2xdID0gX19pbmplY3RXaXRoT3B0aW9uO1xuICAgICAgICBjb21wb3NlcltUcmFuc2xhdGVWTm9kZVN5bWJvbF0gPSB0cmFuc2xhdGVWTm9kZTtcbiAgICAgICAgY29tcG9zZXJbRGF0ZXRpbWVQYXJ0c1N5bWJvbF0gPSBkYXRldGltZVBhcnRzO1xuICAgICAgICBjb21wb3NlcltOdW1iZXJQYXJ0c1N5bWJvbF0gPSBudW1iZXJQYXJ0cztcbiAgICB9XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gPSAoZW1pdHRlcikgPT4ge1xuICAgICAgICAgICAgX2NvbnRleHQuX192X2VtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICB9O1xuICAgICAgICBjb21wb3NlcltEaXNhYmxlRW1pdHRlcl0gPSAoKSA9PiB7XG4gICAgICAgICAgICBfY29udGV4dC5fX3ZfZW1pdHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvc2VyO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogQ29udmVydCB0byBJMThuIENvbXBvc2VyIE9wdGlvbnMgZnJvbSBWdWVJMThuIE9wdGlvbnNcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY29udmVydENvbXBvc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgbG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpID8gb3B0aW9ucy5sb2NhbGUgOiBERUZBVUxUX0xPQ0FMRTtcbiAgICBjb25zdCBmYWxsYmFja0xvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBvcHRpb25zLmZhbGxiYWNrTG9jYWxlID09PSBmYWxzZVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcbiAgICAgICAgOiBsb2NhbGU7XG4gICAgY29uc3QgbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybikgfHxcbiAgICAgICAgaXNSZWdFeHAob3B0aW9ucy5zaWxlbnRUcmFuc2xhdGlvbldhcm4pXG4gICAgICAgID8gIW9wdGlvbnMuc2lsZW50VHJhbnNsYXRpb25XYXJuXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5zaWxlbnRGYWxsYmFja1dhcm4pIHx8XG4gICAgICAgIGlzUmVnRXhwKG9wdGlvbnMuc2lsZW50RmFsbGJhY2tXYXJuKVxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FyblxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZmFsbGJhY2tSb290ID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tSb290KVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tSb290XG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBmYWxsYmFja0Zvcm1hdCA9ICEhb3B0aW9ucy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzO1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tb2RpZmllcnMpID8gb3B0aW9ucy5tb2RpZmllcnMgOiB7fTtcbiAgICBjb25zdCBwbHVyYWxpemF0aW9uUnVsZXMgPSBvcHRpb25zLnBsdXJhbGl6YXRpb25SdWxlcztcbiAgICBjb25zdCBwb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHdhcm5IdG1sTWVzc2FnZSA9IGlzU3RyaW5nKG9wdGlvbnMud2Fybkh0bWxJbk1lc3NhZ2UpXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSAhPT0gJ29mZidcbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGVzY2FwZVBhcmFtZXRlciA9ICEhb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXJIdG1sO1xuICAgIGNvbnN0IGluaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5zeW5jKSA/IG9wdGlvbnMuc3luYyA6IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBvcHRpb25zLmZvcm1hdHRlcikge1xuICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9GT1JNQVRURVIpKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBvcHRpb25zLnByZXNlcnZlRGlyZWN0aXZlQ29udGVudCkge1xuICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV9ESVJFQ1RJVkUpKTtcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2VzID0gb3B0aW9ucy5tZXNzYWdlcztcbiAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zLnNoYXJlZE1lc3NhZ2VzKSkge1xuICAgICAgICBjb25zdCBzaGFyZWRNZXNzYWdlcyA9IG9wdGlvbnMuc2hhcmVkTWVzc2FnZXM7XG4gICAgICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhzaGFyZWRNZXNzYWdlcyk7XG4gICAgICAgIG1lc3NhZ2VzID0gbG9jYWxlcy5yZWR1Y2UoKG1lc3NhZ2VzLCBsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tsb2NhbGVdIHx8IChtZXNzYWdlc1tsb2NhbGVdID0ge30pO1xuICAgICAgICAgICAgYXNzaWduKG1lc3NhZ2UsIHNoYXJlZE1lc3NhZ2VzW2xvY2FsZV0pO1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgICAgICB9LCAobWVzc2FnZXMgfHwge30pKTtcbiAgICB9XG4gICAgY29uc3QgeyBfX2kxOG4sIF9fcm9vdCwgX19pbmplY3RXaXRoT3B0aW9uIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzO1xuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSBvcHRpb25zLm51bWJlckZvcm1hdHM7XG4gICAgY29uc3QgZmxhdEpzb24gPSBvcHRpb25zLmZsYXRKc29uO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSA9IG9wdGlvbnNcbiAgICAgICAgLnRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgZmxhdEpzb24sXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcbiAgICAgICAgbnVtYmVyRm9ybWF0cyxcbiAgICAgICAgbWlzc2luZyxcbiAgICAgICAgbWlzc2luZ1dhcm4sXG4gICAgICAgIGZhbGxiYWNrV2FybixcbiAgICAgICAgZmFsbGJhY2tSb290LFxuICAgICAgICBmYWxsYmFja0Zvcm1hdCxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBwbHVyYWxSdWxlczogcGx1cmFsaXphdGlvblJ1bGVzLFxuICAgICAgICBwb3N0VHJhbnNsYXRpb24sXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcbiAgICAgICAgZXNjYXBlUGFyYW1ldGVyLFxuICAgICAgICBtZXNzYWdlUmVzb2x2ZXI6IG9wdGlvbnMubWVzc2FnZVJlc29sdmVyLFxuICAgICAgICBpbmhlcml0TG9jYWxlLFxuICAgICAgICB0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUsXG4gICAgICAgIF9faTE4bixcbiAgICAgICAgX19yb290LFxuICAgICAgICBfX2luamVjdFdpdGhPcHRpb25cbiAgICB9O1xufVxuLyoqXG4gKiBjcmVhdGUgVnVlSTE4biBpbnRlcmZhY2UgZmFjdG9yeVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gY3JlYXRlVnVlSTE4bihvcHRpb25zID0ge30sIFZ1ZUkxOG5MZWdhY3kpIHtcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gY3JlYXRlQ29tcG9zZXIoY29udmVydENvbXBvc2VyT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICAgIGNvbnN0IHsgX19leHRlbmRlciB9ID0gb3B0aW9ucztcbiAgICAgICAgLy8gZGVmaW5lcyBWdWVJMThuXG4gICAgICAgIGNvbnN0IHZ1ZUkxOG4gPSB7XG4gICAgICAgICAgICAvLyBpZFxuICAgICAgICAgICAgaWQ6IGNvbXBvc2VyLmlkLFxuICAgICAgICAgICAgLy8gbG9jYWxlXG4gICAgICAgICAgICBnZXQgbG9jYWxlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5sb2NhbGUudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGxvY2FsZSh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5sb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZmFsbGJhY2tMb2NhbGVcbiAgICAgICAgICAgIGdldCBmYWxsYmFja0xvY2FsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGZhbGxiYWNrTG9jYWxlKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1lc3NhZ2VzXG4gICAgICAgICAgICBnZXQgbWVzc2FnZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGRhdGV0aW1lRm9ybWF0c1xuICAgICAgICAgICAgZ2V0IGRhdGV0aW1lRm9ybWF0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG51bWJlckZvcm1hdHNcbiAgICAgICAgICAgIGdldCBudW1iZXJGb3JtYXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5udW1iZXJGb3JtYXRzLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGF2YWlsYWJsZUxvY2FsZXNcbiAgICAgICAgICAgIGdldCBhdmFpbGFibGVMb2NhbGVzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5hdmFpbGFibGVMb2NhbGVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGZvcm1hdHRlclxuICAgICAgICAgICAgZ2V0IGZvcm1hdHRlcigpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfRk9STUFUVEVSKSk7XG4gICAgICAgICAgICAgICAgLy8gZHVtbXlcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGZvcm1hdHRlcih2YWwpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfRk9STUFUVEVSKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbWlzc2luZ1xuICAgICAgICAgICAgZ2V0IG1pc3NpbmcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldE1pc3NpbmdIYW5kbGVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IG1pc3NpbmcoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLnNldE1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNpbGVudFRyYW5zbGF0aW9uV2FyblxuICAgICAgICAgICAgZ2V0IHNpbGVudFRyYW5zbGF0aW9uV2FybigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNCb29sZWFuKGNvbXBvc2VyLm1pc3NpbmdXYXJuKVxuICAgICAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5taXNzaW5nV2FyblxuICAgICAgICAgICAgICAgICAgICA6IGNvbXBvc2VyLm1pc3NpbmdXYXJuO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4odmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIubWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4odmFsKSA/ICF2YWwgOiB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc2lsZW50RmFsbGJhY2tXYXJuXG4gICAgICAgICAgICBnZXQgc2lsZW50RmFsbGJhY2tXYXJuKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0Jvb2xlYW4oY29tcG9zZXIuZmFsbGJhY2tXYXJuKVxuICAgICAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5mYWxsYmFja1dhcm5cbiAgICAgICAgICAgICAgICAgICAgOiBjb21wb3Nlci5mYWxsYmFja1dhcm47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHNpbGVudEZhbGxiYWNrV2Fybih2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4odmFsKSA/ICF2YWwgOiB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbW9kaWZpZXJzXG4gICAgICAgICAgICBnZXQgbW9kaWZpZXJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5tb2RpZmllcnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZm9ybWF0RmFsbGJhY2tNZXNzYWdlc1xuICAgICAgICAgICAgZ2V0IGZvcm1hdEZhbGxiYWNrTWVzc2FnZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBmb3JtYXRGYWxsYmFja01lc3NhZ2VzKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0ID0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc3RUcmFuc2xhdGlvblxuICAgICAgICAgICAgZ2V0IHBvc3RUcmFuc2xhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBwb3N0VHJhbnNsYXRpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLnNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc3luY1xuICAgICAgICAgICAgZ2V0IHN5bmMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmluaGVyaXRMb2NhbGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHN5bmModmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuaW5oZXJpdExvY2FsZSA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB3YXJuSW5IdG1sTWVzc2FnZVxuICAgICAgICAgICAgZ2V0IHdhcm5IdG1sSW5NZXNzYWdlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci53YXJuSHRtbE1lc3NhZ2UgPyAnd2FybicgOiAnb2ZmJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgd2Fybkh0bWxJbk1lc3NhZ2UodmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIud2Fybkh0bWxNZXNzYWdlID0gdmFsICE9PSAnb2ZmJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlc2NhcGVQYXJhbWV0ZXJIdG1sXG4gICAgICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVySHRtbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZXNjYXBlUGFyYW1ldGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXJIdG1sKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmVzY2FwZVBhcmFtZXRlciA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnRcbiAgICAgICAgICAgIGdldCBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQoKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQodmFsKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBsdXJhbGl6YXRpb25SdWxlc1xuICAgICAgICAgICAgZ2V0IHBsdXJhbGl6YXRpb25SdWxlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIucGx1cmFsUnVsZXMgfHwge307XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZm9yIGludGVybmFsXG4gICAgICAgICAgICBfX2NvbXBvc2VyOiBjb21wb3NlcixcbiAgICAgICAgICAgIC8vIHRcbiAgICAgICAgICAgIHQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghaXNTdHJpbmcoYXJnMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhcmcxO1xuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZWQgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmczKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmczKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBjb21wb3Nlci50KGtleSwgKGxpc3QgfHwgbmFtZWQgfHwge30pIGFzIGFueSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShjb21wb3Nlci50LCBjb21wb3NlciwgW1xuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIChsaXN0IHx8IG5hbWVkIHx8IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShjb21wb3Nlci5ydCwgY29tcG9zZXIsIFsuLi5hcmdzXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGNcbiAgICAgICAgICAgIHRjKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnM10gPSBhcmdzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBsdXJhbDogMSB9O1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghaXNTdHJpbmcoYXJnMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhcmcxO1xuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTnVtYmVyKGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGx1cmFsID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYXJnMykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IGFyZzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZWQgPSBhcmczO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gY29tcG9zZXIudChrZXksIChsaXN0IHx8IG5hbWVkIHx8IHt9KSBhcyBhbnksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIudCwgY29tcG9zZXIsIFtcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAobGlzdCB8fCBuYW1lZCB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0ZVxuICAgICAgICAgICAgdGUoa2V5LCBsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIudGUoa2V5LCBsb2NhbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRtXG4gICAgICAgICAgICB0bShrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIudG0oa2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBnZXRMb2NhbGVNZXNzYWdlXG4gICAgICAgICAgICBnZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc2V0TG9jYWxlTWVzc2FnZVxuICAgICAgICAgICAgc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5zZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbWVyZ2VMb2NhbGVNZXNzYWdlXG4gICAgICAgICAgICBtZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZFxuICAgICAgICAgICAgZCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIuZCwgY29tcG9zZXIsIFsuLi5hcmdzXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZ2V0RGF0ZVRpbWVGb3JtYXRcbiAgICAgICAgICAgIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXREYXRlVGltZUZvcm1hdChsb2NhbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNldERhdGVUaW1lRm9ybWF0XG4gICAgICAgICAgICBzZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLnNldERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtZXJnZURhdGVUaW1lRm9ybWF0XG4gICAgICAgICAgICBtZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gblxuICAgICAgICAgICAgbiguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIubiwgY29tcG9zZXIsIFsuLi5hcmdzXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZ2V0TnVtYmVyRm9ybWF0XG4gICAgICAgICAgICBnZXROdW1iZXJGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldE51bWJlckZvcm1hdChsb2NhbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNldE51bWJlckZvcm1hdFxuICAgICAgICAgICAgc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtZXJnZU51bWJlckZvcm1hdFxuICAgICAgICAgICAgbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZ2V0Q2hvaWNlSW5kZXhcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgIGdldENob2ljZUluZGV4KGNob2ljZSwgY2hvaWNlc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9HRVRfQ0hPSUNFX0lOREVYKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2dWVJMThuLl9fZXh0ZW5kZXIgPSBfX2V4dGVuZGVyO1xuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHZ1ZUkxOG4uX19lbmFibGVFbWl0dGVyID0gKGVtaXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfX2NvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgX19jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZ1ZUkxOG4uX19kaXNhYmxlRW1pdHRlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfX2NvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgX19jb21wb3NlcltEaXNhYmxlRW1pdHRlcl0gJiYgX19jb21wb3NlcltEaXNhYmxlRW1pdHRlcl0oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZ1ZUkxOG47XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbmNvbnN0IGJhc2VGb3JtYXRQcm9wcyA9IHtcbiAgICB0YWc6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XVxuICAgIH0sXG4gICAgbG9jYWxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAvLyBOT1RFOiBhdm9pZCBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3J1c2hzdGFjay9pc3N1ZXMvMTA1MFxuICAgICAgICB2YWxpZGF0b3I6ICh2YWwgLyogQ29tcG9uZW50STE4blNjb3BlICovKSA9PiB2YWwgPT09ICdwYXJlbnQnIHx8IHZhbCA9PT0gJ2dsb2JhbCcsXG4gICAgICAgIGRlZmF1bHQ6ICdwYXJlbnQnIC8qIENvbXBvbmVudEkxOG5TY29wZSAqL1xuICAgIH0sXG4gICAgaTE4bjoge1xuICAgICAgICB0eXBlOiBPYmplY3RcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBnZXRJbnRlcnBvbGF0ZUFyZyhcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG57IHNsb3RzIH0sIC8vIFNldHVwQ29udGV4dCxcbmtleXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIC8vIGRlZmF1bHQgc2xvdCB3aXRoIGxpc3RcbiAgICAgICAgY29uc3QgcmV0ID0gc2xvdHMuZGVmYXVsdCA/IHNsb3RzLmRlZmF1bHQoKSA6IFtdO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gcmV0LnJlZHVjZSgoc2xvdCwgY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5zbG90LFxuICAgICAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgICAgIC4uLihjdXJyZW50LnR5cGUgPT09IEZyYWdtZW50ID8gY3VycmVudC5jaGlsZHJlbiA6IFtjdXJyZW50XVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdO1xuICAgICAgICB9LCBbXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBuYW1lZCBzbG90c1xuICAgICAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFyZywga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gc2xvdHNba2V5XTtcbiAgICAgICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICAgICAgYXJnW2tleV0gPSBzbG90KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldEZyYWdtZW50YWJsZVRhZyh0YWcpIHtcbiAgICByZXR1cm4gRnJhZ21lbnQgO1xufVxuXG5jb25zdCBUcmFuc2xhdGlvbkltcGwgPSAvKiNfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBuYW1lOiAnaTE4bi10JyxcbiAgICBwcm9wczogYXNzaWduKHtcbiAgICAgICAga2V5cGF0aDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGx1cmFsOiB7XG4gICAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHZhbGlkYXRvcjogKHZhbCkgPT4gaXNOdW1iZXIodmFsKSB8fCAhaXNOYU4odmFsKVxuICAgICAgICB9XG4gICAgfSwgYmFzZUZvcm1hdFByb3BzKSxcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IHNsb3RzLCBhdHRycyB9ID0gY29udGV4dDtcbiAgICAgICAgLy8gTk9URTogYXZvaWQgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9ydXNoc3RhY2svaXNzdWVzLzEwNTBcbiAgICAgICAgY29uc3QgaTE4biA9IHByb3BzLmkxOG4gfHxcbiAgICAgICAgICAgIHVzZUkxOG4oe1xuICAgICAgICAgICAgICAgIHVzZVNjb3BlOiBwcm9wcy5zY29wZSxcbiAgICAgICAgICAgICAgICBfX3VzZUNvbXBvbmVudDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc2xvdHMpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnXycpO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgaWYgKHByb3BzLmxvY2FsZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BzLnBsdXJhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBpc1N0cmluZyhwcm9wcy5wbHVyYWwpID8gK3Byb3BzLnBsdXJhbCA6IHByb3BzLnBsdXJhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGdldEludGVycG9sYXRlQXJnKGNvbnRleHQsIGtleXMpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gaTE4bltUcmFuc2xhdGVWTm9kZVN5bWJvbF0ocHJvcHMua2V5cGF0aCwgYXJnLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbmVkQXR0cnMgPSBhc3NpZ24oe30sIGF0dHJzKTtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IGlzU3RyaW5nKHByb3BzLnRhZykgfHwgaXNPYmplY3QocHJvcHMudGFnKVxuICAgICAgICAgICAgICAgID8gcHJvcHMudGFnXG4gICAgICAgICAgICAgICAgOiBnZXRGcmFnbWVudGFibGVUYWcoKTtcbiAgICAgICAgICAgIHJldHVybiBoKHRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgIH1cbn0pO1xuLyoqXG4gKiBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcbiAqIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG4gKi9cbi8qKlxuICogVHJhbnNsYXRpb24gQ29tcG9uZW50XG4gKlxuICogQHJlbWFya3NcbiAqIFNlZSB0aGUgZm9sbG93aW5nIGl0ZW1zIGZvciBwcm9wZXJ0eSBhYm91dCBkZXRhaWxzXG4gKlxuICogQFZ1ZUkxOG5TZWUgW1RyYW5zbGF0aW9uUHJvcHNdKGNvbXBvbmVudCN0cmFuc2xhdGlvbnByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0Jhc2VGb3JtYXRQcm9wc10oY29tcG9uZW50I2Jhc2Vmb3JtYXRwcm9wcylcbiAqIEBWdWVJMThuU2VlIFtDb21wb25lbnQgSW50ZXJwb2xhdGlvbl0oLi4vZ3VpZGUvYWR2YW5jZWQvY29tcG9uZW50KVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGlkPVwiYXBwXCI+XG4gKiAgIDwhLS0gLi4uIC0tPlxuICogICA8aTE4biBrZXlwYXRoPVwidGVybVwiIHRhZz1cImxhYmVsXCIgZm9yPVwidG9zXCI+XG4gKiAgICAgPGEgOmhyZWY9XCJ1cmxcIiB0YXJnZXQ9XCJfYmxhbmtcIj57eyAkdCgndG9zJykgfX08L2E+XG4gKiAgIDwvaTE4bj5cbiAqICAgPCEtLSAuLi4gLS0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICogYGBganNcbiAqIGltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gJ3Z1ZSdcbiAqIGltcG9ydCB7IGNyZWF0ZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcbiAqXG4gKiBjb25zdCBtZXNzYWdlcyA9IHtcbiAqICAgZW46IHtcbiAqICAgICB0b3M6ICdUZXJtIG9mIFNlcnZpY2UnLFxuICogICAgIHRlcm06ICdJIGFjY2VwdCB4eHggezB9LidcbiAqICAgfSxcbiAqICAgamE6IHtcbiAqICAgICB0b3M6ICfliKnnlKjopo/ntIQnLFxuICogICAgIHRlcm06ICfnp4Hjga8geHh4IOOBrnswfeOBq+WQjOaEj+OBl+OBvuOBmeOAgidcbiAqICAgfVxuICogfVxuICpcbiAqIGNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHtcbiAqICAgbG9jYWxlOiAnZW4nLFxuICogICBtZXNzYWdlc1xuICogfSlcbiAqXG4gKiBjb25zdCBhcHAgPSBjcmVhdGVBcHAoe1xuICogICBkYXRhOiB7XG4gKiAgICAgdXJsOiAnL3Rlcm0nXG4gKiAgIH1cbiAqIH0pLnVzZShpMThuKS5tb3VudCgnI2FwcCcpXG4gKiBgYGBcbiAqXG4gKiBAVnVlSTE4bkNvbXBvbmVudFxuICovXG5jb25zdCBUcmFuc2xhdGlvbiA9IFRyYW5zbGF0aW9uSW1wbDtcbmNvbnN0IEkxOG5UID0gVHJhbnNsYXRpb247XG5cbmZ1bmN0aW9uIGlzVk5vZGUodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzQXJyYXkodGFyZ2V0KSAmJiAhaXNTdHJpbmcodGFyZ2V0WzBdKTtcbn1cbmZ1bmN0aW9uIHJlbmRlckZvcm1hdHRlcihwcm9wcywgY29udGV4dCwgc2xvdEtleXMsIHBhcnRGb3JtYXR0ZXIpIHtcbiAgICBjb25zdCB7IHNsb3RzLCBhdHRycyB9ID0gY29udGV4dDtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0geyBwYXJ0OiB0cnVlIH07XG4gICAgICAgIGxldCBvdmVycmlkZXMgPSB7fTtcbiAgICAgICAgaWYgKHByb3BzLmxvY2FsZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdCkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMua2V5ID0gcHJvcHMuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHByb3BzLmZvcm1hdCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcocHJvcHMuZm9ybWF0LmtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIG9wdGlvbnMua2V5ID0gcHJvcHMuZm9ybWF0LmtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgbnVtYmVyIGZvcm1hdCBvcHRpb25zIG9ubHlcbiAgICAgICAgICAgIG92ZXJyaWRlcyA9IE9iamVjdC5rZXlzKHByb3BzLmZvcm1hdCkucmVkdWNlKChvcHRpb25zLCBwcm9wKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsb3RLZXlzLmluY2x1ZGVzKHByb3ApXG4gICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBvcHRpb25zLCB7IFtwcm9wXTogcHJvcHMuZm9ybWF0W3Byb3BdIH0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICA6IG9wdGlvbnM7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXJ0Rm9ybWF0dGVyKC4uLltwcm9wcy52YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXSk7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtvcHRpb25zLmtleV07XG4gICAgICAgIGlmIChpc0FycmF5KHBhcnRzKSkge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBwYXJ0cy5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHNsb3RzW3BhcnQudHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHNsb3RcbiAgICAgICAgICAgICAgICAgICAgPyBzbG90KHsgW3BhcnQudHlwZV06IHBhcnQudmFsdWUsIGluZGV4LCBwYXJ0cyB9KVxuICAgICAgICAgICAgICAgICAgICA6IFtwYXJ0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNWTm9kZShub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlWzBdLmtleSA9IGAke3BhcnQudHlwZX0tJHtpbmRleH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKHBhcnRzKSkge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBbcGFydHNdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFzc2lnbmVkQXR0cnMgPSBhc3NpZ24oe30sIGF0dHJzKTtcbiAgICAgICAgY29uc3QgdGFnID0gaXNTdHJpbmcocHJvcHMudGFnKSB8fCBpc09iamVjdChwcm9wcy50YWcpXG4gICAgICAgICAgICA/IHByb3BzLnRhZ1xuICAgICAgICAgICAgOiBnZXRGcmFnbWVudGFibGVUYWcoKTtcbiAgICAgICAgcmV0dXJuIGgodGFnLCBhc3NpZ25lZEF0dHJzLCBjaGlsZHJlbik7XG4gICAgfTtcbn1cblxuY29uc3QgTnVtYmVyRm9ybWF0SW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIG5hbWU6ICdpMThuLW4nLFxuICAgIHByb3BzOiBhc3NpZ24oe1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXG4gICAgICAgIH1cbiAgICB9LCBiYXNlRm9ybWF0UHJvcHMpLFxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGkxOG4gPSBwcm9wcy5pMThuIHx8XG4gICAgICAgICAgICB1c2VJMThuKHtcbiAgICAgICAgICAgICAgICB1c2VTY29wZTogJ3BhcmVudCcsXG4gICAgICAgICAgICAgICAgX191c2VDb21wb25lbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUywgKC4uLmFyZ3MpID0+IFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBpMThuW051bWJlclBhcnRzU3ltYm9sXSguLi5hcmdzKSk7XG4gICAgfVxufSk7XG4vKipcbiAqIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuICogYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbiAqL1xuLyoqXG4gKiBOdW1iZXIgRm9ybWF0IENvbXBvbmVudFxuICpcbiAqIEByZW1hcmtzXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xuICpcbiAqIEBWdWVJMThuU2VlIFtGb3JtYXR0YWJsZVByb3BzXShjb21wb25lbnQjZm9ybWF0dGFibGVwcm9wcylcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQ3VzdG9tIEZvcm1hdHRpbmddKC4uL2d1aWRlL2Vzc2VudGlhbHMvbnVtYmVyI2N1c3RvbS1mb3JtYXR0aW5nKVxuICpcbiAqIEBWdWVJMThuRGFuZ2VyXG4gKiBOb3Qgc3VwcG9ydGVkIElFLCBkdWUgdG8gbm8gc3VwcG9ydCBgSW50bC5OdW1iZXJGb3JtYXQjZm9ybWF0VG9QYXJ0c2AgaW4gW0lFXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL051bWJlckZvcm1hdC9mb3JtYXRUb1BhcnRzKVxuICpcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBpdCwgeW91IG5lZWQgdG8gdXNlIFtwb2x5ZmlsbF0oaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL3RyZWUvbWFpbi9wYWNrYWdlcy9pbnRsLW51bWJlcmZvcm1hdClcbiAqXG4gKiBAVnVlSTE4bkNvbXBvbmVudFxuICovXG5jb25zdCBOdW1iZXJGb3JtYXQgPSBOdW1iZXJGb3JtYXRJbXBsO1xuY29uc3QgSTE4bk4gPSBOdW1iZXJGb3JtYXQ7XG5cbmNvbnN0IERhdGV0aW1lRm9ybWF0SW1wbCA9IC8qICNfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBuYW1lOiAnaTE4bi1kJyxcbiAgICBwcm9wczogYXNzaWduKHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIERhdGVdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXG4gICAgICAgIH1cbiAgICB9LCBiYXNlRm9ybWF0UHJvcHMpLFxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGkxOG4gPSBwcm9wcy5pMThuIHx8XG4gICAgICAgICAgICB1c2VJMThuKHtcbiAgICAgICAgICAgICAgICB1c2VTY29wZTogJ3BhcmVudCcsXG4gICAgICAgICAgICAgICAgX191c2VDb21wb25lbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTLCAoLi4uYXJncykgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGkxOG5bRGF0ZXRpbWVQYXJ0c1N5bWJvbF0oLi4uYXJncykpO1xuICAgIH1cbn0pO1xuLyoqXG4gKiBEYXRldGltZSBGb3JtYXQgQ29tcG9uZW50XG4gKlxuICogQHJlbWFya3NcbiAqIFNlZSB0aGUgZm9sbG93aW5nIGl0ZW1zIGZvciBwcm9wZXJ0eSBhYm91dCBkZXRhaWxzXG4gKlxuICogQFZ1ZUkxOG5TZWUgW0Zvcm1hdHRhYmxlUHJvcHNdKGNvbXBvbmVudCNmb3JtYXR0YWJsZXByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0Jhc2VGb3JtYXRQcm9wc10oY29tcG9uZW50I2Jhc2Vmb3JtYXRwcm9wcylcbiAqIEBWdWVJMThuU2VlIFtDdXN0b20gRm9ybWF0dGluZ10oLi4vZ3VpZGUvZXNzZW50aWFscy9kYXRldGltZSNjdXN0b20tZm9ybWF0dGluZylcbiAqXG4gKiBAVnVlSTE4bkRhbmdlclxuICogTm90IHN1cHBvcnRlZCBJRSwgZHVlIHRvIG5vIHN1cHBvcnQgYEludGwuRGF0ZVRpbWVGb3JtYXQjZm9ybWF0VG9QYXJ0c2AgaW4gW0lFXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL0RhdGVUaW1lRm9ybWF0L2Zvcm1hdFRvUGFydHMpXG4gKlxuICogSWYgeW91IHdhbnQgdG8gdXNlIGl0LCB5b3UgbmVlZCB0byB1c2UgW3BvbHlmaWxsXShodHRwczovL2dpdGh1Yi5jb20vZm9ybWF0anMvZm9ybWF0anMvdHJlZS9tYWluL3BhY2thZ2VzL2ludGwtZGF0ZXRpbWVmb3JtYXQpXG4gKlxuICogQFZ1ZUkxOG5Db21wb25lbnRcbiAqL1xuY29uc3QgRGF0ZXRpbWVGb3JtYXQgPSBEYXRldGltZUZvcm1hdEltcGw7XG5jb25zdCBJMThuRCA9IERhdGV0aW1lRm9ybWF0O1xuXG5mdW5jdGlvbiBnZXRDb21wb3NlciQyKGkxOG4sIGluc3RhbmNlKSB7XG4gICAgY29uc3QgaTE4bkludGVybmFsID0gaTE4bjtcbiAgICBpZiAoaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nKSB7XG4gICAgICAgIHJldHVybiAoaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpIHx8IGkxOG4uZ2xvYmFsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHZ1ZUkxOG4gPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiB2dWVJMThuICE9IG51bGxcbiAgICAgICAgICAgID8gdnVlSTE4bi5fX2NvbXBvc2VyXG4gICAgICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gdlREaXJlY3RpdmUoaTE4bikge1xuICAgIGNvbnN0IF9wcm9jZXNzID0gKGJpbmRpbmcpID0+IHtcbiAgICAgICAgY29uc3QgeyBpbnN0YW5jZSwgbW9kaWZpZXJzLCB2YWx1ZSB9ID0gYmluZGluZztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghaW5zdGFuY2UgfHwgIWluc3RhbmNlLiQpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb3NlciA9IGdldENvbXBvc2VyJDIoaTE4biwgaW5zdGFuY2UuJCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbW9kaWZpZXJzLnByZXNlcnZlKSB7XG4gICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLnQsIGNvbXBvc2VyLCBbLi4ubWFrZVBhcmFtcyhwYXJzZWRWYWx1ZSldKSxcbiAgICAgICAgICAgIGNvbXBvc2VyXG4gICAgICAgIF07XG4gICAgfTtcbiAgICBjb25zdCByZWdpc3RlciA9IChlbCwgYmluZGluZykgPT4ge1xuICAgICAgICBjb25zdCBbdGV4dENvbnRlbnQsIGNvbXBvc2VyXSA9IF9wcm9jZXNzKGJpbmRpbmcpO1xuICAgICAgICBpZiAoaW5Ccm93c2VyICYmIGkxOG4uZ2xvYmFsID09PSBjb21wb3Nlcikge1xuICAgICAgICAgICAgLy8gZ2xvYmFsIHNjb3BlIG9ubHlcbiAgICAgICAgICAgIGVsLl9faTE4bldhdGNoZXIgPSB3YXRjaChjb21wb3Nlci5sb2NhbGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmluc3RhbmNlICYmIGJpbmRpbmcuaW5zdGFuY2UuJGZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbC5fX2NvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgfTtcbiAgICBjb25zdCB1bnJlZ2lzdGVyID0gKGVsKSA9PiB7XG4gICAgICAgIGlmIChpbkJyb3dzZXIgJiYgZWwuX19pMThuV2F0Y2hlcikge1xuICAgICAgICAgICAgZWwuX19pMThuV2F0Y2hlcigpO1xuICAgICAgICAgICAgZWwuX19pMThuV2F0Y2hlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBlbC5fX2kxOG5XYXRjaGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5fX2NvbXBvc2VyKSB7XG4gICAgICAgICAgICBlbC5fX2NvbXBvc2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVsZXRlIGVsLl9fY29tcG9zZXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZSA9IChlbCwgeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGlmIChlbC5fX2NvbXBvc2VyKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3NlciA9IGVsLl9fY29tcG9zZXI7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLnQsIGNvbXBvc2VyLCBbXG4gICAgICAgICAgICAgICAgLi4ubWFrZVBhcmFtcyhwYXJzZWRWYWx1ZSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRTU1JQcm9wcyA9IChiaW5kaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IFt0ZXh0Q29udGVudF0gPSBfcHJvY2VzcyhiaW5kaW5nKTtcbiAgICAgICAgcmV0dXJuIHsgdGV4dENvbnRlbnQgfTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZWQ6IHJlZ2lzdGVyLFxuICAgICAgICB1bm1vdW50ZWQ6IHVucmVnaXN0ZXIsXG4gICAgICAgIGJlZm9yZVVwZGF0ZTogdXBkYXRlLFxuICAgICAgICBnZXRTU1JQcm9wc1xuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBwYXRoOiB2YWx1ZSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoISgncGF0aCcgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuUkVRVUlSRURfVkFMVUUsICdwYXRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLklOVkFMSURfVkFMVUUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VQYXJhbXModmFsdWUpIHtcbiAgICBjb25zdCB7IHBhdGgsIGxvY2FsZSwgYXJncywgY2hvaWNlLCBwbHVyYWwgfSA9IHZhbHVlO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICBjb25zdCBuYW1lZCA9IGFyZ3MgfHwge307XG4gICAgaWYgKGlzU3RyaW5nKGxvY2FsZSkpIHtcbiAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjaG9pY2UpKSB7XG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gY2hvaWNlO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIocGx1cmFsKSkge1xuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IHBsdXJhbDtcbiAgICB9XG4gICAgcmV0dXJuIFtwYXRoLCBuYW1lZCwgb3B0aW9uc107XG59XG5cbmZ1bmN0aW9uIGFwcGx5KGFwcCwgaTE4biwgLi4ub3B0aW9ucykge1xuICAgIGNvbnN0IHBsdWdpbk9wdGlvbnMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnNbMF0pXG4gICAgICAgID8gb3B0aW9uc1swXVxuICAgICAgICA6IHt9O1xuICAgIGNvbnN0IHVzZUkxOG5Db21wb25lbnROYW1lID0gISFwbHVnaW5PcHRpb25zLnVzZUkxOG5Db21wb25lbnROYW1lO1xuICAgIGNvbnN0IGdsb2JhbEluc3RhbGwgPSBpc0Jvb2xlYW4ocGx1Z2luT3B0aW9ucy5nbG9iYWxJbnN0YWxsKVxuICAgICAgICA/IHBsdWdpbk9wdGlvbnMuZ2xvYmFsSW5zdGFsbFxuICAgICAgICA6IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBnbG9iYWxJbnN0YWxsICYmIHVzZUkxOG5Db21wb25lbnROYW1lKSB7XG4gICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5DT01QT05FTlRfTkFNRV9MRUdBQ1lfQ09NUEFUSUJMRSwge1xuICAgICAgICAgICAgbmFtZTogVHJhbnNsYXRpb24ubmFtZVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGlmIChnbG9iYWxJbnN0YWxsKSB7XG4gICAgICAgIFshdXNlSTE4bkNvbXBvbmVudE5hbWUgPyBUcmFuc2xhdGlvbi5uYW1lIDogJ2kxOG4nLCAnSTE4blQnXS5mb3JFYWNoKG5hbWUgPT4gYXBwLmNvbXBvbmVudChuYW1lLCBUcmFuc2xhdGlvbikpO1xuICAgICAgICBbTnVtYmVyRm9ybWF0Lm5hbWUsICdJMThuTiddLmZvckVhY2gobmFtZSA9PiBhcHAuY29tcG9uZW50KG5hbWUsIE51bWJlckZvcm1hdCkpO1xuICAgICAgICBbRGF0ZXRpbWVGb3JtYXQubmFtZSwgJ0kxOG5EJ10uZm9yRWFjaChuYW1lID0+IGFwcC5jb21wb25lbnQobmFtZSwgRGF0ZXRpbWVGb3JtYXQpKTtcbiAgICB9XG4gICAgLy8gaW5zdGFsbCBkaXJlY3RpdmVcbiAgICB7XG4gICAgICAgIGFwcC5kaXJlY3RpdmUoJ3QnLCB2VERpcmVjdGl2ZShpMThuKSk7XG4gICAgfVxufVxuXG5jb25zdCBWdWVEZXZUb29sc0xhYmVscyA9IHtcbiAgICBbXCJ2dWUtZGV2dG9vbHMtcGx1Z2luLXZ1ZS1pMThuXCIgLyogVnVlRGV2VG9vbHNJRHMuUExVR0lOICovXTogJ1Z1ZSBJMThuIGRldnRvb2xzJyxcbiAgICBbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovXTogJ0kxOG4gUmVzb3VyY2VzJyxcbiAgICBbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovXTogJ1Z1ZSBJMThuJ1xufTtcbmNvbnN0IFZ1ZURldlRvb2xzUGxhY2Vob2xkZXJzID0ge1xuICAgIFtcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi9dOiAnU2VhcmNoIGZvciBzY29wZXMgLi4uJ1xufTtcbmNvbnN0IFZ1ZURldlRvb2xzVGltZWxpbmVDb2xvcnMgPSB7XG4gICAgW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqL106IDB4ZmZjZDE5XG59O1xuXG5jb25zdCBWVUVfSTE4Tl9DT01QT05FTlRfVFlQRVMgPSAndnVlLWkxOG46IGNvbXBvc2VyIHByb3BlcnRpZXMnO1xubGV0IGRldnRvb2xzQXBpO1xuYXN5bmMgZnVuY3Rpb24gZW5hYmxlRGV2VG9vbHMoYXBwLCBpMThuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICAgICAgICAgIGlkOiBcInZ1ZS1kZXZ0b29scy1wbHVnaW4tdnVlLWkxOG5cIiAvKiBWdWVEZXZUb29sc0lEcy5QTFVHSU4gKi8sXG4gICAgICAgICAgICAgICAgbGFiZWw6IFZ1ZURldlRvb2xzTGFiZWxzW1widnVlLWRldnRvb2xzLXBsdWdpbi12dWUtaTE4blwiIC8qIFZ1ZURldlRvb2xzSURzLlBMVUdJTiAqL10sXG4gICAgICAgICAgICAgICAgcGFja2FnZU5hbWU6ICd2dWUtaTE4bicsXG4gICAgICAgICAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3Z1ZS1pMThuLmludGxpZnkuZGV2JyxcbiAgICAgICAgICAgICAgICBsb2dvOiAnaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldi92dWUtaTE4bi1kZXZ0b29scy1sb2dvLnBuZycsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlczogW1ZVRV9JMThOX0NPTVBPTkVOVF9UWVBFU10sXG4gICAgICAgICAgICAgICAgYXBwOiBhcHAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB9LCBhcGkgPT4ge1xuICAgICAgICAgICAgICAgIGRldnRvb2xzQXBpID0gYXBpO1xuICAgICAgICAgICAgICAgIGFwaS5vbi52aXNpdENvbXBvbmVudFRyZWUoKHsgY29tcG9uZW50SW5zdGFuY2UsIHRyZWVOb2RlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50VHJlZVRhZ3MoY29tcG9uZW50SW5zdGFuY2UsIHRyZWVOb2RlLCBpMThuKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGkub24uaW5zcGVjdENvbXBvbmVudCgoeyBjb21wb25lbnRJbnN0YW5jZSwgaW5zdGFuY2VEYXRhIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2xlZ2FjeScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZ2xvYmFsIHNjb3BlIG9uIGxlZ2FjeSBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTE4bi5nbG9iYWwuX19jb21wb3Nlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0Q29tcG9zZXIoaW5zdGFuY2VEYXRhLCBjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3BlY3RDb21wb3NlcihpbnN0YW5jZURhdGEsIGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqLyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFZ1ZURldlRvb2xzTGFiZWxzW1widnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqL10sXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdsYW5ndWFnZScsXG4gICAgICAgICAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogVnVlRGV2VG9vbHNQbGFjZWhvbGRlcnNbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlclNjb3BlKHBheWxvYWQsIGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKGFzeW5jIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS51bmhpZ2hsaWdodEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3BlY3RTY29wZShwYXlsb2FkLCBpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLm5vZGVJZCA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJvb3RzLmhhcyhwYXlsb2FkLmFwcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3Jvb3RdID0gYXdhaXQgYXBpLmdldENvbXBvbmVudEluc3RhbmNlcyhwYXlsb2FkLmFwcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RzLnNldChwYXlsb2FkLmFwcCwgcm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5oaWdobGlnaHRFbGVtZW50KHJvb3RzLmdldChwYXlsb2FkLmFwcCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRJbnN0YW5jZShwYXlsb2FkLm5vZGVJZCwgaTE4bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgJiYgYXBpLmhpZ2hsaWdodEVsZW1lbnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXBpLm9uLmVkaXRJbnNwZWN0b3JTdGF0ZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFNjb3BlKHBheWxvYWQsIGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogVnVlRGV2VG9vbHNMYWJlbHNbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovXSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFZ1ZURldlRvb2xzVGltZWxpbmVDb2xvcnNbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHJlamVjdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRJMThuU2NvcGVMYWJsZShpbnN0YW5jZSkge1xuICAgIHJldHVybiAoaW5zdGFuY2UudHlwZS5uYW1lIHx8XG4gICAgICAgIGluc3RhbmNlLnR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgaW5zdGFuY2UudHlwZS5fX2ZpbGUgfHxcbiAgICAgICAgJ0Fub255bW91cycpO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50VHJlZVRhZ3MoaW5zdGFuY2UsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudHJlZU5vZGUsIGkxOG4pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBnbG9iYWwgPSBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgPyBpMThuLmdsb2JhbFxuICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XG4gICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLnZub2RlLmVsICYmIGluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXykge1xuICAgICAgICAvLyBhZGQgY3VzdG9tIHRhZ3MgbG9jYWwgc2NvcGUgb25seVxuICAgICAgICBpZiAoaW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fICE9PSBnbG9iYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogYGkxOG4gKCR7Z2V0STE4blNjb3BlTGFibGUoaW5zdGFuY2UpfSBTY29wZSlgLFxuICAgICAgICAgICAgICAgIHRleHRDb2xvcjogMHgwMDAwMDAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweGZmY2QxOVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyZWVOb2RlLnRhZ3MucHVzaCh0YWcpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zcGVjdENvbXBvc2VyKGluc3RhbmNlRGF0YSwgY29tcG9zZXIpIHtcbiAgICBjb25zdCB0eXBlID0gVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTO1xuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5OiAnbG9jYWxlJyxcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5sb2NhbGUudmFsdWVcbiAgICB9KTtcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleTogJ2F2YWlsYWJsZUxvY2FsZXMnLFxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5hdmFpbGFibGVMb2NhbGVzXG4gICAgfSk7XG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXk6ICdmYWxsYmFja0xvY2FsZScsXG4gICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWVcbiAgICB9KTtcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleTogJ2luaGVyaXRMb2NhbGUnLFxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmluaGVyaXRMb2NhbGVcbiAgICB9KTtcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleTogJ21lc3NhZ2VzJyxcbiAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlKVxuICAgIH0pO1xuICAgIHtcbiAgICAgICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGtleTogJ2RhdGV0aW1lRm9ybWF0cycsXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAga2V5OiAnbnVtYmVyRm9ybWF0cycsXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKG1lc3NhZ2VzKSB7XG4gICAgY29uc3QgdmFsdWUgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhtZXNzYWdlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHYgPSBtZXNzYWdlc1trZXldO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2KSAmJiAnc291cmNlJyBpbiB2KSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gZ2V0TWVzc2FnZUZ1bmN0aW9uRGV0YWlscyh2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01lc3NhZ2VBU1QodikgJiYgdi5sb2MgJiYgdi5sb2Muc291cmNlKSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gdi5sb2Muc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IHY7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCBFU0MgPSB7XG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgJyYnOiAnJmFtcDsnXG59O1xuZnVuY3Rpb24gZXNjYXBlKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9bPD5cIiZdL2csIGVzY2FwZUNoYXIpO1xufVxuZnVuY3Rpb24gZXNjYXBlQ2hhcihhKSB7XG4gICAgcmV0dXJuIEVTQ1thXSB8fCBhO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldE1lc3NhZ2VGdW5jdGlvbkRldGFpbHMoZnVuYykge1xuICAgIGNvbnN0IGFyZ1N0cmluZyA9IGZ1bmMuc291cmNlID8gYChcIiR7ZXNjYXBlKGZ1bmMuc291cmNlKX1cIilgIDogYCg/KWA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIGRpc3BsYXk6IGA8c3Bhbj7Gkjwvc3Bhbj4gJHthcmdTdHJpbmd9YFxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyU2NvcGUocGF5bG9hZCwgaTE4bikge1xuICAgIHBheWxvYWQucm9vdE5vZGVzLnB1c2goe1xuICAgICAgICBpZDogJ2dsb2JhbCcsXG4gICAgICAgIGxhYmVsOiAnR2xvYmFsIFNjb3BlJ1xuICAgIH0pO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGdsb2JhbCA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICA/IGkxOG4uZ2xvYmFsXG4gICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcbiAgICBmb3IgKGNvbnN0IFtrZXlJbnN0YW5jZSwgaW5zdGFuY2VdIG9mIGkxOG4uX19pbnN0YW5jZXMpIHtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgICAgICA/IGluc3RhbmNlXG4gICAgICAgICAgICA6IGluc3RhbmNlLl9fY29tcG9zZXI7XG4gICAgICAgIGlmIChnbG9iYWwgPT09IGNvbXBvc2VyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnJvb3ROb2Rlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBjb21wb3Nlci5pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgbGFiZWw6IGAke2dldEkxOG5TY29wZUxhYmxlKGtleUluc3RhbmNlKX0gU2NvcGVgXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudEluc3RhbmNlKG5vZGVJZCwgaTE4bikge1xuICAgIGxldCBpbnN0YW5jZSA9IG51bGw7XG4gICAgaWYgKG5vZGVJZCAhPT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbY29tcG9uZW50LCBjb21wb3Nlcl0gb2YgaTE4bi5fX2luc3RhbmNlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChjb21wb3Nlci5pZC50b1N0cmluZygpID09PSBub2RlSWQpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5mdW5jdGlvbiBnZXRDb21wb3NlciQxKG5vZGVJZCwgaTE4bikge1xuICAgIGlmIChub2RlSWQgPT09ICdnbG9iYWwnKSB7XG4gICAgICAgIHJldHVybiBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgICAgID8gaTE4bi5nbG9iYWxcbiAgICAgICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gQXJyYXkuZnJvbShpMThuLl9faW5zdGFuY2VzLnZhbHVlcygpKS5maW5kKGl0ZW0gPT4gaXRlbS5pZC50b1N0cmluZygpID09PSBub2RlSWQpO1xuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgICAgICAgICA/IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgOiBpbnN0YW5jZS5fX2NvbXBvc2VyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0U2NvcGUocGF5bG9hZCwgaTE4blxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMShwYXlsb2FkLm5vZGVJZCwgaTE4bik7XG4gICAgaWYgKGNvbXBvc2VyKSB7XG4gICAgICAgIC8vIFRPRE86XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHBheWxvYWQuc3RhdGUgPSBtYWtlU2NvcGVJbnNwZWN0U3RhdGUoY29tcG9zZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG1ha2VTY29wZUluc3BlY3RTdGF0ZShjb21wb3Nlcikge1xuICAgIGNvbnN0IHN0YXRlID0ge307XG4gICAgY29uc3QgbG9jYWxlVHlwZSA9ICdMb2NhbGUgcmVsYXRlZCBpbmZvJztcbiAgICBjb25zdCBsb2NhbGVTdGF0ZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXG4gICAgICAgICAgICBrZXk6ICdsb2NhbGUnLFxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIubG9jYWxlLnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXG4gICAgICAgICAgICBrZXk6ICdmYWxsYmFja0xvY2FsZScsXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxuICAgICAgICAgICAga2V5OiAnYXZhaWxhYmxlTG9jYWxlcycsXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuYXZhaWxhYmxlTG9jYWxlc1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxuICAgICAgICAgICAga2V5OiAnaW5oZXJpdExvY2FsZScsXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5pbmhlcml0TG9jYWxlXG4gICAgICAgIH1cbiAgICBdO1xuICAgIHN0YXRlW2xvY2FsZVR5cGVdID0gbG9jYWxlU3RhdGVzO1xuICAgIGNvbnN0IGxvY2FsZU1lc3NhZ2VzVHlwZSA9ICdMb2NhbGUgbWVzc2FnZXMgaW5mbyc7XG4gICAgY29uc3QgbG9jYWxlTWVzc2FnZXNTdGF0ZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZU1lc3NhZ2VzVHlwZSxcbiAgICAgICAgICAgIGtleTogJ21lc3NhZ2VzJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBnZXRMb2NhbGVNZXNzYWdlVmFsdWUoY29tcG9zZXIubWVzc2FnZXMudmFsdWUpXG4gICAgICAgIH1cbiAgICBdO1xuICAgIHN0YXRlW2xvY2FsZU1lc3NhZ2VzVHlwZV0gPSBsb2NhbGVNZXNzYWdlc1N0YXRlcztcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0c1R5cGUgPSAnRGF0ZXRpbWUgZm9ybWF0cyBpbmZvJztcbiAgICAgICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzU3RhdGVzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGV0aW1lRm9ybWF0c1R5cGUsXG4gICAgICAgICAgICAgICAga2V5OiAnZGF0ZXRpbWVGb3JtYXRzJyxcbiAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBzdGF0ZVtkYXRldGltZUZvcm1hdHNUeXBlXSA9IGRhdGV0aW1lRm9ybWF0c1N0YXRlcztcbiAgICAgICAgY29uc3QgbnVtYmVyRm9ybWF0c1R5cGUgPSAnRGF0ZXRpbWUgZm9ybWF0cyBpbmZvJztcbiAgICAgICAgY29uc3QgbnVtYmVyRm9ybWF0c1N0YXRlcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBudW1iZXJGb3JtYXRzVHlwZSxcbiAgICAgICAgICAgICAgICBrZXk6ICdudW1iZXJGb3JtYXRzJyxcbiAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLm51bWJlckZvcm1hdHMudmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgc3RhdGVbbnVtYmVyRm9ybWF0c1R5cGVdID0gbnVtYmVyRm9ybWF0c1N0YXRlcztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gYWRkVGltZWxpbmVFdmVudChldmVudCwgcGF5bG9hZCkge1xuICAgIGlmIChkZXZ0b29sc0FwaSkge1xuICAgICAgICBsZXQgZ3JvdXBJZDtcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgJ2dyb3VwSWQnIGluIHBheWxvYWQpIHtcbiAgICAgICAgICAgIGdyb3VwSWQgPSBwYXlsb2FkLmdyb3VwSWQ7XG4gICAgICAgICAgICBkZWxldGUgcGF5bG9hZC5ncm91cElkO1xuICAgICAgICB9XG4gICAgICAgIGRldnRvb2xzQXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgbGF5ZXJJZDogXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovLFxuICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnQsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIG1ldGE6IHt9LFxuICAgICAgICAgICAgICAgIGRhdGE6IHBheWxvYWQgfHwge30sXG4gICAgICAgICAgICAgICAgbG9nVHlwZTogZXZlbnQgPT09IFwiY29tcGlsZS1lcnJvclwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuQ09NUElMRV9FUlJPUiAqL1xuICAgICAgICAgICAgICAgICAgICA/ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgOiBldmVudCA9PT0gXCJmYWxsYmFja1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuRkFMQkFDSyAqLyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPT09IFwibWlzc2luZ1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUlTU0lORyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnd2FybmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2RlZmF1bHQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVkaXRTY29wZShwYXlsb2FkLCBpMThuKSB7XG4gICAgY29uc3QgY29tcG9zZXIgPSBnZXRDb21wb3NlciQxKHBheWxvYWQubm9kZUlkLCBpMThuKTtcbiAgICBpZiAoY29tcG9zZXIpIHtcbiAgICAgICAgY29uc3QgW2ZpZWxkXSA9IHBheWxvYWQucGF0aDtcbiAgICAgICAgaWYgKGZpZWxkID09PSAnbG9jYWxlJyAmJiBpc1N0cmluZyhwYXlsb2FkLnN0YXRlLnZhbHVlKSkge1xuICAgICAgICAgICAgY29tcG9zZXIubG9jYWxlLnZhbHVlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZCA9PT0gJ2ZhbGxiYWNrTG9jYWxlJyAmJlxuICAgICAgICAgICAgKGlzU3RyaW5nKHBheWxvYWQuc3RhdGUudmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgaXNBcnJheShwYXlsb2FkLnN0YXRlLnZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBheWxvYWQuc3RhdGUudmFsdWUpKSkge1xuICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBwYXlsb2FkLnN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkID09PSAnaW5oZXJpdExvY2FsZScgJiYgaXNCb29sZWFuKHBheWxvYWQuc3RhdGUudmFsdWUpKSB7XG4gICAgICAgICAgICBjb21wb3Nlci5pbmhlcml0TG9jYWxlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBTdXBwb3J0cyBjb21wYXRpYmlsaXR5IGZvciBsZWdhY3kgdnVlLWkxOG4gQVBJc1xuICogVGhpcyBtaXhpbiBpcyB1c2VkIHdoZW4gd2UgdXNlIHZ1ZS1pMThuQHY5Lnggb3IgbGF0ZXJcbiAqL1xuZnVuY3Rpb24gZGVmaW5lTWl4aW4odnVlaTE4biwgY29tcG9zZXIsIGkxOG4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pMThuKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uc0kxOG4gPSBvcHRpb25zLmkxOG47XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuX19pMThuKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9faTE4biA9IG9wdGlvbnMuX19pMThuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX3Jvb3QgPSBjb21wb3NlcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyA9PT0gdGhpcy4kcm9vdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJnZSBvcHRpb24gYW5kIGd0dGFjaCBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IG1lcmdlVG9HbG9iYWwodnVlaTE4biwgb3B0aW9uc0kxOG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19pbmplY3RXaXRoT3B0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19leHRlbmRlciA9IGkxOG4uX192dWVJMThuRXh0ZW5kO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdHR0YWNoIGxvY2FsIFZ1ZUkxOG4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IGNyZWF0ZVZ1ZUkxOG4ob3B0aW9uc0kxOG4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBleHRlbmQgVnVlSTE4biBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdnVlSTE4bi5fX2V4dGVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc3Bvc2VyID0gX3Z1ZUkxOG4uX19leHRlbmRlcih0aGlzLiRpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuX19pMThuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IHRoaXMuJHJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWVyZ2Ugb3B0aW9uIGFuZCBndHRhY2ggZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSBtZXJnZVRvR2xvYmFsKHZ1ZWkxOG4sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0dGFjaCBsb2NhbCBWdWVJMThuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSBjcmVhdGVWdWVJMThuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9faTE4bjogb3B0aW9ucy5fX2kxOG4sXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2luamVjdFdpdGhPcHRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2V4dGVuZGVyOiBpMThuLl9fdnVlSTE4bkV4dGVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fcm9vdDogY29tcG9zZXJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4dGVuZCBWdWVJMThuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF92dWVJMThuID0gdGhpcy4kaTE4bjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF92dWVJMThuLl9fZXh0ZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZGlzcG9zZXIgPSBfdnVlSTE4bi5fX2V4dGVuZGVyKHRoaXMuJGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYXR0YWNoIGdsb2JhbCBWdWVJMThuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IHZ1ZWkxOG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5fX2kxOG5HbG9iYWwpIHtcbiAgICAgICAgICAgICAgICBhZGp1c3RJMThuUmVzb3VyY2VzKGNvbXBvc2VyLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlZmluZXMgdnVlLWkxOG4gbGVnYWN5IEFQSXNcbiAgICAgICAgICAgIHRoaXMuJHQgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi50KC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kcnQgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi5ydCguLi5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuJHRjID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4udGMoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLiR0ZSA9IChrZXksIGxvY2FsZSkgPT4gdGhpcy4kaTE4bi50ZShrZXksIGxvY2FsZSk7XG4gICAgICAgICAgICB0aGlzLiRkID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4uZCguLi5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuJG4gPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi5uKC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kdG0gPSAoa2V5KSA9PiB0aGlzLiRpMThuLnRtKGtleSk7XG4gICAgICAgICAgICBpMThuLl9fc2V0SW5zdGFuY2UoaW5zdGFuY2UsIHRoaXMuJGkxOG4pO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkKCkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgIWZhbHNlICYmXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRpMThuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSB0aGlzLiRpMThuO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLl9fVlVFX0kxOE5fXyA9IF92dWVJMThuLl9fY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9ICh0aGlzLl9fdl9lbWl0dGVyID1cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRW1pdHRlcigpKTtcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIub24oJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudGVkKCkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IF92dWVJMThuID0gdGhpcy4kaTE4bjtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgICFmYWxzZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuJGVsICYmXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuX19WVUVfSTE4Tl9fKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX192X2VtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3ZfZW1pdHRlci5vZmYoJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX192X2VtaXR0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRpMThuKSB7XG4gICAgICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZGlzYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19kaXNhYmxlRW1pdHRlcigpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy4kZWwuX19WVUVfSTE4Tl9fO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiR0O1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHJ0O1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRjO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRlO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kbjtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiR0bTtcbiAgICAgICAgICAgIGlmIChfdnVlSTE4bi5fX2Rpc3Bvc2VyKSB7XG4gICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19kaXNwb3NlcigpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdnVlSTE4bi5fX2Rpc3Bvc2VyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdnVlSTE4bi5fX2V4dGVuZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaTE4bi5fX2RlbGV0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRpMThuO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlVG9HbG9iYWwoZywgb3B0aW9ucykge1xuICAgIGcubG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgZy5sb2NhbGU7XG4gICAgZy5mYWxsYmFja0xvY2FsZSA9IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgfHwgZy5mYWxsYmFja0xvY2FsZTtcbiAgICBnLm1pc3NpbmcgPSBvcHRpb25zLm1pc3NpbmcgfHwgZy5taXNzaW5nO1xuICAgIGcuc2lsZW50VHJhbnNsYXRpb25XYXJuID1cbiAgICAgICAgb3B0aW9ucy5zaWxlbnRUcmFuc2xhdGlvbldhcm4gfHwgZy5zaWxlbnRGYWxsYmFja1dhcm47XG4gICAgZy5zaWxlbnRGYWxsYmFja1dhcm4gPSBvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybiB8fCBnLnNpbGVudEZhbGxiYWNrV2FybjtcbiAgICBnLmZvcm1hdEZhbGxiYWNrTWVzc2FnZXMgPVxuICAgICAgICBvcHRpb25zLmZvcm1hdEZhbGxiYWNrTWVzc2FnZXMgfHwgZy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzO1xuICAgIGcucG9zdFRyYW5zbGF0aW9uID0gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb24gfHwgZy5wb3N0VHJhbnNsYXRpb247XG4gICAgZy53YXJuSHRtbEluTWVzc2FnZSA9IG9wdGlvbnMud2Fybkh0bWxJbk1lc3NhZ2UgfHwgZy53YXJuSHRtbEluTWVzc2FnZTtcbiAgICBnLmVzY2FwZVBhcmFtZXRlckh0bWwgPSBvcHRpb25zLmVzY2FwZVBhcmFtZXRlckh0bWwgfHwgZy5lc2NhcGVQYXJhbWV0ZXJIdG1sO1xuICAgIGcuc3luYyA9IG9wdGlvbnMuc3luYyB8fCBnLnN5bmM7XG4gICAgZy5fX2NvbXBvc2VyW1NldFBsdXJhbFJ1bGVzU3ltYm9sXShvcHRpb25zLnBsdXJhbGl6YXRpb25SdWxlcyB8fCBnLnBsdXJhbGl6YXRpb25SdWxlcyk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBnZXRMb2NhbGVNZXNzYWdlcyhnLmxvY2FsZSwge1xuICAgICAgICBtZXNzYWdlczogb3B0aW9ucy5tZXNzYWdlcyxcbiAgICAgICAgX19pMThuOiBvcHRpb25zLl9faTE4blxuICAgIH0pO1xuICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKGxvY2FsZSA9PiBnLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2VzW2xvY2FsZV0pKTtcbiAgICBpZiAob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IGcubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzW2xvY2FsZV0pKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubnVtYmVyRm9ybWF0cykge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm51bWJlckZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IGcubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zLm51bWJlckZvcm1hdHNbbG9jYWxlXSkpO1xuICAgIH1cbiAgICByZXR1cm4gZztcbn1cblxuLyoqXG4gKiBJbmplY3Rpb24ga2V5IGZvciB7QGxpbmsgdXNlSTE4bn1cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIGdsb2JhbCBpbmplY3Rpb24ga2V5IGZvciBJMThuIGluc3RhbmNlcyB3aXRoIGB1c2VJMThuYC4gdGhpcyBpbmplY3Rpb24ga2V5IGlzIHVzZWQgaW4gV2ViIENvbXBvbmVudHMuXG4gKiBTcGVjaWZ5IHRoZSBpMThuIGluc3RhbmNlIGNyZWF0ZWQgYnkge0BsaW5rIGNyZWF0ZUkxOG59IHRvZ2V0aGVyIHdpdGggYHByb3ZpZGVgIGZ1bmN0aW9uLlxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5jb25zdCBJMThuSW5qZWN0aW9uS2V5ID0gXG4vKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdnbG9iYWwtdnVlLWkxOG4nKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBjcmVhdGVJMThuKG9wdGlvbnMgPSB7fSwgVnVlSTE4bkxlZ2FjeSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9fbGVnYWN5TW9kZSA9IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIGlzQm9vbGVhbihvcHRpb25zLmxlZ2FjeSlcbiAgICAgICAgICAgID8gb3B0aW9ucy5sZWdhY3lcbiAgICAgICAgICAgIDogX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX187XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX19nbG9iYWxJbmplY3Rpb24gPSBpc0Jvb2xlYW4ob3B0aW9ucy5nbG9iYWxJbmplY3Rpb24pXG4gICAgICAgID8gb3B0aW9ucy5nbG9iYWxJbmplY3Rpb25cbiAgICAgICAgOiB0cnVlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9fYWxsb3dDb21wb3NpdGlvbiA9IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIF9fbGVnYWN5TW9kZVxuICAgICAgICAgICAgPyAhIW9wdGlvbnMuYWxsb3dDb21wb3NpdGlvblxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IF9faW5zdGFuY2VzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IFtnbG9iYWxTY29wZSwgX19nbG9iYWxdID0gY3JlYXRlR2xvYmFsKG9wdGlvbnMsIF9fbGVnYWN5TW9kZSk7XG4gICAgY29uc3Qgc3ltYm9sID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAndnVlLWkxOG4nIDogJycpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaWYgKF9fbGVnYWN5TW9kZSAmJiBfX2FsbG93Q29tcG9zaXRpb24gJiYgIWZhbHNlKSB7XG4gICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9USUNFX0RST1BfQUxMT1dfQ09NUE9TSVRJT04pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfX2dldEluc3RhbmNlKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gX19pbnN0YW5jZXMuZ2V0KGNvbXBvbmVudCkgfHwgbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gX19zZXRJbnN0YW5jZShjb21wb25lbnQsIGluc3RhbmNlKSB7XG4gICAgICAgIF9faW5zdGFuY2VzLnNldChjb21wb25lbnQsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX19kZWxldGVJbnN0YW5jZShjb21wb25lbnQpIHtcbiAgICAgICAgX19pbnN0YW5jZXMuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgY29uc3QgaTE4biA9IHtcbiAgICAgICAgICAgIC8vIG1vZGVcbiAgICAgICAgICAgIGdldCBtb2RlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBfX2xlZ2FjeU1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyAnbGVnYWN5J1xuICAgICAgICAgICAgICAgICAgICA6ICdjb21wb3NpdGlvbic7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gYWxsb3dDb21wb3NpdGlvblxuICAgICAgICAgICAgZ2V0IGFsbG93Q29tcG9zaXRpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYWxsb3dDb21wb3NpdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBpbnN0YWxsIHBsdWdpblxuICAgICAgICAgICAgYXN5bmMgaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgICAgICFmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBhcHAuX19WVUVfSTE4Tl9fID0gaTE4bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2V0dXAgZ2xvYmFsIHByb3ZpZGVyXG4gICAgICAgICAgICAgICAgYXBwLl9fVlVFX0kxOE5fU1lNQk9MX18gPSBzeW1ib2w7XG4gICAgICAgICAgICAgICAgYXBwLnByb3ZpZGUoYXBwLl9fVlVFX0kxOE5fU1lNQk9MX18sIGkxOG4pO1xuICAgICAgICAgICAgICAgIC8vIHNldCBjb21wb3NlciAmIHZ1ZWkxOG4gZXh0ZW5kIGhvb2sgb3B0aW9ucyBmcm9tIHBsdWdpbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9uc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0cyA9IG9wdGlvbnNbMF07XG4gICAgICAgICAgICAgICAgICAgIGkxOG4uX19jb21wb3NlckV4dGVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLl9fY29tcG9zZXJFeHRlbmQ7XG4gICAgICAgICAgICAgICAgICAgIGkxOG4uX192dWVJMThuRXh0ZW5kID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuX192dWVJMThuRXh0ZW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBnbG9iYWwgbWV0aG9kIGFuZCBwcm9wZXJ0aWVzIGluamVjdGlvbiBmb3IgQ29tcG9zaXRpb24gQVBJXG4gICAgICAgICAgICAgICAgbGV0IGdsb2JhbFJlbGVhc2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIV9fbGVnYWN5TW9kZSAmJiBfX2dsb2JhbEluamVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxSZWxlYXNlSGFuZGxlciA9IGluamVjdEdsb2JhbEZpZWxkcyhhcHAsIGkxOG4uZ2xvYmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaW5zdGFsbCBidWlsdC1pbiBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVcbiAgICAgICAgICAgICAgICBpZiAoX19WVUVfSTE4Tl9GVUxMX0lOU1RBTExfXykge1xuICAgICAgICAgICAgICAgICAgICBhcHBseShhcHAsIGkxOG4sIC4uLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXR1cCBtaXhpbiBmb3IgTGVnYWN5IEFQSVxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBfX2xlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwLm1peGluKGRlZmluZU1peGluKF9fZ2xvYmFsLCBfX2dsb2JhbC5fX2NvbXBvc2VyLCBpMThuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlbGVhc2UgZ2xvYmFsIHNjb3BlXG4gICAgICAgICAgICAgICAgY29uc3QgdW5tb3VudEFwcCA9IGFwcC51bm1vdW50O1xuICAgICAgICAgICAgICAgIGFwcC51bm1vdW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxSZWxlYXNlSGFuZGxlciAmJiBnbG9iYWxSZWxlYXNlSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICBpMThuLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudEFwcCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gc2V0dXAgdnVlLWRldnRvb2xzIHBsdWdpblxuICAgICAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiYgIWZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IGF3YWl0IGVuYWJsZURldlRvb2xzKGFwcCwgaTE4bik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuQ0FOTk9UX1NFVFVQX1ZVRV9ERVZUT09MU19QTFVHSU4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjcmVhdGVFbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfX2xlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF92dWVJMThuID0gX19nbG9iYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9jb21wb3NlciA9IF9fZ2xvYmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdICYmIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXShlbWl0dGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGdsb2JhbCBhY2Nlc3NvclxuICAgICAgICAgICAgZ2V0IGdsb2JhbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nbG9iYWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWxTY29wZS5zdG9wKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQGludGVybmFsXG4gICAgICAgICAgICBfX2luc3RhbmNlcyxcbiAgICAgICAgICAgIC8vIEBpbnRlcm5hbFxuICAgICAgICAgICAgX19nZXRJbnN0YW5jZSxcbiAgICAgICAgICAgIC8vIEBpbnRlcm5hbFxuICAgICAgICAgICAgX19zZXRJbnN0YW5jZSxcbiAgICAgICAgICAgIC8vIEBpbnRlcm5hbFxuICAgICAgICAgICAgX19kZWxldGVJbnN0YW5jZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaTE4bjtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gdXNlSTE4bihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5NVVNUX0JFX0NBTExfU0VUVVBfVE9QKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5pc0NFICYmXG4gICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQuYXBwICE9IG51bGwgJiZcbiAgICAgICAgIWluc3RhbmNlLmFwcENvbnRleHQuYXBwLl9fVlVFX0kxOE5fU1lNQk9MX18pIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk5PVF9JTlNUQUxMRUQpO1xuICAgIH1cbiAgICBjb25zdCBpMThuID0gZ2V0STE4bkluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBjb25zdCBnbCA9IGdldEdsb2JhbENvbXBvc2VyKGkxOG4pO1xuICAgIGNvbnN0IGNvbXBvbmVudE9wdGlvbnMgPSBnZXRDb21wb25lbnRPcHRpb25zKGluc3RhbmNlKTtcbiAgICBjb25zdCBzY29wZSA9IGdldFNjb3BlKG9wdGlvbnMsIGNvbXBvbmVudE9wdGlvbnMpO1xuICAgIGlmIChfX1ZVRV9JMThOX0xFR0FDWV9BUElfXykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBpZiAoaTE4bi5tb2RlID09PSAnbGVnYWN5JyAmJiAhb3B0aW9ucy5fX3VzZUNvbXBvbmVudCkge1xuICAgICAgICAgICAgaWYgKCFpMThuLmFsbG93Q29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTk9UX0FWQUlMQUJMRV9JTl9MRUdBQ1lfTU9ERSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlSTE4bkZvckxlZ2FjeShpbnN0YW5jZSwgc2NvcGUsIGdsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NvcGUgPT09ICdnbG9iYWwnKSB7XG4gICAgICAgIGFkanVzdEkxOG5SZXNvdXJjZXMoZ2wsIG9wdGlvbnMsIGNvbXBvbmVudE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuICAgIGlmIChzY29wZSA9PT0gJ3BhcmVudCcpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIoaTE4biwgaW5zdGFuY2UsIG9wdGlvbnMuX191c2VDb21wb25lbnQpO1xuICAgICAgICBpZiAoY29tcG9zZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfRk9VTkRfUEFSRU5UX1NDT1BFKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb3NlciA9IGdsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb3NlcjtcbiAgICB9XG4gICAgY29uc3QgaTE4bkludGVybmFsID0gaTE4bjtcbiAgICBsZXQgY29tcG9zZXIgPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgaWYgKGNvbXBvc2VyID09IG51bGwpIHtcbiAgICAgICAgY29uc3QgY29tcG9zZXJPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCdfX2kxOG4nIGluIGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyT3B0aW9ucy5fX2kxOG4gPSBjb21wb25lbnRPcHRpb25zLl9faTE4bjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyT3B0aW9ucy5fX3Jvb3QgPSBnbDtcbiAgICAgICAgfVxuICAgICAgICBjb21wb3NlciA9IGNyZWF0ZUNvbXBvc2VyKGNvbXBvc2VyT3B0aW9ucyk7XG4gICAgICAgIGlmIChpMThuSW50ZXJuYWwuX19jb21wb3NlckV4dGVuZCkge1xuICAgICAgICAgICAgY29tcG9zZXJbRGlzcG9zZVN5bWJvbF0gPVxuICAgICAgICAgICAgICAgIGkxOG5JbnRlcm5hbC5fX2NvbXBvc2VyRXh0ZW5kKGNvbXBvc2VyKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR1cExpZmVDeWNsZShpMThuSW50ZXJuYWwsIGluc3RhbmNlLCBjb21wb3Nlcik7XG4gICAgICAgIGkxOG5JbnRlcm5hbC5fX3NldEluc3RhbmNlKGluc3RhbmNlLCBjb21wb3Nlcik7XG4gICAgfVxuICAgIHJldHVybiBjb21wb3Nlcjtcbn1cbi8qKlxuICogQ2FzdCB0byBWdWVJMThuIGxlZ2FjeSBjb21wYXRpYmxlIHR5cGVcbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBBUEkgaXMgcHJvdmlkZWQgb25seSB3aXRoIFt2dWUtaTE4bi1icmlkZ2VdKGh0dHBzOi8vdnVlLWkxOG4uaW50bGlmeS5kZXYvZ3VpZGUvbWlncmF0aW9uL3dheXMuaHRtbCN3aGF0LWlzLXZ1ZS1pMThuLWJyaWRnZSkuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBmdW5jdGlvbiBpcyB0byBjb252ZXJ0IGFuIHtAbGluayBJMThufSBpbnN0YW5jZSBjcmVhdGVkIHdpdGgge0BsaW5rIGNyZWF0ZUkxOG4gfCBjcmVhdGVJMThuKGxlZ2FjeTogdHJ1ZSl9IGludG8gYSBgdnVlLWkxOG5AdjgueGAgY29tcGF0aWJsZSBpbnN0YW5jZSBvZiBgbmV3IFZ1ZUkxOG5gIGluIGEgVHlwZVNjcmlwdCBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcGFyYW0gaTE4biAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBJMThufVxuICogQHJldHVybnMgQSBpMThuIGluc3RhbmNlIHdoaWNoIGlzIGNhc3RlZCB0byB7QGxpbmsgVnVlSTE4bn0gdHlwZVxuICpcbiAqIEBWdWVJMThuVGlwXG4gKiA6bmV3OiBwcm92aWRlZCBieSAqKnZ1ZS1pMThuLWJyaWRnZSBvbmx5KipcbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuLyogI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGNhc3RUb1Z1ZUkxOG4gPSAoaTE4blxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikgPT4ge1xuICAgIGlmICghKF9fVlVFX0kxOE5fQlJJREdFX18gaW4gaTE4bikpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk5PVF9DT01QQVRJQkxFX0xFR0FDWV9WVUVfSTE4Tik7XG4gICAgfVxuICAgIHJldHVybiBpMThuO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbChvcHRpb25zLCBsZWdhY3lNb2RlLCBWdWVJMThuTGVnYWN5IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgY29uc3Qgc2NvcGUgPSBlZmZlY3RTY29wZSgpO1xuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gJiYgbGVnYWN5TW9kZVxuICAgICAgICAgICAgPyBzY29wZS5ydW4oKCkgPT4gY3JlYXRlVnVlSTE4bihvcHRpb25zKSlcbiAgICAgICAgICAgIDogc2NvcGUucnVuKCgpID0+IGNyZWF0ZUNvbXBvc2VyKG9wdGlvbnMpKTtcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtzY29wZSwgb2JqXTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRJMThuSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICAgIGNvbnN0IGkxOG4gPSBpbmplY3QoIWluc3RhbmNlLmlzQ0VcbiAgICAgICAgICAgID8gaW5zdGFuY2UuYXBwQ29udGV4dC5hcHAuX19WVUVfSTE4Tl9TWU1CT0xfX1xuICAgICAgICAgICAgOiBJMThuSW5qZWN0aW9uS2V5KTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghaTE4bikge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKCFpbnN0YW5jZS5pc0NFXG4gICAgICAgICAgICAgICAgPyBJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SXG4gICAgICAgICAgICAgICAgOiBJMThuRXJyb3JDb2Rlcy5OT1RfSU5TVEFMTEVEX1dJVEhfUFJPVklERSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGkxOG47XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldFNjb3BlKG9wdGlvbnMsIGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gaXNFbXB0eU9iamVjdChvcHRpb25zKVxuICAgICAgICA/ICgnX19pMThuJyBpbiBjb21wb25lbnRPcHRpb25zKVxuICAgICAgICAgICAgPyAnbG9jYWwnXG4gICAgICAgICAgICA6ICdnbG9iYWwnXG4gICAgICAgIDogIW9wdGlvbnMudXNlU2NvcGVcbiAgICAgICAgICAgID8gJ2xvY2FsJ1xuICAgICAgICAgICAgOiBvcHRpb25zLnVzZVNjb3BlO1xufVxuZnVuY3Rpb24gZ2V0R2xvYmFsQ29tcG9zZXIoaTE4bikge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgICAgID8gaTE4bi5nbG9iYWxcbiAgICAgICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlclxuICAgICAgICA7XG59XG5mdW5jdGlvbiBnZXRDb21wb3NlcihpMThuLCB0YXJnZXQsIHVzZUNvbXBvbmVudCA9IGZhbHNlKSB7XG4gICAgbGV0IGNvbXBvc2VyID0gbnVsbDtcbiAgICBjb25zdCByb290ID0gdGFyZ2V0LnJvb3Q7XG4gICAgbGV0IGN1cnJlbnQgPSBnZXRQYXJlbnRDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQsIHVzZUNvbXBvbmVudCk7XG4gICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xuICAgICAgICBpZiAoaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nKSB7XG4gICAgICAgICAgICBjb21wb3NlciA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdnVlSTE4biA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh2dWVJMThuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9zZXIgPSB2dWVJMThuXG4gICAgICAgICAgICAgICAgICAgICAgICAuX19jb21wb3NlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNvbXBvbmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFjb21wb3NlcltJbmVqY3RXaXRoT3B0aW9uU3ltYm9sXSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBjb21wb3Nlcjtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudENvbXBvbmVudEluc3RhbmNlKHRhcmdldCwgdXNlQ29tcG9uZW50ID0gZmFsc2UpIHtcbiAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHtcbiAgICAgICAgLy8gaWYgYHVzZUNvbXBvbmVudDogdHJ1ZWAgd2lsbCBiZSBzcGVjaWZpZWQsIHdlIGdldCBsZXhpY2FsIHNjb3BlIG93bmVyIGluc3RhbmNlIGZvciB1c2UtY2FzZSBzbG90c1xuICAgICAgICByZXR1cm4gIXVzZUNvbXBvbmVudFxuICAgICAgICAgICAgPyB0YXJnZXQucGFyZW50XG4gICAgICAgICAgICA6IHRhcmdldC52bm9kZS5jdHggfHwgdGFyZ2V0LnBhcmVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0dXBMaWZlQ3ljbGUoaTE4biwgdGFyZ2V0LCBjb21wb3Nlcikge1xuICAgIGxldCBlbWl0dGVyID0gbnVsbDtcbiAgICB7XG4gICAgICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBpbmplY3QgY29tcG9zZXIgaW5zdGFuY2UgdG8gRE9NIGZvciBpbnRsaWZ5LWRldnRvb2xzXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgIWZhbHNlICYmXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsLl9fVlVFX0kxOE5fXyA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBjcmVhdGVFbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gJiYgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIub24oJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGFyZ2V0KTtcbiAgICAgICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNvbnN0IF9jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGNvbXBvc2VyIGluc3RhbmNlIGZyb20gRE9NIGZvciBpbnRsaWZ5LWRldnRvb2xzXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgIWZhbHNlICYmXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsICYmXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsLl9fVlVFX0kxOE5fXykge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIgJiYgZW1pdHRlci5vZmYoJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdICYmIF9jb21wb3NlcltEaXNhYmxlRW1pdHRlcl0oKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0LnZub2RlLmVsLl9fVlVFX0kxOE5fXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkxOG4uX19kZWxldGVJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgICAgICAgLy8gZGlzcG9zZSBleHRlbmRlZCByZXNvdXJjZXNcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2UgPSBfY29tcG9zZXJbRGlzcG9zZVN5bWJvbF07XG4gICAgICAgICAgICBpZiAoZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX2NvbXBvc2VyW0Rpc3Bvc2VTeW1ib2xdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0YXJnZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVzZUkxOG5Gb3JMZWdhY3koaW5zdGFuY2UsIHNjb3BlLCByb290LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pIHtcbiAgICBjb25zdCBpc0xvY2FsU2NvcGUgPSBzY29wZSA9PT0gJ2xvY2FsJztcbiAgICBjb25zdCBfY29tcG9zZXIgPSBzaGFsbG93UmVmKG51bGwpO1xuICAgIGlmIChpc0xvY2FsU2NvcGUgJiZcbiAgICAgICAgaW5zdGFuY2UucHJveHkgJiZcbiAgICAgICAgIShpbnN0YW5jZS5wcm94eS4kb3B0aW9ucy5pMThuIHx8IGluc3RhbmNlLnByb3h5LiRvcHRpb25zLl9faTE4bikpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk1VU1RfREVGSU5FX0kxOE5fT1BUSU9OX0lOX0FMTE9XX0NPTVBPU0lUSU9OKTtcbiAgICB9XG4gICAgY29uc3QgX2luaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5pbmhlcml0TG9jYWxlKVxuICAgICAgICA/IG9wdGlvbnMuaW5oZXJpdExvY2FsZVxuICAgICAgICA6ICFpc1N0cmluZyhvcHRpb25zLmxvY2FsZSk7XG4gICAgY29uc3QgX2xvY2FsZSA9IHJlZihcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAhaXNMb2NhbFNjb3BlIHx8IF9pbmhlcml0TG9jYWxlXG4gICAgICAgID8gcm9vdC5sb2NhbGUudmFsdWVcbiAgICAgICAgOiBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSlcbiAgICAgICAgICAgID8gb3B0aW9ucy5sb2NhbGVcbiAgICAgICAgICAgIDogREVGQVVMVF9MT0NBTEUpO1xuICAgIGNvbnN0IF9mYWxsYmFja0xvY2FsZSA9IHJlZihcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAhaXNMb2NhbFNjb3BlIHx8IF9pbmhlcml0TG9jYWxlXG4gICAgICAgID8gcm9vdC5mYWxsYmFja0xvY2FsZS52YWx1ZVxuICAgICAgICA6IGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBpc0FycmF5KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBvcHRpb25zLmZhbGxiYWNrTG9jYWxlID09PSBmYWxzZVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrTG9jYWxlXG4gICAgICAgICAgICA6IF9sb2NhbGUudmFsdWUpO1xuICAgIGNvbnN0IF9tZXNzYWdlcyA9IHJlZihnZXRMb2NhbGVNZXNzYWdlcyhfbG9jYWxlLnZhbHVlLCBvcHRpb25zKSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX2RhdGV0aW1lRm9ybWF0cyA9IHJlZihpc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKVxuICAgICAgICA/IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzXG4gICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9udW1iZXJGb3JtYXRzID0gcmVmKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5udW1iZXJGb3JtYXRzKVxuICAgICAgICA/IG9wdGlvbnMubnVtYmVyRm9ybWF0c1xuICAgICAgICA6IHsgW19sb2NhbGUudmFsdWVdOiB7fSB9KTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfbWlzc2luZ1dhcm4gPSBpc0xvY2FsU2NvcGVcbiAgICAgICAgPyByb290Lm1pc3NpbmdXYXJuXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMubWlzc2luZ1dhcm4pXG4gICAgICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfZmFsbGJhY2tXYXJuID0gaXNMb2NhbFNjb3BlXG4gICAgICAgID8gcm9vdC5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9mYWxsYmFja1Jvb3QgPSBpc0xvY2FsU2NvcGVcbiAgICAgICAgPyByb290LmZhbGxiYWNrUm9vdFxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1Jvb3RcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBjb25maWd1cmUgZmFsbCBiYWNrIHRvIHJvb3RcbiAgICBjb25zdCBfZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZmFsbGJhY2tGb3JtYXQ7XG4gICAgLy8gcnVudGltZSBtaXNzaW5nXG4gICAgY29uc3QgX21pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiBudWxsO1xuICAgIC8vIHBvc3RUcmFuc2xhdGlvbiBoYW5kbGVyXG4gICAgY29uc3QgX3Bvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cbiAgICAgICAgOiBudWxsO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF93YXJuSHRtbE1lc3NhZ2UgPSBpc0xvY2FsU2NvcGVcbiAgICAgICAgPyByb290Lndhcm5IdG1sTWVzc2FnZVxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcbiAgICAgICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBfZXNjYXBlUGFyYW1ldGVyID0gISFvcHRpb25zLmVzY2FwZVBhcmFtZXRlcjtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfbW9kaWZpZXJzID0gaXNMb2NhbFNjb3BlXG4gICAgICAgID8gcm9vdC5tb2RpZmllcnNcbiAgICAgICAgOiBpc1BsYWluT2JqZWN0KG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1xuICAgICAgICAgICAgOiB7fTtcbiAgICAvLyBwbHVyYWxSdWxlc1xuICAgIGNvbnN0IF9wbHVyYWxSdWxlcyA9IG9wdGlvbnMucGx1cmFsUnVsZXMgfHwgKGlzTG9jYWxTY29wZSAmJiByb290LnBsdXJhbFJ1bGVzKTtcbiAgICAvLyB0cmFjayByZWFjdGl2aXR5XG4gICAgZnVuY3Rpb24gdHJhY2tSZWFjdGl2aXR5VmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgIF9tZXNzYWdlcy52YWx1ZSxcbiAgICAgICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWUsXG4gICAgICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVxuICAgICAgICBdO1xuICAgIH1cbiAgICAvLyBsb2NhbGVcbiAgICBjb25zdCBsb2NhbGUgPSBjb21wdXRlZCh7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5sb2NhbGUudmFsdWUgOiBfbG9jYWxlLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHZhbCA9PiB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmxvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBmYWxsYmFja0xvY2FsZVxuICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgICAgICA/IF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja0xvY2FsZS52YWx1ZVxuICAgICAgICAgICAgICAgIDogX2ZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHZhbCA9PiB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gbWVzc2FnZXNcbiAgICBjb25zdCBtZXNzYWdlcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUubWVzc2FnZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIF9tZXNzYWdlcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IGNvbXB1dGVkKCgpID0+IF9kYXRldGltZUZvcm1hdHMudmFsdWUpO1xuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSBjb21wdXRlZCgoKSA9PiBfbnVtYmVyRm9ybWF0cy52YWx1ZSk7XG4gICAgZnVuY3Rpb24gZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgPyBfY29tcG9zZXIudmFsdWUuZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcigpXG4gICAgICAgICAgICA6IF9wb3N0VHJhbnNsYXRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRNaXNzaW5nSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5nZXRNaXNzaW5nSGFuZGxlcigpIDogX21pc3Npbmc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldE1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLnNldE1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcnBXaXRoRGVwcyhmbikge1xuICAgICAgICB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKTtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHQoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICA/IHdhcnBXaXRoRGVwcygoKSA9PiBSZWZsZWN0LmFwcGx5KF9jb21wb3Nlci52YWx1ZS50LCBudWxsLCBbLi4uYXJnc10pKVxuICAgICAgICAgICAgOiB3YXJwV2l0aERlcHMoKCkgPT4gJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgID8gUmVmbGVjdC5hcHBseShfY29tcG9zZXIudmFsdWUucnQsIG51bGwsIFsuLi5hcmdzXSlcbiAgICAgICAgICAgIDogJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGQoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICA/IHdhcnBXaXRoRGVwcygoKSA9PiBSZWZsZWN0LmFwcGx5KF9jb21wb3Nlci52YWx1ZS5kLCBudWxsLCBbLi4uYXJnc10pKVxuICAgICAgICAgICAgOiB3YXJwV2l0aERlcHMoKCkgPT4gJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgPyB3YXJwV2l0aERlcHMoKCkgPT4gUmVmbGVjdC5hcHBseShfY29tcG9zZXIudmFsdWUubiwgbnVsbCwgWy4uLmFyZ3NdKSlcbiAgICAgICAgICAgIDogd2FycFdpdGhEZXBzKCgpID0+ICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG0oa2V5KSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUudG0oa2V5KSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZShrZXksIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLnRlKGtleSwgbG9jYWxlKSA6IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gPSBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkgOiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLnNldERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROdW1iZXJGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkgOiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5zZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdyYXBwZXIgPSB7XG4gICAgICAgIGdldCBpZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuaWQgOiAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBmYWxsYmFja0xvY2FsZSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcbiAgICAgICAgbnVtYmVyRm9ybWF0cyxcbiAgICAgICAgZ2V0IGluaGVyaXRMb2NhbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmluaGVyaXRMb2NhbGUgOiBfaW5oZXJpdExvY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGluaGVyaXRMb2NhbGUodmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmluaGVyaXRMb2NhbGUgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBhdmFpbGFibGVMb2NhbGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgICAgID8gX2NvbXBvc2VyLnZhbHVlLmF2YWlsYWJsZUxvY2FsZXNcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5rZXlzKF9tZXNzYWdlcy52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBtb2RpZmllcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gKF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5tb2RpZmllcnMgOiBfbW9kaWZpZXJzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHBsdXJhbFJ1bGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIChfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUucGx1cmFsUnVsZXMgOiBfcGx1cmFsUnVsZXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaXNHbG9iYWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmlzR2xvYmFsIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBtaXNzaW5nV2FybigpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUubWlzc2luZ1dhcm4gOiBfbWlzc2luZ1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBtaXNzaW5nV2Fybih2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubWlzc2luZ1dhcm4gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja1dhcm4oKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrV2FybiA6IF9mYWxsYmFja1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja1dhcm4odmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLm1pc3NpbmdXYXJuID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tSb290KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja1Jvb3QgOiBfZmFsbGJhY2tSb290O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tSb290KHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja1Jvb3QgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja0Zvcm1hdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tGb3JtYXQgOiBfZmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja0Zvcm1hdCh2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tGb3JtYXQgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCB3YXJuSHRtbE1lc3NhZ2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICAgICAgPyBfY29tcG9zZXIudmFsdWUud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICAgICAgOiBfd2Fybkh0bWxNZXNzYWdlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgd2Fybkh0bWxNZXNzYWdlKHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS53YXJuSHRtbE1lc3NhZ2UgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBlc2NhcGVQYXJhbWV0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICAgICAgPyBfY29tcG9zZXIudmFsdWUuZXNjYXBlUGFyYW1ldGVyXG4gICAgICAgICAgICAgICAgOiBfZXNjYXBlUGFyYW1ldGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZXNjYXBlUGFyYW1ldGVyKHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHQsXG4gICAgICAgIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXG4gICAgICAgIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXG4gICAgICAgIGdldE1pc3NpbmdIYW5kbGVyLFxuICAgICAgICBzZXRNaXNzaW5nSGFuZGxlcixcbiAgICAgICAgcnQsXG4gICAgICAgIGQsXG4gICAgICAgIG4sXG4gICAgICAgIHRtLFxuICAgICAgICB0ZSxcbiAgICAgICAgZ2V0TG9jYWxlTWVzc2FnZSxcbiAgICAgICAgc2V0TG9jYWxlTWVzc2FnZSxcbiAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlLFxuICAgICAgICBnZXREYXRlVGltZUZvcm1hdCxcbiAgICAgICAgc2V0RGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgIG1lcmdlRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgIGdldE51bWJlckZvcm1hdCxcbiAgICAgICAgc2V0TnVtYmVyRm9ybWF0LFxuICAgICAgICBtZXJnZU51bWJlckZvcm1hdFxuICAgIH07XG4gICAgZnVuY3Rpb24gc3luYyhjb21wb3Nlcikge1xuICAgICAgICBjb21wb3Nlci5sb2NhbGUudmFsdWUgPSBfbG9jYWxlLnZhbHVlO1xuICAgICAgICBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IF9mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgT2JqZWN0LmtleXMoX21lc3NhZ2VzLnZhbHVlKS5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICBjb21wb3Nlci5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlKS5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICBjb21wb3Nlci5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKF9udW1iZXJGb3JtYXRzLnZhbHVlKS5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICBjb21wb3Nlci5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29tcG9zZXIuZXNjYXBlUGFyYW1ldGVyID0gX2VzY2FwZVBhcmFtZXRlcjtcbiAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tGb3JtYXQgPSBfZmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrUm9vdCA9IF9mYWxsYmFja1Jvb3Q7XG4gICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrV2FybiA9IF9mYWxsYmFja1dhcm47XG4gICAgICAgIGNvbXBvc2VyLm1pc3NpbmdXYXJuID0gX21pc3NpbmdXYXJuO1xuICAgICAgICBjb21wb3Nlci53YXJuSHRtbE1lc3NhZ2UgPSBfd2Fybkh0bWxNZXNzYWdlO1xuICAgIH1cbiAgICBvbkJlZm9yZU1vdW50KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLnByb3h5ID09IG51bGwgfHwgaW5zdGFuY2UucHJveHkuJGkxOG4gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk5PVF9BVkFJTEFCTEVfQ09NUE9TSVRJT05fSU5fTEVHQUNZKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCBjb21wb3NlciA9IChfY29tcG9zZXIudmFsdWUgPSBpbnN0YW5jZS5wcm94eS4kaTE4blxuICAgICAgICAgICAgLl9fY29tcG9zZXIpO1xuICAgICAgICBpZiAoc2NvcGUgPT09ICdnbG9iYWwnKSB7XG4gICAgICAgICAgICBfbG9jYWxlLnZhbHVlID0gY29tcG9zZXIubG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgICAgICBfbWVzc2FnZXMudmFsdWUgPSBjb21wb3Nlci5tZXNzYWdlcy52YWx1ZTtcbiAgICAgICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWUgPSBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMudmFsdWU7XG4gICAgICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZSA9IGNvbXBvc2VyLm51bWJlckZvcm1hdHMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMb2NhbFNjb3BlKSB7XG4gICAgICAgICAgICBzeW5jKGNvbXBvc2VyKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB3cmFwcGVyO1xufVxuY29uc3QgZ2xvYmFsRXhwb3J0UHJvcHMgPSBbXG4gICAgJ2xvY2FsZScsXG4gICAgJ2ZhbGxiYWNrTG9jYWxlJyxcbiAgICAnYXZhaWxhYmxlTG9jYWxlcydcbl07XG5jb25zdCBnbG9iYWxFeHBvcnRNZXRob2RzID0gWyd0JywgJ3J0JywgJ2QnLCAnbicsICd0bScsICd0ZSddXG4gICAgO1xuZnVuY3Rpb24gaW5qZWN0R2xvYmFsRmllbGRzKGFwcCwgY29tcG9zZXIpIHtcbiAgICBjb25zdCBpMThuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBnbG9iYWxFeHBvcnRQcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb21wb3NlciwgcHJvcCk7XG4gICAgICAgIGlmICghZGVzYykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1JlZihkZXNjLnZhbHVlKSAvLyBjaGVjayBjb21wdXRlZCBwcm9wc1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy52YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgc2V0KHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjLnZhbHVlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0ICYmIGRlc2MuZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGkxOG4sIHByb3AsIHdyYXApO1xuICAgIH0pO1xuICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kaTE4biA9IGkxOG47XG4gICAgZ2xvYmFsRXhwb3J0TWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbXBvc2VyLCBtZXRob2QpO1xuICAgICAgICBpZiAoIWRlc2MgfHwgIWRlc2MudmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBgJCR7bWV0aG9kfWAsIGRlc2MpO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGRlbGV0ZSBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJGkxOG47XG4gICAgICAgIGdsb2JhbEV4cG9ydE1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGRlbGV0ZSBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXNbYCQke21ldGhvZH1gXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gZGlzcG9zZTtcbn1cblxue1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbn1cbi8vIHJlZ2lzdGVyIG1lc3NhZ2UgY29tcGlsZXIgZm9yIGppdCBjb21waWxhdGlvblxuaWYgKF9fSU5UTElGWV9KSVRfQ09NUElMQVRJT05fXykge1xuICAgIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyKGNvbXBpbGUpO1xufVxuLy8gcmVnaXN0ZXIgbWVzc2FnZSByZXNvbHZlciBhdCB2dWUtaTE4blxucmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIocmVzb2x2ZVZhbHVlKTtcbi8vIHJlZ2lzdGVyIGZhbGxiYWNrIGxvY2FsZSBhdCB2dWUtaTE4blxucmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyKGZhbGxiYWNrV2l0aExvY2FsZUNoYWluKTtcbi8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICAgIHRhcmdldC5fX0lOVExJRllfXyA9IHRydWU7XG4gICAgc2V0RGV2VG9vbHNIb29rKHRhcmdldC5fX0lOVExJRllfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XG59XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSA7XG5cbmV4cG9ydCB7IERhdGV0aW1lRm9ybWF0LCBJMThuRCwgSTE4bkluamVjdGlvbktleSwgSTE4bk4sIEkxOG5ULCBOdW1iZXJGb3JtYXQsIFRyYW5zbGF0aW9uLCBWRVJTSU9OLCBjYXN0VG9WdWVJMThuLCBjcmVhdGVJMThuLCB1c2VJMThuLCB2VERpcmVjdGl2ZSB9O1xuIiwiLy8gVGhpcyBpcyBqdXN0IGFuIGV4YW1wbGUsXHJcbi8vIHNvIHlvdSBjYW4gc2FmZWx5IGRlbGV0ZSBhbGwgZGVmYXVsdCBwcm9wcyBiZWxvd1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGZhaWxlZDogJ0FjdGlvbiBmYWlsZWQnLFxyXG4gIHN1Y2Nlc3M6ICdBY3Rpb24gd2FzIHN1Y2Nlc3NmdWwnXHJcbn1cclxuIiwiaW1wb3J0IGVuVVMgZnJvbSAnLi9lbi1VUydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAnZW4tVVMnOiBlblVTXHJcbn1cclxuIiwiaW1wb3J0IHsgYm9vdCB9IGZyb20gJ3F1YXNhci93cmFwcGVycydcclxuaW1wb3J0IHsgY3JlYXRlSTE4biB9IGZyb20gJ3Z1ZS1pMThuJ1xyXG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnc3JjL2kxOG4nXHJcblxyXG5leHBvcnQgZGVmYXVsdCBib290KCh7IGFwcCB9KSA9PiB7XHJcbiAgY29uc3QgaTE4biA9IGNyZWF0ZUkxOG4oe1xyXG4gICAgbG9jYWxlOiAnZW4tVVMnLFxyXG4gICAgZ2xvYmFsSW5qZWN0aW9uOiB0cnVlLFxyXG4gICAgbWVzc2FnZXNcclxuICB9KVxyXG5cclxuICAvLyBTZXQgaTE4biBpbnN0YW5jZSBvbiBhcHBcclxuICBhcHAudXNlKGkxOG4pXHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJpbkJyb3dzZXIiLCJtYWtlU3ltYm9sIiwibmFtZSIsInNoYXJlYWJsZSIsImdlbmVyYXRlRm9ybWF0Q2FjaGVLZXkiLCJsb2NhbGUiLCJrZXkiLCJzb3VyY2UiLCJmcmllbmRseUpTT05zdHJpbmdpZnkiLCJqc29uIiwiaXNOdW1iZXIiLCJ2YWwiLCJpc0RhdGUiLCJ0b1R5cGVTdHJpbmciLCJpc1JlZ0V4cCIsImlzRW1wdHlPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwiYXNzaWduIiwiX2dsb2JhbFRoaXMiLCJnZXRHbG9iYWxUaGlzIiwiZXNjYXBlSHRtbCIsInJhd1RleHQiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc093biIsIm9iaiIsImlzQXJyYXkiLCJpc0Z1bmN0aW9uIiwiaXNTdHJpbmciLCJpc0Jvb2xlYW4iLCJpc09iamVjdCIsImlzUHJvbWlzZSIsIm9iamVjdFRvU3RyaW5nIiwidmFsdWUiLCJwcm90byIsInRvRGlzcGxheVN0cmluZyIsImpvaW4iLCJpdGVtcyIsInNlcGFyYXRvciIsInN0ciIsIml0ZW0iLCJpbmRleCIsImluY3JlbWVudGVyIiwiY29kZSIsImN1cnJlbnQiLCJ3YXJuIiwibXNnIiwiZXJyIiwiaXNOb3RPYmplY3RPcklzQXJyYXkiLCJkZWVwQ29weSIsInNyYyIsImRlcyIsInN0YWNrIiwiY3JlYXRlUG9zaXRpb24iLCJsaW5lIiwiY29sdW1uIiwib2Zmc2V0IiwiY3JlYXRlTG9jYXRpb24iLCJzdGFydCIsImVuZCIsImxvYyIsIlJFX0FSR1MiLCJmb3JtYXQiLCJtZXNzYWdlIiwiYXJncyIsIm1hdGNoIiwiaWRlbnRpZmllciIsIkNvbXBpbGVFcnJvckNvZGVzIiwiZXJyb3JNZXNzYWdlcyIsImNyZWF0ZUNvbXBpbGVFcnJvciIsIm9wdGlvbnMiLCJkb21haW4iLCJtZXNzYWdlcyIsImVycm9yIiwiZGVmYXVsdE9uRXJyb3IiLCJDSEFSX1NQIiwiQ0hBUl9DUiIsIkNIQVJfTEYiLCJDSEFSX0xTIiwiQ0hBUl9QUyIsImNyZWF0ZVNjYW5uZXIiLCJfYnVmIiwiX2luZGV4IiwiX2xpbmUiLCJfY29sdW1uIiwiX3BlZWtPZmZzZXQiLCJpc0NSTEYiLCJpc0xGIiwiaXNQUyIsImlzTFMiLCJpc0xpbmVFbmQiLCJwZWVrT2Zmc2V0IiwiY2hhckF0IiwiY3VycmVudENoYXIiLCJjdXJyZW50UGVlayIsIm5leHQiLCJwZWVrIiwicmVzZXQiLCJyZXNldFBlZWsiLCJza2lwVG9QZWVrIiwidGFyZ2V0IiwiRU9GIiwiRE9UIiwiTElURVJBTF9ERUxJTUlURVIiLCJFUlJPUl9ET01BSU4kMyIsImNyZWF0ZVRva2VuaXplciIsImxvY2F0aW9uIiwiX3NjbnIiLCJjdXJyZW50T2Zmc2V0IiwiY3VycmVudFBvc2l0aW9uIiwiX2luaXRMb2MiLCJfaW5pdE9mZnNldCIsIl9jb250ZXh0IiwiY29udGV4dCIsIm9uRXJyb3IiLCJlbWl0RXJyb3IiLCJwb3MiLCJjdHgiLCJnZXRUb2tlbiIsInR5cGUiLCJ0b2tlbiIsImdldEVuZFRva2VuIiwiZWF0Iiwic2NuciIsImNoIiwicGVla1NwYWNlcyIsImJ1ZiIsInNraXBTcGFjZXMiLCJpc0lkZW50aWZpZXJTdGFydCIsImNjIiwiaXNOdW1iZXJTdGFydCIsImlzTmFtZWRJZGVudGlmaWVyU3RhcnQiLCJjdXJyZW50VHlwZSIsInJldCIsImlzTGlzdElkZW50aWZpZXJTdGFydCIsImlzTGl0ZXJhbFN0YXJ0IiwiaXNMaW5rZWREb3RTdGFydCIsImlzTGlua2VkTW9kaWZpZXJTdGFydCIsImlzTGlua2VkRGVsaW1pdGVyU3RhcnQiLCJpc0xpbmtlZFJlZmVyU3RhcnQiLCJmbiIsImlzUGx1cmFsU3RhcnQiLCJkZXRlY3RNb2R1bG9TdGFydCIsInNwYWNlcyIsImlzVGV4dFN0YXJ0IiwiaGFzU3BhY2UiLCJwcmV2IiwiZGV0ZWN0TW9kdWxvIiwidGFrZUNoYXIiLCJ0YWtlSWRlbnRpZmllckNoYXIiLCJ0YWtlRGlnaXQiLCJ0YWtlSGV4RGlnaXQiLCJnZXREaWdpdHMiLCJudW0iLCJyZWFkTW9kdWxvIiwicmVhZFRleHQiLCJyZWFkTmFtZWRJZGVudGlmaWVyIiwicmVhZExpc3RJZGVudGlmaWVyIiwicmVhZExpdGVyYWwiLCJsaXRlcmFsIiwieCIsInJlYWRFc2NhcGVTZXF1ZW5jZSIsInJlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2UiLCJ1bmljb2RlIiwiZGlnaXRzIiwic2VxdWVuY2UiLCJpIiwicmVhZEludmFsaWRJZGVudGlmaWVyIiwiaWRlbnRpZmllcnMiLCJjbG9zdXJlIiwicmVhZExpbmtlZE1vZGlmaWVyIiwicmVhZExpbmtlZFJlZmVyIiwiZGV0ZWN0IiwicmVhZFBsdXJhbCIsInBsdXJhbCIsInJlYWRUb2tlbkluUGxhY2Vob2xkZXIiLCJyZWFkVG9rZW5JbkxpbmtlZCIsInZhbGlkTmFtZWRJZGVudGlmaWVyIiwidmFsaWRMaXN0SWRlbnRpZmllciIsInZhbGlkTGl0ZXJhbCIsInJlYWRUb2tlbiIsImlzTW9kdWxvIiwibmV4dFRva2VuIiwic3RhcnRMb2MiLCJlbmRMb2MiLCJFUlJPUl9ET01BSU4kMiIsIktOT1dOX0VTQ0FQRVMiLCJmcm9tRXNjYXBlU2VxdWVuY2UiLCJjb2RlUG9pbnQ0IiwiY29kZVBvaW50NiIsImNvZGVQb2ludCIsImNyZWF0ZVBhcnNlciIsInRva2VuemVyIiwic3RhcnROb2RlIiwibm9kZSIsImVuZE5vZGUiLCJwYXJzZVRleHQiLCJ0b2tlbml6ZXIiLCJwYXJzZUxpc3QiLCJwYXJzZU5hbWVkIiwicGFyc2VMaXRlcmFsIiwicGFyc2VMaW5rZWRNb2RpZmllciIsImdldFRva2VuQ2FwdGlvbiIsInBhcnNlTGlua2VkS2V5IiwicGFyc2VMaW5rZWQiLCJsaW5rZWROb2RlIiwicGFyc2VkIiwibmV4dENvbnRleHQiLCJlbXB0eUxpbmtlZEtleU5vZGUiLCJwYXJzZU1lc3NhZ2UiLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsInBhcnNlUGx1cmFsIiwibXNnTm9kZSIsImhhc0VtcHR5TWVzc2FnZSIsInBhcnNlUmVzb3VyY2UiLCJwYXJzZSIsImNyZWF0ZVRyYW5zZm9ybWVyIiwiYXN0IiwidHJhdmVyc2VOb2RlcyIsIm5vZGVzIiwidHJhbnNmb3JtZXIiLCJ0cmF2ZXJzZU5vZGUiLCJ0cmFuc2Zvcm0iLCJvcHRpbWl6ZSIsImJvZHkiLCJvcHRpbWl6ZU1lc3NhZ2VOb2RlIiwiYyIsInZhbHVlcyIsIkVSUk9SX0RPTUFJTiQxIiwibWluaWZ5IiwicmVzb3VyY2UiLCJjYXNlcyIsInZhbHVlTm9kZSIsImxpbmtlZCIsImxpc3QiLCJuYW1lZCIsIkVSUk9SX0RPTUFJTiIsImNyZWF0ZUNvZGVHZW5lcmF0b3IiLCJzb3VyY2VNYXAiLCJmaWxlbmFtZSIsImJyZWFrTGluZUNvZGUiLCJfbmVlZEluZGVudCIsInB1c2giLCJfbmV3bGluZSIsIm4iLCJ3aXRoQnJlYWtMaW5lIiwiX2JyZWFrTGluZUNvZGUiLCJpbmRlbnQiLCJ3aXRoTmV3TGluZSIsImxldmVsIiwiZGVpbmRlbnQiLCJuZXdsaW5lIiwiZ2VuZXJhdGVMaW5rZWROb2RlIiwiZ2VuZXJhdG9yIiwiaGVscGVyIiwiZ2VuZXJhdGVOb2RlIiwiZ2VuZXJhdGVNZXNzYWdlTm9kZSIsIm5lZWRJbmRlbnQiLCJsZW5ndGgiLCJnZW5lcmF0ZVBsdXJhbE5vZGUiLCJnZW5lcmF0ZVJlc291cmNlIiwiZ2VuZXJhdGUiLCJtb2RlIiwiaGVscGVycyIsInMiLCJtYXAiLCJiYXNlQ29tcGlsZSIsImFzc2lnbmVkT3B0aW9ucyIsImppdCIsImVuYWxiZU1pbmlmeSIsImVuYW1iZU9wdGltaXplIiwiaW5pdEZlYXR1cmVGbGFncyIsInBhdGhTdGF0ZU1hY2hpbmUiLCJsaXRlcmFsVmFsdWVSRSIsImlzTGl0ZXJhbCIsImV4cCIsInN0cmlwUXVvdGVzIiwiYSIsImIiLCJnZXRQYXRoQ2hhclR5cGUiLCJmb3JtYXRTdWJQYXRoIiwicGF0aCIsInRyaW1tZWQiLCJrZXlzIiwic3ViUGF0aERlcHRoIiwibmV3Q2hhciIsInRyYW5zaXRpb24iLCJhY3Rpb24iLCJ0eXBlTWFwIiwiYWN0aW9ucyIsIm1heWJlVW5lc2NhcGVRdW90ZSIsIm5leHRDaGFyIiwiY2FjaGUiLCJyZXNvbHZlV2l0aEtleVZhbHVlIiwicmVzb2x2ZVZhbHVlIiwiaGl0IiwibGVuIiwibGFzdCIsIkRFRkFVTFRfTU9ESUZJRVIiLCJERUZBVUxUX01FU1NBR0UiLCJERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFIiwiREVGQVVMVF9OT1JNQUxJWkUiLCJERUZBVUxUX0lOVEVSUE9MQVRFIiwicGx1cmFsRGVmYXVsdCIsImNob2ljZSIsImNob2ljZXNMZW5ndGgiLCJnZXRQbHVyYWxJbmRleCIsIm5vcm1hbGl6ZU5hbWVkIiwicGx1cmFsSW5kZXgiLCJwcm9wcyIsImNyZWF0ZU1lc3NhZ2VDb250ZXh0IiwicGx1cmFsUnVsZSIsIm9yZ1BsdXJhbFJ1bGUiLCJfbGlzdCIsIl9uYW1lZCIsIl9tb2RpZmllciIsIm5vcm1hbGl6ZSIsImludGVycG9sYXRlIiwiYXJnMSIsImFyZzIiLCJtb2RpZmllciIsIkNvcmVXYXJuQ29kZXMiLCJpbmMiLCJDb3JlRXJyb3JDb2RlcyIsImNyZWF0ZUNvcmVFcnJvciIsImdldExvY2FsZSIsInJlc29sdmVMb2NhbGUiLCJfcmVzb2x2ZUxvY2FsZSIsInJlc29sdmUiLCJmYWxsYmFja1dpdGhTaW1wbGUiLCJmYWxsYmFjayIsImZhbGxiYWNrV2l0aExvY2FsZUNoYWluIiwic3RhcnRMb2NhbGUiLCJERUZBVUxUX0xPQ0FMRSIsImNoYWluIiwiYmxvY2siLCJhcHBlbmRCbG9ja1RvQ2hhaW4iLCJkZWZhdWx0cyIsImJsb2NrcyIsImZvbGxvdyIsImFwcGVuZExvY2FsZVRvQ2hhaW4iLCJ0b2tlbnMiLCJhcHBlbmRJdGVtVG9DaGFpbiIsIlZFUlNJT04iLCJOT1RfUkVPU0xWRUQiLCJNSVNTSU5HX1JFU09MVkVfVkFMVUUiLCJjYXBpdGFsaXplIiwiZ2V0RGVmYXVsdExpbmtlZE1vZGlmaWVycyIsIl9jb21waWxlciIsInJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyIiwiY29tcGlsZXIiLCJfcmVzb2x2ZXIiLCJyZWdpc3Rlck1lc3NhZ2VSZXNvbHZlciIsInJlc29sdmVyIiwiX2ZhbGxiYWNrZXIiLCJyZWdpc3RlckxvY2FsZUZhbGxiYWNrZXIiLCJmYWxsYmFja2VyIiwiX2ZhbGxiYWNrQ29udGV4dCIsInNldEZhbGxiYWNrQ29udGV4dCIsImdldEZhbGxiYWNrQ29udGV4dCIsIl9jaWQiLCJjcmVhdGVDb3JlQ29udGV4dCIsIm9uV2FybiIsInZlcnNpb24iLCJfbG9jYWxlIiwiZmFsbGJhY2tMb2NhbGUiLCJkYXRldGltZUZvcm1hdHMiLCJudW1iZXJGb3JtYXRzIiwibW9kaWZpZXJzIiwicGx1cmFsUnVsZXMiLCJtaXNzaW5nIiwibWlzc2luZ1dhcm4iLCJmYWxsYmFja1dhcm4iLCJmYWxsYmFja0Zvcm1hdCIsInVucmVzb2x2aW5nIiwicG9zdFRyYW5zbGF0aW9uIiwicHJvY2Vzc29yIiwid2Fybkh0bWxNZXNzYWdlIiwiZXNjYXBlUGFyYW1ldGVyIiwibWVzc2FnZUNvbXBpbGVyIiwibWVzc2FnZVJlc29sdmVyIiwibG9jYWxlRmFsbGJhY2tlciIsImZhbGxiYWNrQ29udGV4dCIsImludGVybmFsT3B0aW9ucyIsIl9fZGF0ZXRpbWVGb3JtYXR0ZXJzIiwiX19udW1iZXJGb3JtYXR0ZXJzIiwiX19tZXRhIiwiaGFuZGxlTWlzc2luZyIsInVwZGF0ZUZhbGxiYWNrTG9jYWxlIiwiZm9ybWF0UGFydHMiLCJmb3JtYXRNZXNzYWdlUGFydHMiLCJfc3RhdGljIiwiYWNtIiwiZm9ybWF0TWVzc2FnZVBhcnQiLCJ0ZXh0IiwibGlua2VkS2V5IiwibGlua2VkTW9kaWZpZXIiLCJkZWZhdWx0T25DYWNoZUtleSIsImNvbXBpbGVDYWNoZSIsImlzTWVzc2FnZUFTVCIsImRldGVjdEVycm9yIiwiYmFzZUNvbXBpbGUkMSIsImNvbXBpbGUiLCJjYWNoZUtleSIsImNhY2hlZCIsIk5PT1BfTUVTU0FHRV9GVU5DVElPTiIsImlzTWVzc2FnZUZ1bmN0aW9uIiwidHJhbnNsYXRlIiwicGFyc2VUcmFuc2xhdGVBcmdzIiwicmVzb2x2ZWRNZXNzYWdlIiwiZGVmYXVsdE1zZ09yS2V5IiwiZW5hYmxlRGVmYXVsdE1zZyIsImVzY2FwZVBhcmFtcyIsImZvcm1hdFNjb3BlIiwidGFyZ2V0TG9jYWxlIiwicmVzb2x2ZU1lc3NhZ2VGb3JtYXQiLCJjYWNoZUJhc2VLZXkiLCJvY2N1cnJlZCIsImNvbXBpbGVNZXNzYWdlRm9ybWF0IiwiY3R4T3B0aW9ucyIsImdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyIsIm1zZ0NvbnRleHQiLCJtZXNzYWdlZCIsImV2YWx1YXRlTWVzc2FnZSIsImxvY2FsZXMiLCJtaXNzaW5nUmV0IiwiZ2V0Q29tcGlsZUNvbnRleHQiLCJtc2dDdHgiLCJhcmczIiwiZGF0ZXRpbWUiLCJvdmVycmlkZXMiLCJwYXJzZURhdGVUaW1lQXJncyIsInBhcnQiLCJkYXRldGltZUZvcm1hdCIsImlkIiwiZm9ybWF0dGVyIiwiREFURVRJTUVfRk9STUFUX09QVElPTlNfS0VZUyIsImFyZzQiLCJtYXRjaGVzIiwiZGF0ZVRpbWUiLCJjbGVhckRhdGVUaW1lRm9ybWF0IiwibnVtYmVyIiwicGFyc2VOdW1iZXJBcmdzIiwibnVtYmVyRm9ybWF0IiwiTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMiLCJjbGVhck51bWJlckZvcm1hdCIsImNvZGUkMSIsImluYyQxIiwiSTE4bkVycm9yQ29kZXMiLCJjcmVhdGVJMThuRXJyb3IiLCJUcmFuc2xhdGVWTm9kZVN5bWJvbCIsIkRhdGV0aW1lUGFydHNTeW1ib2wiLCJOdW1iZXJQYXJ0c1N5bWJvbCIsIlNldFBsdXJhbFJ1bGVzU3ltYm9sIiwiSW5lamN0V2l0aE9wdGlvblN5bWJvbCIsIkRpc3Bvc2VTeW1ib2wiLCJoYW5kbGVGbGF0SnNvbiIsInN1YktleXMiLCJsYXN0SW5kZXgiLCJjdXJyZW50T2JqIiwiaGFzU3RyaW5nVmFsdWUiLCJnZXRMb2NhbGVNZXNzYWdlcyIsIl9faTE4biIsImZsYXRKc29uIiwiY3VzdG9tIiwiZ2V0Q29tcG9uZW50T3B0aW9ucyIsImluc3RhbmNlIiwiYWRqdXN0STE4blJlc291cmNlcyIsImdsIiwiY29tcG9uZW50T3B0aW9ucyIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlVk5vZGUiLCJUZXh0IiwiTk9PUF9SRVRVUk5fQVJSQVkiLCJOT09QX1JFVFVSTl9GQUxTRSIsImNvbXBvc2VySUQiLCJkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJjcmVhdGVDb21wb3NlciIsIlZ1ZUkxOG5MZWdhY3kiLCJfX3Jvb3QiLCJfX2luamVjdFdpdGhPcHRpb24iLCJfaXNHbG9iYWwiLCJfcmVmIiwicmVmIiwic2hhbGxvd1JlZiIsInRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSIsIl9pbmhlcml0TG9jYWxlIiwiX2ZhbGxiYWNrTG9jYWxlIiwiX21lc3NhZ2VzIiwiX2RhdGV0aW1lRm9ybWF0cyIsIl9udW1iZXJGb3JtYXRzIiwiX21pc3NpbmdXYXJuIiwiX2ZhbGxiYWNrV2FybiIsIl9mYWxsYmFja1Jvb3QiLCJfZmFsbGJhY2tGb3JtYXQiLCJfbWlzc2luZyIsIl9ydW50aW1lTWlzc2luZyIsIl9wb3N0VHJhbnNsYXRpb24iLCJfd2Fybkh0bWxNZXNzYWdlIiwiX2VzY2FwZVBhcmFtZXRlciIsIl9tb2RpZmllcnMiLCJfcGx1cmFsUnVsZXMiLCJ0cmFja1JlYWN0aXZpdHlWYWx1ZXMiLCJjb21wdXRlZCIsImdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIiLCJzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyIiwiaGFuZGxlciIsImdldE1pc3NpbmdIYW5kbGVyIiwic2V0TWlzc2luZ0hhbmRsZXIiLCJ3cmFwV2l0aERlcHMiLCJhcmd1bWVudFBhcnNlciIsIndhcm5UeXBlIiwiZmFsbGJhY2tTdWNjZXNzIiwiZmFsbGJhY2tGYWlsIiwic3VjY2Vzc0NvbmRpdGlvbiIsInQiLCJyb290IiwicnQiLCJkIiwidHJhbnNsYXRlVk5vZGUiLCJudW1iZXJQYXJ0cyIsImRhdGV0aW1lUGFydHMiLCJzZXRQbHVyYWxSdWxlcyIsInJ1bGVzIiwidGUiLCJnZXRMb2NhbGVNZXNzYWdlIiwicmVzb2x2ZWQiLCJyZXNvbHZlTWVzc2FnZXMiLCJ0YXJnZXRMb2NhbGVNZXNzYWdlcyIsIm1lc3NhZ2VWYWx1ZSIsInRtIiwic2V0TG9jYWxlTWVzc2FnZSIsIl9tZXNzYWdlIiwibWVyZ2VMb2NhbGVNZXNzYWdlIiwiZ2V0RGF0ZVRpbWVGb3JtYXQiLCJzZXREYXRlVGltZUZvcm1hdCIsIm1lcmdlRGF0ZVRpbWVGb3JtYXQiLCJnZXROdW1iZXJGb3JtYXQiLCJzZXROdW1iZXJGb3JtYXQiLCJtZXJnZU51bWJlckZvcm1hdCIsIndhdGNoIiwiY29tcG9zZXIiLCJiYXNlRm9ybWF0UHJvcHMiLCJnZXRJbnRlcnBvbGF0ZUFyZyIsInNsb3RzIiwic2xvdCIsIkZyYWdtZW50IiwiYXJnIiwiZ2V0RnJhZ21lbnRhYmxlVGFnIiwidGFnIiwiVHJhbnNsYXRpb25JbXBsIiwiZGVmaW5lQ29tcG9uZW50IiwiYXR0cnMiLCJpMThuIiwidXNlSTE4biIsImNoaWxkcmVuIiwiYXNzaWduZWRBdHRycyIsImgiLCJUcmFuc2xhdGlvbiIsImlzVk5vZGUiLCJyZW5kZXJGb3JtYXR0ZXIiLCJzbG90S2V5cyIsInBhcnRGb3JtYXR0ZXIiLCJwcm9wIiwicGFydHMiLCJOdW1iZXJGb3JtYXRJbXBsIiwiTnVtYmVyRm9ybWF0IiwiRGF0ZXRpbWVGb3JtYXRJbXBsIiwiRGF0ZXRpbWVGb3JtYXQiLCJnZXRDb21wb3NlciQyIiwiaTE4bkludGVybmFsIiwidnVlSTE4biIsInZURGlyZWN0aXZlIiwiX3Byb2Nlc3MiLCJiaW5kaW5nIiwicGFyc2VkVmFsdWUiLCJwYXJzZVZhbHVlIiwibWFrZVBhcmFtcyIsImVsIiwidGV4dENvbnRlbnQiLCJhcHBseSIsImFwcCIsInBsdWdpbk9wdGlvbnMiLCJ1c2VJMThuQ29tcG9uZW50TmFtZSIsIkkxOG5JbmplY3Rpb25LZXkiLCJjcmVhdGVJMThuIiwiX19nbG9iYWxJbmplY3Rpb24iLCJfX2FsbG93Q29tcG9zaXRpb24iLCJfX2luc3RhbmNlcyIsImdsb2JhbFNjb3BlIiwiX19nbG9iYWwiLCJjcmVhdGVHbG9iYWwiLCJzeW1ib2wiLCJfX2dldEluc3RhbmNlIiwiY29tcG9uZW50IiwiX19zZXRJbnN0YW5jZSIsIl9fZGVsZXRlSW5zdGFuY2UiLCJvcHRzIiwiZ2xvYmFsUmVsZWFzZUhhbmRsZXIiLCJpbmplY3RHbG9iYWxGaWVsZHMiLCJ1bm1vdW50QXBwIiwiZ2V0STE4bkluc3RhbmNlIiwiZ2V0R2xvYmFsQ29tcG9zZXIiLCJzY29wZSIsImdldFNjb3BlIiwiZ2V0Q29tcG9zZXIiLCJjb21wb3Nlck9wdGlvbnMiLCJzZXR1cExpZmVDeWNsZSIsImxlZ2FjeU1vZGUiLCJlZmZlY3RTY29wZSIsImluamVjdCIsInVzZUNvbXBvbmVudCIsImdldFBhcmVudENvbXBvbmVudEluc3RhbmNlIiwib25Nb3VudGVkIiwib25Vbm1vdW50ZWQiLCJfY29tcG9zZXIiLCJkaXNwb3NlIiwiZ2xvYmFsRXhwb3J0UHJvcHMiLCJnbG9iYWxFeHBvcnRNZXRob2RzIiwiZGVzYyIsIndyYXAiLCJpc1JlZiIsIm1ldGhvZCIsImVuVVMiLCJib290Il0sIm1hcHBpbmdzIjoiaUtBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQVNBLE1BQU1BLEdBQVksT0FBTyxRQUFXLFlBa0M5QkMsR0FBYSxDQUFDQyxFQUFNQyxFQUFZLEtBQVdBLEVBQTJCLE9BQU8sSUFBSUQsQ0FBSSxFQUE5QixPQUFPQSxDQUFJLEVBQ2xFRSxHQUF5QixDQUFDQyxFQUFRQyxFQUFLQyxJQUFXQyxHQUFzQixDQUFFLEVBQUdILEVBQVEsRUFBR0MsRUFBSyxFQUFHQyxDQUFRLENBQUEsRUFDeEdDLEdBQXlCQyxHQUFTLEtBQUssVUFBVUEsQ0FBSSxFQUN0RCxRQUFRLFVBQVcsU0FBUyxFQUM1QixRQUFRLFVBQVcsU0FBUyxFQUM1QixRQUFRLFVBQVcsU0FBUyxFQUMzQkMsRUFBWUMsR0FBUSxPQUFPQSxHQUFRLFVBQVksU0FBU0EsQ0FBRyxFQUMzREMsR0FBVUQsR0FBUUUsR0FBYUYsQ0FBRyxJQUFNLGdCQUN4Q0csR0FBWUgsR0FBUUUsR0FBYUYsQ0FBRyxJQUFNLGtCQUMxQ0ksR0FBaUJKLEdBQVFLLEVBQWNMLENBQUcsR0FBSyxPQUFPLEtBQUtBLENBQUcsRUFBRSxTQUFXLEVBQzNFTSxFQUFTLE9BQU8sT0FDdEIsSUFBSUMsR0FDSixNQUFNQyxHQUFnQixJQUVWRCxLQUNIQSxHQUNHLE9BQU8sWUFBZSxZQUNoQixXQUNBLE9BQU8sTUFBUyxZQUNaLEtBQ0EsT0FBTyxRQUFXLFlBQ2QsT0FDQSxPQUFPLFFBQVcsWUFDZCxPQUNBLENBQUEsR0FFOUIsU0FBU0UsR0FB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
