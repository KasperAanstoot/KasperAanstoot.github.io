import{_ as a}from"./index.55edfe91.js";import{D as E,f as H,k as l}from"./index.4634898b.js";class _{constructor(){this.__stack={}}on(t,n,o){return(this.__stack[t]||(this.__stack[t]=[])).push({fn:n,ctx:o}),this}once(t,n,o){const r=(...s)=>{this.off(t,r),n.apply(o,s)};return r.__callback=n,this.on(t,r,o)}emit(t){const n=this.__stack[t];if(n!==void 0){const o=[].slice.call(arguments,1);n.forEach(r=>{r.fn.apply(r.ctx,o)})}return this}off(t,n){const o=this.__stack[t];if(o===void 0)return this;if(n===void 0)return delete this.__stack[t],this;const r=o.filter(s=>s.fn!==n&&s.fn.__callback!==n);return r.length!==0?this.__stack[t]=r:delete this.__stack[t],this}}function g(d,{props:t,children:n,element:o,app:r}={}){let s=o,c=H(d,t,n);r&&r._context&&(c.appContext=r._context),s?l(c,s):typeof document!="undefined"&&l(c,s=document.createElement("div"));const f=c.destroy=()=>{s&&l(null,s),s=null,c=null};return{vNode:c,destroy:f,el:s}}function m(d){function t({ele:e,values:i}){var u;return a.merge(c({ele:e,values:i}),{maximumOpen:{isHidden:!0},minimumOpen:{isHidden:!0},multipleOf:{isHidden:!0},pattern:{isHidden:!!((u=e.eType)!=null&&u.$.isKindOf("ecore.EString"))}})}function n({ele:e,values:i}){return a.merge(f({ele:e,values:i}),{eGenericSuperTypes:{isHidden:!0},abstract:{isHidden:i.interface===!0},interface:{isHidden:i.abstract===!0}})}function o({ele:e,values:i}){return a.merge(c({ele:e,values:i}),{eGenericType:{isHidden:!0},resolveProxies:{isHidden:!0}})}function r({ele:e,values:i}){return a.merge(f({ele:e,values:i}),{eGenericExceptions:{isHidden:!0},eGenericType:{isHidden:!0},resolveProxies:{isHidden:!0},ordered:{isHidden:a.isNil(i.upperBound)||i.upperBound===1},unique:{isHidden:a.isNil(i.upperBound)||i.upperBound===1}})}function s({ele:e,values:i}){return a.merge(f({ele:e,values:i}),{eGenericType:{isHidden:!0}})}function c({ele:e,values:i}){return a.merge(f({ele:e,values:i}),{ordered:{isHidden:a.isNil(i.upperBound)||i.upperBound===1},unique:{isHidden:a.isNil(i.upperBound)||i.upperBound===1},redefines:{isHidden:!0},transient:{isHidden:!!i.derived&&!i.volatile},volatile:{isHidden:!!i.derived}})}function f({ele:e,values:i}){return{eAnnotations:{isHidden:!0},eTypeParameters:{isHidden:!0}}}return function(){const{ele:e,fields:i,values:u,initialValues:p}=d;if(e.$.isKindOf("ecore.EAttribute"))return t({ele:e,values:u});if(e.$.isKindOf("ecore.EClass"))return n({ele:e,values:u});if(e.$.isKindOf("ecore.EEnum"))return f({ele:e,values:u});if(e.$.isKindOf("ecore.EEnumLiteral"))return{eAnnotations:{isHidden:!0}};if(e.$.isKindOf("ecore.EDataType"))return f({ele:e,values:u});if(e.$.isKindOf("ecore.EOperation"))return r({ele:e,values:u});if(e.$.isKindOf("ecore.EParameter"))return s({ele:e,values:u});if(e.$.isKindOf("ecore.EReference"))return o({ele:e,values:u})}}var h=({app:d,eventBus:t})=>{const n="@kasper-aanstoot/moddle",o="UML Class Diagramming App";let r={}.title;const s="0.0.1";!r&&n&&(r=a.last(n.split("/")),r=a.startCase(r));const c={id:a.hash(n),description:o,dialog(f){return new Promise((e,i)=>{let u=!0;E.create(f).onOk((p={})=>{u=!1,e({result:p,event:"ok"})}).onCancel(()=>{u=!1,e({event:"cancel"})}).onDismiss(()=>{u&&e({event:"dismiss"})})})},mount(f,e={}){return e.app||(e.app=d),g(f,e)},name:n,title:r,version:s};return d.config.globalProperties.$app=c,d.provide("app",c),d.config.globalProperties.$useMeta=m,d.provide("useMeta",m),t||(t=new _),d.config.globalProperties.$bus=t,d.provide("bus",t),c},k=({app:d,eventBus:t})=>{debugger;const n=h({app:d,eventBus:t});n.mainMenu=[{id:"info",icon:"mdi-information-variant-circle-outline",title:"Info"}]};export{k as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmU4YTM4ZDQyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9FdmVudEJ1cy5qcyIsIi4uLy4uLy4uLy4uL3Z1ZS1jb21wb25lbnRzL3NyYy9jb21wb3NhYmxlcy91c2VBcHAuanMiLCIuLi8uLi8uLi9zcmMvYm9vdC9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb3JrZWQgZnJvbSB0aW55LWVtaXR0ZXJcbiAqIENvcHlyaWdodCAoYykgMjAxNyBTY290dCBDb3JnYW5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEJ1cyB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLl9fc3RhY2sgPSB7fVxuICB9XG5cbiAgb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICAodGhpcy5fX3N0YWNrWyBuYW1lIF0gfHwgKHRoaXMuX19zdGFja1sgbmFtZSBdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eFxuICAgIH0pXG5cbiAgICByZXR1cm4gdGhpcyAvLyBjaGFpbmFibGVcbiAgfVxuXG4gIG9uY2UgKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICB0aGlzLm9mZihuYW1lLCBsaXN0ZW5lcilcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJncylcbiAgICB9XG5cbiAgICBsaXN0ZW5lci5fX2NhbGxiYWNrID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KSAvLyBjaGFpbmFibGVcbiAgfVxuXG4gIGVtaXQgKG5hbWUpIHtcbiAgICBjb25zdCBsaXN0ID0gdGhpcy5fX3N0YWNrWyBuYW1lIF1cblxuICAgIGlmIChsaXN0ICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICAgbGlzdC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgZW50cnkuZm4uYXBwbHkoZW50cnkuY3R4LCBwYXJhbXMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzIC8vIGNoYWluYWJsZVxuICB9XG5cbiAgb2ZmIChuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9fc3RhY2tbIG5hbWUgXVxuXG4gICAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHRoaXMgLy8gY2hhaW5hYmxlXG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9fc3RhY2tbIG5hbWUgXVxuICAgICAgcmV0dXJuIHRoaXMgLy8gY2hhaW5hYmxlXG4gICAgfVxuXG4gICAgY29uc3QgbGl2ZUV2ZW50cyA9IGxpc3QuZmlsdGVyKFxuICAgICAgZW50cnkgPT4gZW50cnkuZm4gIT09IGNhbGxiYWNrICYmIGVudHJ5LmZuLl9fY2FsbGJhY2sgIT09IGNhbGxiYWNrXG4gICAgKVxuXG4gICAgaWYgKGxpdmVFdmVudHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLl9fc3RhY2tbIG5hbWUgXSA9IGxpdmVFdmVudHNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5fX3N0YWNrWyBuYW1lIF1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcyAvLyBjaGFpbmFibGVcbiAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSAnQGthc3Blci1hYW5zdG9vdC9sb2Rhc2gteCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSwgcmVuZGVyIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgRGlhbG9nLCBFdmVudEJ1cyB9IGZyb20gJ3F1YXNhcic7XG5cbi8vIGltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7XG5cbmZ1bmN0aW9uIG1vdW50KGNvbXBvbmVudCwgeyBwcm9wcywgY2hpbGRyZW4sIGVsZW1lbnQsIGFwcCB9ID0ge30pIHtcbiAgbGV0IGVsID0gZWxlbWVudFxuXG4gIGxldCB2Tm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKVxuICBpZiAoYXBwICYmIGFwcC5fY29udGV4dCkgdk5vZGUuYXBwQ29udGV4dCA9IGFwcC5fY29udGV4dFxuICBpZiAoZWwpIHJlbmRlcih2Tm9kZSwgZWwpXG4gIGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgKSByZW5kZXIodk5vZGUsIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXG5cbiAgY29uc3QgZGVzdHJveSA9IHZOb2RlLmRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgaWYgKGVsKSByZW5kZXIobnVsbCwgZWwpXG4gICAgZWwgPSBudWxsXG4gICAgdk5vZGUgPSBudWxsXG4gIH1cblxuICByZXR1cm4geyB2Tm9kZSwgZGVzdHJveSwgZWwgfVxufVxuXG5mdW5jdGlvbiB1c2VNZXRhKGRhdGEpIHsgLy8gdXNlIGxpa2UgY29tcHV0ZWQodXNlTWV0YSh7IGVsZSwgLi4uIH0pKVxuICAvLyBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7XG4gIFxuICBmdW5jdGlvbiB1c2VFQXR0cmlidXRlKHsgZWxlLCB2YWx1ZXMgfSkgeyAvLyBOQjogZWxlIGlzIGVjb3JlLkVBdHRyaWJ1dGUgaW5zdGFuY2VcbiAgICByZXR1cm4gXy5tZXJnZShcbiAgICAgIHVzZUVTdHJ1Y3R1cmFsRmVhdHVyZSh7IGVsZSwgdmFsdWVzIH0pLFxuICAgICAge1xuICAgICAgICBtYXhpbXVtT3Blbjoge1xuICAgICAgICAgIGlzSGlkZGVuOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1pbmltdW1PcGVuOiB7XG4gICAgICAgICAgaXNIaWRkZW46IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbXVsdGlwbGVPZjoge1xuICAgICAgICAgIGlzSGlkZGVuOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBhdHRlcm46IHtcbiAgICAgICAgICBpc0hpZGRlbjogISFlbGUuZVR5cGU/LiQuaXNLaW5kT2YoJ2Vjb3JlLkVTdHJpbmcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZUVDbGFzcyh7IGVsZSwgdmFsdWVzIH0pIHsgLy8gZWxlIGlzIHRoZSBlQ2xhc3MgaW5zdGFuY2UgdGhhdCdzIGVkaXRlZCBpbiBOb2RlIGVkaXRvclxuICAgIHJldHVybiBfLm1lcmdlKFxuICAgICAgdXNlRVR5cGVkRWxlbWVudCh7IGVsZSwgdmFsdWVzIH0pLFxuICAgICAgeyBcbiAgICAgICAgZUdlbmVyaWNTdXBlclR5cGVzOiB7IGlzSGlkZGVuOiB0cnVlIH0sXG4gICAgICAgIGFic3RyYWN0OiB7IGlzSGlkZGVuOiB2YWx1ZXMuaW50ZXJmYWNlID09PSB0cnVlIH0sXG4gICAgICAgIGludGVyZmFjZTogeyBpc0hpZGRlbjogdmFsdWVzLmFic3RyYWN0ID09PSB0cnVlIH0sXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gdXNlRVJlZmVyZW5jZSh7IGVsZSwgdmFsdWVzIH0pIHtcbiAgICByZXR1cm4gXy5tZXJnZShcbiAgICAgIHVzZUVTdHJ1Y3R1cmFsRmVhdHVyZSh7IGVsZSwgdmFsdWVzIH0pLFxuICAgICAgeyBcbiAgICAgICAgZUdlbmVyaWNUeXBlOiB7IGlzSGlkZGVuOiB0cnVlIH0sXG4gICAgICAgIHJlc29sdmVQcm94aWVzOiB7IGlzSGlkZGVuOiB0cnVlIH0sXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gdXNlRU9wZXJhdGlvbih7IGVsZSwgdmFsdWVzIH0pIHtcbiAgICByZXR1cm4gXy5tZXJnZShcbiAgICAgIHVzZUVUeXBlZEVsZW1lbnQoeyBlbGUsIHZhbHVlcyB9KSxcbiAgICAgIHsgXG4gICAgICAgIGVHZW5lcmljRXhjZXB0aW9uczogeyBpc0hpZGRlbjogdHJ1ZSB9LFxuICAgICAgICBlR2VuZXJpY1R5cGU6IHsgaXNIaWRkZW46IHRydWUgfSxcbiAgICAgICAgcmVzb2x2ZVByb3hpZXM6IHsgaXNIaWRkZW46IHRydWUgfSxcbiAgICAgICAgb3JkZXJlZDoge1xuICAgICAgICAgIGlzSGlkZGVuOiBfLmlzTmlsKHZhbHVlcy51cHBlckJvdW5kKSB8fCB2YWx1ZXMudXBwZXJCb3VuZCA9PT0gMVxuICAgICAgICB9LFxuICAgICAgICB1bmlxdWU6IHtcbiAgICAgICAgICBpc0hpZGRlbjogXy5pc05pbCh2YWx1ZXMudXBwZXJCb3VuZCkgfHwgdmFsdWVzLnVwcGVyQm91bmQgPT09IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHVzZUVQYXJhbWV0ZXIoeyBlbGUsIHZhbHVlcyB9KSB7XG4gICAgcmV0dXJuIF8ubWVyZ2UoXG4gICAgICB1c2VFVHlwZWRFbGVtZW50KHsgZWxlLCB2YWx1ZXMgfSksXG4gICAgICB7IFxuICAgICAgICBlR2VuZXJpY1R5cGU6IHsgaXNIaWRkZW46IHRydWUgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHVzZUVTdHJ1Y3R1cmFsRmVhdHVyZSh7IGVsZSwgdmFsdWVzIH0pIHsgLy8gZWxlIGlzIHRoZSBFU3RydWN0dXJhbEZlYXR1cmUgaW5zdGFuY2UgdGhhdCdzIGVkaXRlZCBpbiBOb2RlIGVkaXRvclxuICAgIHJldHVybiBfLm1lcmdlKFxuICAgICAgdXNlRVR5cGVkRWxlbWVudCh7IGVsZSwgdmFsdWVzIH0pLFxuICAgICAge1xuICAgICAgICBvcmRlcmVkOiB7XG4gICAgICAgICAgaXNIaWRkZW46IF8uaXNOaWwodmFsdWVzLnVwcGVyQm91bmQpIHx8IHZhbHVlcy51cHBlckJvdW5kID09PSAxXG4gICAgICAgIH0sXG4gICAgICAgIHVuaXF1ZToge1xuICAgICAgICAgIGlzSGlkZGVuOiBfLmlzTmlsKHZhbHVlcy51cHBlckJvdW5kKSB8fCB2YWx1ZXMudXBwZXJCb3VuZCA9PT0gMVxuICAgICAgICB9LFxuICAgICAgICByZWRlZmluZXM6IHsgaXNIaWRkZW46IHRydWUgfSxcbiAgICAgICAgdHJhbnNpZW50OiB7XG4gICAgICAgICAgaXNIaWRkZW46ICEhdmFsdWVzLmRlcml2ZWQgJiYgIXZhbHVlcy52b2xhdGlsZVxuICAgICAgICB9LFxuICAgICAgICB2b2xhdGlsZToge1xuICAgICAgICAgIGlzSGlkZGVuOiAhIXZhbHVlcy5kZXJpdmVkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gdXNlRVR5cGVkRWxlbWVudCh7IGVsZSwgdmFsdWVzIH0pIHsgLy8gZWxlIGlzIHRoZSBlQ2xhc3MgaW5zdGFuY2UgdGhhdCdzIGVkaXRlZCBpbiBOb2RlIGVkaXRvclxuICAgIHJldHVybiB7XG4gICAgICBlQW5ub3RhdGlvbnM6IHsgaXNIaWRkZW46IHRydWUgfSxcbiAgICAgIGVUeXBlUGFyYW1ldGVyczogeyBpc0hpZGRlbjogdHJ1ZSB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbigpIHsgLy8gdXNlZCBpbnNpZGUgY29tcHV0ZWRcbiAgICBjb25zdCB7IGVsZSwgZmllbGRzLCB2YWx1ZXMsIGluaXRpYWxWYWx1ZXMgfSA9IGRhdGE7XG4gICAgLy8gaWYgKGRhdGEuaXNWYWxpZC52YWx1ZSlcbiAgICAvLyBpZiAoZGF0YS5oYXNDaGFuZ2VzLnZhbHVlKVxuICAgIGlmIChlbGUuJC5pc0tpbmRPZignZWNvcmUuRUF0dHJpYnV0ZScpKSB7XG4gICAgICByZXR1cm4gdXNlRUF0dHJpYnV0ZSh7IGVsZSwgdmFsdWVzIH0pO1xuICAgIH0gZWxzZSBpZiAoZWxlLiQuaXNLaW5kT2YoJ2Vjb3JlLkVDbGFzcycpKSB7XG4gICAgICByZXR1cm4gdXNlRUNsYXNzKHsgZWxlLCB2YWx1ZXMgfSk7XG4gICAgfSBlbHNlIGlmIChlbGUuJC5pc0tpbmRPZignZWNvcmUuRUVudW0nKSkge1xuICAgICAgcmV0dXJuIHVzZUVUeXBlZEVsZW1lbnQoeyBlbGUsIHZhbHVlcyB9KTtcbiAgICB9IGVsc2UgaWYgKGVsZS4kLmlzS2luZE9mKCdlY29yZS5FRW51bUxpdGVyYWwnKSkge1xuICAgICAgcmV0dXJuIHsgZUFubm90YXRpb25zOiB7IGlzSGlkZGVuOiB0cnVlIH19OyBcbiAgICB9IGVsc2UgaWYgKGVsZS4kLmlzS2luZE9mKCdlY29yZS5FRGF0YVR5cGUnKSkge1xuICAgICAgcmV0dXJuIHVzZUVUeXBlZEVsZW1lbnQoeyBlbGUsIHZhbHVlcyB9KTtcbiAgICB9IGVsc2UgaWYgKGVsZS4kLmlzS2luZE9mKCdlY29yZS5FT3BlcmF0aW9uJykpIHtcbiAgICAgIHJldHVybiB1c2VFT3BlcmF0aW9uKHsgZWxlLCB2YWx1ZXMgfSk7XG4gICAgfSBlbHNlIGlmIChlbGUuJC5pc0tpbmRPZignZWNvcmUuRVBhcmFtZXRlcicpKSB7XG4gICAgICByZXR1cm4gdXNlRVBhcmFtZXRlcih7IGVsZSwgdmFsdWVzIH0pO1xuICAgIH0gZWxzZSBpZiAoZWxlLiQuaXNLaW5kT2YoJ2Vjb3JlLkVSZWZlcmVuY2UnKSkge1xuICAgICAgcmV0dXJuIHVzZUVSZWZlcmVuY2UoeyBlbGUsIHZhbHVlcyB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgKHsgYXBwOiB2dWVBcHAsIGV2ZW50QnVzIH0pID0+IHtcbiAgY29uc3QgbmFtZSA9IHByb2Nlc3MuZW52Lm5hbWU7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJvY2Vzcy5lbnYuZGVzY3JpcHRpb247XG4gIGxldCB0aXRsZSA9IHByb2Nlc3MuZW52LnRpdGxlO1xuICBjb25zdCB2ZXJzaW9uID0gcHJvY2Vzcy5lbnYudmVyc2lvbjtcbiAgaWYgKCF0aXRsZSAmJiBuYW1lKSB7XG4gICAgdGl0bGUgPSBfLmxhc3QobmFtZS5zcGxpdCgnLycpKTtcbiAgICB0aXRsZSA9IF8uc3RhcnRDYXNlKHRpdGxlKTtcbiAgfVxuXG4gIGNvbnN0IGFwcCA9IHtcbiAgICBpZDogXy5oYXNoKG5hbWUpLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGRpYWxvZyhhcmdzKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgZW1pdERpc21pc3MgPSB0cnVlO1xuICAgICAgICBEaWFsb2cuY3JlYXRlKGFyZ3MpXG4gICAgICAgICAgLm9uT2soKHJlc3VsdCA9IHt9KSA9PiB7XG4gICAgICAgICAgICBlbWl0RGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHJlc3VsdCwgZXZlbnQ6ICdvaycgfSk7XG4gICAgICAgICAgfSkub25DYW5jZWwoKCkgPT4ge1xuICAgICAgICAgICAgZW1pdERpc21pc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc29sdmUoeyBldmVudDogJ2NhbmNlbCcgfSk7XG4gICAgICAgICAgfSkub25EaXNtaXNzKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChlbWl0RGlzbWlzcykgcmVzb2x2ZSh7IGV2ZW50OiAnZGlzbWlzcycgfSk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbW91bnQoY29tcG9uZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgIGlmICghb3B0aW9ucy5hcHApIG9wdGlvbnMuYXBwID0gdnVlQXBwO1xuICAgICAgcmV0dXJuIG1vdW50KGNvbXBvbmVudCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBuYW1lLFxuICAgIHRpdGxlLFxuICAgIHZlcnNpb25cbiAgfTtcblxuICB2dWVBcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJGFwcCA9IGFwcDtcbiAgdnVlQXBwLnByb3ZpZGUoJ2FwcCcsIGFwcCk7IC8vIGZvciBDb21wb3NpdGlvbiBBUElcblxuICB2dWVBcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHVzZU1ldGEgPSB1c2VNZXRhO1xuICB2dWVBcHAucHJvdmlkZSgndXNlTWV0YScsIHVzZU1ldGEpOyAvLyBmb3IgQ29tcG9zaXRpb24gQVBJXG5cbiAgaWYgKCFldmVudEJ1cykgZXZlbnRCdXMgPSBuZXcgRXZlbnRCdXMoKTtcbiAgdnVlQXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRidXMgPSBldmVudEJ1cztcbiAgdnVlQXBwLnByb3ZpZGUoJ2J1cycsIGV2ZW50QnVzKTsgLy8gZm9yIENvbXBvc2l0aW9uIEFQSVxuXG4gIHJldHVybiBhcHA7XG59XG4iLCJpbXBvcnQgdXNlQXBwIGZyb20gJ0Bjb21wb3NhYmxlcy91c2VBcHAuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh7IGFwcCwgZXZlbnRCdXMgfSkgPT4ge1xyXG4gIGRlYnVnZ2VyO1xyXG4gIGNvbnN0IGFwcERhdGEgPSB1c2VBcHAoeyBhcHAsIGV2ZW50QnVzIH0pO1xyXG4gIGFwcERhdGEubWFpbk1lbnUgPSBbXHJcbiAgICB7XHJcbiAgICAgIGlkOiAnaW5mbycsXHJcbiAgICAgIC8vIHRhZzogJ3EtaXRlbScsXHJcbiAgICAgIGljb246ICdtZGktaW5mb3JtYXRpb24tdmFyaWFudC1jaXJjbGUtb3V0bGluZScsXHJcbiAgICAgIHRpdGxlOiAnSW5mbycsXHJcbiAgICAgIC8vIGNhcHRpb246ICcnLFxyXG4gICAgICAvLyByb3V0ZTogJydcclxuICAgIH0sXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgIGlkOiAnc2VwMScsXHJcbiAgICAvLyAgIHRhZzogJ3Etc2VwYXJhdG9yJyxcclxuICAgIC8vIH0sXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgIGlkOiAndGVzdCcsXHJcbiAgICAvLyAgIC8vIHRhZzogJ3EtaXRlbScsXHJcbiAgICAvLyAgIC8vIGljb246ICdtZGktaW5mb3JtYXRpb24tdmFyaWFudC1jaXJjbGUtb3V0bGluZScsXHJcbiAgICAvLyAgIHRpdGxlOiAnVGVzdCcsXHJcbiAgICAvLyAgIC8vIGNhcHRpb246ICcnLFxyXG4gICAgLy8gICAvLyByb3V0ZTogJydcclxuICAgIC8vIH0sXHJcbiAgXTtcclxufVxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgdXNlQXBwOyJdLCJuYW1lcyI6WyJFdmVudEJ1cyIsIm5hbWUiLCJjYWxsYmFjayIsImN0eCIsImxpc3RlbmVyIiwiYXJncyIsImxpc3QiLCJwYXJhbXMiLCJlbnRyeSIsImxpdmVFdmVudHMiLCJtb3VudCIsImNvbXBvbmVudCIsInByb3BzIiwiY2hpbGRyZW4iLCJlbGVtZW50IiwiYXBwIiwiZWwiLCJ2Tm9kZSIsImNyZWF0ZVZOb2RlIiwicmVuZGVyIiwiZGVzdHJveSIsInVzZU1ldGEiLCJkYXRhIiwidXNlRUF0dHJpYnV0ZSIsImVsZSIsInZhbHVlcyIsIl8iLCJ1c2VFU3RydWN0dXJhbEZlYXR1cmUiLCJfYSIsInVzZUVDbGFzcyIsInVzZUVUeXBlZEVsZW1lbnQiLCJ1c2VFUmVmZXJlbmNlIiwidXNlRU9wZXJhdGlvbiIsInVzZUVQYXJhbWV0ZXIiLCJmaWVsZHMiLCJpbml0aWFsVmFsdWVzIiwidXNlQXBwIiwidnVlQXBwIiwiZXZlbnRCdXMiLCJkZXNjcmlwdGlvbiIsInRpdGxlIiwidmVyc2lvbiIsInJlc29sdmUiLCJyZWplY3QiLCJlbWl0RGlzbWlzcyIsIkRpYWxvZyIsInJlc3VsdCIsIm9wdGlvbnMiLCJhcHBEYXRhIl0sIm1hcHBpbmdzIjoiOEZBS2UsTUFBTUEsQ0FBUyxDQUM1QixhQUFlLENBQ2IsS0FBSyxRQUFVLENBQUUsQ0FDbEIsQ0FFRCxHQUFJQyxFQUFNQyxFQUFVQyxFQUFLLENBQ3ZCLE9BQUMsS0FBSyxRQUFTRixLQUFXLEtBQUssUUFBU0EsR0FBUyxLQUFLLEtBQUssQ0FDekQsR0FBSUMsRUFDSixJQUFBQyxDQUNOLENBQUssRUFFTSxJQUNSLENBRUQsS0FBTUYsRUFBTUMsRUFBVUMsRUFBSyxDQUN6QixNQUFNQyxFQUFXLElBQUlDLElBQVMsQ0FDNUIsS0FBSyxJQUFJSixFQUFNRyxDQUFRLEVBQ3ZCRixFQUFTLE1BQU1DLEVBQUtFLENBQUksQ0FDekIsRUFFRCxPQUFBRCxFQUFTLFdBQWFGLEVBQ2YsS0FBSyxHQUFHRCxFQUFNRyxFQUFVRCxDQUFHLENBQ25DLENBRUQsS0FBTUYsRUFB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
