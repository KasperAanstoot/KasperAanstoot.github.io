import{d as ot,h as jt,e as On,i as bn,o as hn,a as Cn,c as be,w as Ze,F as Bt,g as Jt,b as An,r as Sn,s as Pn,f as yn,T as Rn,j as kn}from"./index.4634898b.js";/*!
  * shared v9.10.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const ve=typeof window!="undefined",ce=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Dn=(e,t,n)=>Mn({l:e,k:t,s:n}),Mn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),X=e=>typeof e=="number"&&isFinite(e),Fn=e=>qt(e)==="[object Date]",Ue=e=>qt(e)==="[object RegExp]",xe=e=>F(e)&&Object.keys(e).length===0,K=Object.assign;let Nt;const we=()=>Nt||(Nt=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function gt(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const vn=Object.prototype.hasOwnProperty;function We(e,t){return vn.call(e,t)}const Y=Array.isArray,x=e=>typeof e=="function",A=e=>typeof e=="string",V=e=>typeof e=="boolean",U=e=>e!==null&&typeof e=="object",Un=e=>U(e)&&x(e.then)&&x(e.catch),Qt=Object.prototype.toString,qt=e=>Qt.call(e),F=e=>{if(!U(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},wn=e=>e==null?"":Y(e)||F(e)&&e.toString===Qt?JSON.stringify(e,null,2):String(e);function Wn(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}function it(e){let t=e;return()=>++t}function Vn(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const De=e=>!U(e)||Y(e);function Fe(e,t){if(De(e)||De(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:a}=n.pop();Object.keys(r).forEach(s=>{De(r[s])||De(a[s])?a[s]=r[s]:n.push({src:r[s],des:a[s]})})}}/*!
  * message-compiler v9.10.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function xn(e,t,n){return{line:e,column:t,offset:n}}function ze(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const $n=/\{([0-9a-zA-Z]+)\}/g;function Yn(e,...t){return t.length===1&&Gn(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace($n,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const Zt=Object.assign,Lt=e=>typeof e=="string",Gn=e=>e!==null&&typeof e=="object";function zt(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}const R={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Xn={[R.EXPECTED_TOKEN]:"Expected token: '{0}'",[R.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[R.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[R.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[R.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[R.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[R.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[R.EMPTY_PLACEHOLDER]:"Empty placeholder",[R.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[R.INVALID_LINKED_FORMAT]:"Invalid linked format",[R.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[R.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[R.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[R.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[R.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[R.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Te(e,t,n={}){const{domain:r,messages:a,args:s}=n,c=Yn((a||Xn)[e]||"",...s||[]),f=new SyntaxError(String(c));return f.code=e,t&&(f.location=t),f.domain=r,f}function Hn(e){throw e}const re=" ",Kn="\r",H=`
`,jn=String.fromCharCode(8232),Bn=String.fromCharCode(8233);function Jn(e){const t=e;let n=0,r=1,a=1,s=0;const c=M=>t[M]===Kn&&t[M+1]===H,f=M=>t[M]===H,u=M=>t[M]===Bn,m=M=>t[M]===jn,p=M=>c(M)||f(M)||u(M)||m(M),T=()=>n,L=()=>r,C=()=>a,y=()=>s,k=M=>c(M)||u(M)||m(M)?H:t[M],S=()=>k(n),i=()=>k(n+s);function N(){return s=0,p(n)&&(r++,a=0),c(n)&&n++,n++,a++,t[n]}function I(){return c(n+s)&&s++,s++,t[n+s]}function E(){n=0,r=1,a=1,s=0}function b(M=0){s=M}function h(){const M=n+s;for(;M!==n;)N();s=0}return{index:T,line:L,column:C,peekOffset:y,charAt:k,currentChar:S,currentPeek:i,next:N,peek:I,reset:E,resetPeek:b,skipToPeek:h}}const ue=void 0,Qn=".",Tt="'",qn="tokenizer";function Zn(e,t={}){const n=t.location!==!1,r=Jn(e),a=()=>r.index(),s=()=>xn(r.line(),r.column(),r.index()),c=s(),f=a(),u={currentType:14,offset:f,startLoc:c,endLoc:c,lastType:14,lastOffset:f,lastStartLoc:c,lastEndLoc:c,braceNest:0,inLinked:!1,text:""},m=()=>u,{onError:p}=t;function T(l,o,d,...O){const D=m();if(o.column+=d,o.offset+=d,p){const v=n?ze(D.startLoc,o):null,Z=Te(l,v,{domain:qn,args:O});p(Z)}}function L(l,o,d){l.endLoc=s(),l.currentType=o;const O={type:o};return n&&(O.loc=ze(l.startLoc,l.endLoc)),d!=null&&(O.value=d),O}const C=l=>L(l,14);function y(l,o){return l.currentChar()===o?(l.next(),o):(T(R.EXPECTED_TOKEN,s(),0,o),"")}function k(l){let o="";for(;l.currentPeek()===re||l.currentPeek()===H;)o+=l.currentPeek(),l.peek();return o}function S(l){const o=k(l);return l.skipToPeek(),o}function i(l){if(l===ue)return!1;const o=l.charCodeAt(0);return o>=97&&o<=122||o>=65&&o<=90||o===95}function N(l){if(l===ue)return!1;const o=l.charCodeAt(0);return o>=48&&o<=57}function I(l,o){const{currentType:d}=o;if(d!==2)return!1;k(l);const O=i(l.currentPeek());return l.resetPeek(),O}function E(l,o){const{currentType:d}=o;if(d!==2)return!1;k(l);const O=l.currentPeek()==="-"?l.peek():l.currentPeek(),D=N(O);return l.resetPeek(),D}function b(l,o){const{currentType:d}=o;if(d!==2)return!1;k(l);const O=l.currentPeek()===Tt;return l.resetPeek(),O}function h(l,o){const{currentType:d}=o;if(d!==8)return!1;k(l);const O=l.currentPeek()===".";return l.resetPeek(),O}function M(l,o){const{currentType:d}=o;if(d!==9)return!1;k(l);const O=i(l.currentPeek());return l.resetPeek(),O}function W(l,o){const{currentType:d}=o;if(!(d===8||d===12))return!1;k(l);const O=l.currentPeek()===":";return l.resetPeek(),O}function P(l,o){const{currentType:d}=o;if(d!==10)return!1;const O=()=>{const v=l.currentPeek();return v==="{"?i(l.peek()):v==="@"||v==="%"||v==="|"||v===":"||v==="."||v===re||!v?!1:v===H?(l.peek(),O()):i(v)},D=O();return l.resetPeek(),D}function B(l){k(l);const o=l.currentPeek()==="|";return l.resetPeek(),o}function oe(l){const o=k(l),d=l.currentPeek()==="%"&&l.peek()==="{";return l.resetPeek(),{isModulo:d,hasSpace:o.length>0}}function J(l,o=!0){const d=(D=!1,v="",Z=!1)=>{const ne=l.currentPeek();return ne==="{"?v==="%"?!1:D:ne==="@"||!ne?v==="%"?!0:D:ne==="%"?(l.peek(),d(D,"%",!0)):ne==="|"?v==="%"||Z?!0:!(v===re||v===H):ne===re?(l.peek(),d(!0,re,Z)):ne===H?(l.peek(),d(!0,H,Z)):!0},O=d();return o&&l.resetPeek(),O}function _e(l,o){const d=l.currentChar();return d===ue?ue:o(d)?(l.next(),d):null}function Ae(l){return _e(l,d=>{const O=d.charCodeAt(0);return O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===95||O===36})}function Ye(l){return _e(l,d=>{const O=d.charCodeAt(0);return O>=48&&O<=57})}function Ge(l){return _e(l,d=>{const O=d.charCodeAt(0);return O>=48&&O<=57||O>=65&&O<=70||O>=97&&O<=102})}function Se(l){let o="",d="";for(;o=Ye(l);)d+=o;return d}function Xe(l){S(l);const o=l.currentChar();return o!=="%"&&T(R.EXPECTED_TOKEN,s(),0,o),l.next(),"%"}function Pe(l){let o="";for(;;){const d=l.currentChar();if(d==="{"||d==="}"||d==="@"||d==="|"||!d)break;if(d==="%")if(J(l))o+=d,l.next();else break;else if(d===re||d===H)if(J(l))o+=d,l.next();else{if(B(l))break;o+=d,l.next()}else o+=d,l.next()}return o}function He(l){S(l);let o="",d="";for(;o=Ae(l);)d+=o;return l.currentChar()===ue&&T(R.UNTERMINATED_CLOSING_BRACE,s(),0),d}function te(l){S(l);let o="";return l.currentChar()==="-"?(l.next(),o+=`-${Se(l)}`):o+=Se(l),l.currentChar()===ue&&T(R.UNTERMINATED_CLOSING_BRACE,s(),0),o}function ye(l){S(l),y(l,"'");let o="",d="";const O=v=>v!==Tt&&v!==H;for(;o=_e(l,O);)o==="\\"?d+=Ke(l):d+=o;const D=l.currentChar();return D===H||D===ue?(T(R.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),D===H&&(l.next(),y(l,"'")),d):(y(l,"'"),d)}function Ke(l){const o=l.currentChar();switch(o){case"\\":case"'":return l.next(),`\\${o}`;case"u":return Re(l,o,4);case"U":return Re(l,o,6);default:return T(R.UNKNOWN_ESCAPE_SEQUENCE,s(),0,o),""}}function Re(l,o,d){y(l,o);let O="";for(let D=0;D<d;D++){const v=Ge(l);if(!v){T(R.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${o}${O}${l.currentChar()}`);break}O+=v}return`\\${o}${O}`}function je(l){S(l);let o="",d="";const O=D=>D!=="{"&&D!=="}"&&D!==re&&D!==H;for(;o=_e(l,O);)d+=o;return d}function Be(l){let o="",d="";for(;o=Ae(l);)d+=o;return d}function Et(l){const o=(d=!1,O)=>{const D=l.currentChar();return D==="{"||D==="%"||D==="@"||D==="|"||D==="("||D===")"||!D||D===re?O:D===H||D===Qn?(O+=D,l.next(),o(d,O)):(O+=D,l.next(),o(!0,O))};return o(!1,"")}function pe(l){S(l);const o=y(l,"|");return S(l),o}function Ie(l,o){let d=null;switch(l.currentChar()){case"{":return o.braceNest>=1&&T(R.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),l.next(),d=L(o,2,"{"),S(l),o.braceNest++,d;case"}":return o.braceNest>0&&o.currentType===2&&T(R.EMPTY_PLACEHOLDER,s(),0),l.next(),d=L(o,3,"}"),o.braceNest--,o.braceNest>0&&S(l),o.inLinked&&o.braceNest===0&&(o.inLinked=!1),d;case"@":return o.braceNest>0&&T(R.UNTERMINATED_CLOSING_BRACE,s(),0),d=de(l,o)||C(o),o.braceNest=0,d;default:let D=!0,v=!0,Z=!0;if(B(l))return o.braceNest>0&&T(R.UNTERMINATED_CLOSING_BRACE,s(),0),d=L(o,1,pe(l)),o.braceNest=0,o.inLinked=!1,d;if(o.braceNest>0&&(o.currentType===5||o.currentType===6||o.currentType===7))return T(R.UNTERMINATED_CLOSING_BRACE,s(),0),o.braceNest=0,Oe(l,o);if(D=I(l,o))return d=L(o,5,He(l)),S(l),d;if(v=E(l,o))return d=L(o,6,te(l)),S(l),d;if(Z=b(l,o))return d=L(o,7,ye(l)),S(l),d;if(!D&&!v&&!Z)return d=L(o,13,je(l)),T(R.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,d.value),S(l),d;break}return d}function de(l,o){const{currentType:d}=o;let O=null;const D=l.currentChar();switch((d===8||d===9||d===12||d===10)&&(D===H||D===re)&&T(R.INVALID_LINKED_FORMAT,s(),0),D){case"@":return l.next(),O=L(o,8,"@"),o.inLinked=!0,O;case".":return S(l),l.next(),L(o,9,".");case":":return S(l),l.next(),L(o,10,":");default:return B(l)?(O=L(o,1,pe(l)),o.braceNest=0,o.inLinked=!1,O):h(l,o)||W(l,o)?(S(l),de(l,o)):M(l,o)?(S(l),L(o,12,Be(l))):P(l,o)?(S(l),D==="{"?Ie(l,o)||O:L(o,11,Et(l))):(d===8&&T(R.INVALID_LINKED_FORMAT,s(),0),o.braceNest=0,o.inLinked=!1,Oe(l,o))}}function Oe(l,o){let d={type:14};if(o.braceNest>0)return Ie(l,o)||C(o);if(o.inLinked)return de(l,o)||C(o);switch(l.currentChar()){case"{":return Ie(l,o)||C(o);case"}":return T(R.UNBALANCED_CLOSING_BRACE,s(),0),l.next(),L(o,3,"}");case"@":return de(l,o)||C(o);default:if(B(l))return d=L(o,1,pe(l)),o.braceNest=0,o.inLinked=!1,d;const{isModulo:D,hasSpace:v}=oe(l);if(D)return v?L(o,0,Pe(l)):L(o,4,Xe(l));if(J(l))return L(o,0,Pe(l));break}return d}function Je(){const{currentType:l,offset:o,startLoc:d,endLoc:O}=u;return u.lastType=l,u.lastOffset=o,u.lastStartLoc=d,u.lastEndLoc=O,u.offset=a(),u.startLoc=s(),r.currentChar()===ue?L(u,14):Oe(r,u)}return{nextToken:Je,currentOffset:a,currentPosition:s,context:m}}const zn="parser",er=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function tr(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function nr(e={}){const t=e.location!==!1,{onError:n}=e;function r(i,N,I,E,...b){const h=i.currentPosition();if(h.offset+=E,h.column+=E,n){const M=t?ze(I,h):null,W=Te(N,M,{domain:zn,args:b});n(W)}}function a(i,N,I){const E={type:i};return t&&(E.start=N,E.end=N,E.loc={start:I,end:I}),E}function s(i,N,I,E){E&&(i.type=E),t&&(i.end=N,i.loc&&(i.loc.end=I))}function c(i,N){const I=i.context(),E=a(3,I.offset,I.startLoc);return E.value=N,s(E,i.currentOffset(),i.currentPosition()),E}function f(i,N){const I=i.context(),{lastOffset:E,lastStartLoc:b}=I,h=a(5,E,b);return h.index=parseInt(N,10),i.nextToken(),s(h,i.currentOffset(),i.currentPosition()),h}function u(i,N){const I=i.context(),{lastOffset:E,lastStartLoc:b}=I,h=a(4,E,b);return h.key=N,i.nextToken(),s(h,i.currentOffset(),i.currentPosition()),h}function m(i,N){const I=i.context(),{lastOffset:E,lastStartLoc:b}=I,h=a(9,E,b);return h.value=N.replace(er,tr),i.nextToken(),s(h,i.currentOffset(),i.currentPosition()),h}function p(i){const N=i.nextToken(),I=i.context(),{lastOffset:E,lastStartLoc:b}=I,h=a(8,E,b);return N.type!==12?(r(i,R.UNEXPECTED_EMPTY_LINKED_MODIFIER,I.lastStartLoc,0),h.value="",s(h,E,b),{nextConsumeToken:N,node:h}):(N.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,z(N)),h.value=N.value||"",s(h,i.currentOffset(),i.currentPosition()),{node:h})}function T(i,N){const I=i.context(),E=a(7,I.offset,I.startLoc);return E.value=N,s(E,i.currentOffset(),i.currentPosition()),E}function L(i){const N=i.context(),I=a(6,N.offset,N.startLoc);let E=i.nextToken();if(E.type===9){const b=p(i);I.modifier=b.node,E=b.nextConsumeToken||i.nextToken()}switch(E.type!==10&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(E)),E=i.nextToken(),E.type===2&&(E=i.nextToken()),E.type){case 11:E.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(E)),I.key=T(i,E.value||"");break;case 5:E.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(E)),I.key=u(i,E.value||"");break;case 6:E.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(E)),I.key=f(i,E.value||"");break;case 7:E.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(E)),I.key=m(i,E.value||"");break;default:r(i,R.UNEXPECTED_EMPTY_LINKED_KEY,N.lastStartLoc,0);const b=i.context(),h=a(7,b.offset,b.startLoc);return h.value="",s(h,b.offset,b.startLoc),I.key=h,s(I,b.offset,b.startLoc),{nextConsumeToken:E,node:I}}return s(I,i.currentOffset(),i.currentPosition()),{node:I}}function C(i){const N=i.context(),I=N.currentType===1?i.currentOffset():N.offset,E=N.currentType===1?N.endLoc:N.startLoc,b=a(2,I,E);b.items=[];let h=null;do{const P=h||i.nextToken();switch(h=null,P.type){case 0:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(c(i,P.value||""));break;case 6:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(f(i,P.value||""));break;case 5:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(u(i,P.value||""));break;case 7:P.value==null&&r(i,R.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,z(P)),b.items.push(m(i,P.value||""));break;case 8:const B=L(i);b.items.push(B.node),h=B.nextConsumeToken||null;break}}while(N.currentType!==14&&N.currentType!==1);const M=N.currentType===1?N.lastOffset:i.currentOffset(),W=N.currentType===1?N.lastEndLoc:i.currentPosition();return s(b,M,W),b}function y(i,N,I,E){const b=i.context();let h=E.items.length===0;const M=a(1,N,I);M.cases=[],M.cases.push(E);do{const W=C(i);h||(h=W.items.length===0),M.cases.push(W)}while(b.currentType!==14);return h&&r(i,R.MUST_HAVE_MESSAGES_IN_PLURAL,I,0),s(M,i.currentOffset(),i.currentPosition()),M}function k(i){const N=i.context(),{offset:I,startLoc:E}=N,b=C(i);return N.currentType===14?b:y(i,I,E,b)}function S(i){const N=Zn(i,Zt({},e)),I=N.context(),E=a(0,I.offset,I.startLoc);return t&&E.loc&&(E.loc.source=i),E.body=k(N),e.onCacheKey&&(E.cacheKey=e.onCacheKey(i)),I.currentType!==14&&r(N,R.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,i[I.offset]||""),s(E,N.currentOffset(),N.currentPosition()),E}return{parse:S}}function z(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function rr(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function pt(e,t){for(let n=0;n<e.length;n++)ut(e[n],t)}function ut(e,t){switch(e.type){case 1:pt(e.cases,t),t.helper("plural");break;case 2:pt(e.items,t);break;case 6:ut(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function ar(e,t={}){const n=rr(e);n.helper("normalize"),e.body&&ut(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function sr(e){const t=e.body;return t.type===2?It(t):t.cases.forEach(n=>It(n)),e}function It(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=zt(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const lr="minifier";function Ne(e){switch(e.t=e.type,e.type){case 0:const t=e;Ne(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,r=n.cases;for(let p=0;p<r.length;p++)Ne(r[p]);n.c=r,delete n.cases;break;case 2:const a=e,s=a.items;for(let p=0;p<s.length;p++)Ne(s[p]);a.i=s,delete a.items,a.static&&(a.s=a.static,delete a.static);break;case 3:case 9:case 8:case 7:const c=e;c.value&&(c.v=c.value,delete c.value);break;case 6:const f=e;Ne(f.key),f.k=f.key,delete f.key,f.modifier&&(Ne(f.modifier),f.m=f.modifier,delete f.modifier);break;case 5:const u=e;u.i=u.index,delete u.index;break;case 4:const m=e;m.k=m.key,delete m.key;break;default:throw Te(R.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:lr,args:[e.type]})}delete e.type}const cr="parser";function or(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:s}=t,c=t.location!==!1,f={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:s,indentLevel:0};c&&e.loc&&(f.source=e.loc.source);const u=()=>f;function m(S,i){f.code+=S}function p(S,i=!0){const N=i?a:"";m(s?N+"  ".repeat(S):N)}function T(S=!0){const i=++f.indentLevel;S&&p(i)}function L(S=!0){const i=--f.indentLevel;S&&p(i)}function C(){p(f.indentLevel)}return{context:u,push:m,indent:T,deindent:L,newline:C,helper:S=>`_${S}`,needIndent:()=>f.needIndent}}function ir(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ge(e,t.key),t.modifier?(e.push(", "),ge(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ur(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let s=0;s<a&&(ge(e,t.items[s]),s!==a-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function fr(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let s=0;s<a&&(ge(e,t.cases[s]),s!==a-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function _r(e,t){t.body?ge(e,t.body):e.push("null")}function ge(e,t){const{helper:n}=e;switch(t.type){case 0:_r(e,t);break;case 1:fr(e,t);break;case 2:ur(e,t);break;case 6:ir(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Te(R.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:cr,args:[t.type]})}}const mr=(e,t={})=>{const n=Lt(t.mode)?t.mode:"normal",r=Lt(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,c=t.needIndent?t.needIndent:n!=="arrow",f=e.helpers||[],u=or(e,{mode:n,filename:r,sourceMap:a,breakLineCode:s,needIndent:c});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(c),f.length>0&&(u.push(`const { ${zt(f.map(T=>`${T}: _${T}`),", ")} } = ctx`),u.newline()),u.push("return "),ge(u,e),u.deindent(c),u.push("}"),delete e.helpers;const{code:m,map:p}=u.context();return{ast:e,code:m,map:p?p.toJSON():void 0}};function dr(e,t={}){const n=Zt({},t),r=!!n.jit,a=!!n.minify,s=n.optimize==null?!0:n.optimize,f=nr(n).parse(e);return r?(s&&sr(f),a&&Ne(f),{ast:f,code:""}):(ar(f,n),mr(f,n))}/*!
  * core-base v9.10.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Er(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(we().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(we().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const fe=[];fe[0]={w:[0],i:[3,0],["["]:[4],o:[7]};fe[1]={w:[1],["."]:[2],["["]:[4],o:[7]};fe[2]={w:[2],i:[3,0],[0]:[3,0]};fe[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};fe[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};fe[5]={["'"]:[4,0],o:8,l:[5,0]};fe[6]={['"']:[4,0],o:8,l:[6,0]};const Nr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gr(e){return Nr.test(e)}function Lr(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Tr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function pr(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:gr(t)?Lr(t):"*"+t}function Ir(e){const t=[];let n=-1,r=0,a=0,s,c,f,u,m,p,T;const L=[];L[0]=()=>{c===void 0?c=f:c+=f},L[1]=()=>{c!==void 0&&(t.push(c),c=void 0)},L[2]=()=>{L[0](),a++},L[3]=()=>{if(a>0)a--,r=4,L[0]();else{if(a=0,c===void 0||(c=pr(c),c===!1))return!1;L[1]()}};function C(){const y=e[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,f="\\"+y,L[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&C())){if(u=Tr(s),T=fe[r],m=T[u]||T.l||8,m===8||(r=m[0],m[1]!==void 0&&(p=L[m[1]],p&&(f=s,p()===!1))))return;if(r===7)return t}}const Ot=new Map;function Or(e,t){return U(e)?e[t]:null}function br(e,t){if(!U(e))return null;let n=Ot.get(t);if(n||(n=Ir(t),n&&Ot.set(t,n)),!n)return null;const r=n.length;let a=e,s=0;for(;s<r;){const c=a[n[s]];if(c===void 0||x(a))return null;a=c,s++}return a}const hr=e=>e,Cr=e=>"",Ar="text",Sr=e=>e.length===0?"":Wn(e),Pr=wn;function bt(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function yr(e){const t=X(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(X(e.named.count)||X(e.named.n))?X(e.named.count)?e.named.count:X(e.named.n)?e.named.n:t:t}function Rr(e,t){t.count||(t.count=e),t.n||(t.n=e)}function kr(e={}){const t=e.locale,n=yr(e),r=U(e.pluralRules)&&A(t)&&x(e.pluralRules[t])?e.pluralRules[t]:bt,a=U(e.pluralRules)&&A(t)&&x(e.pluralRules[t])?bt:void 0,s=i=>i[r(n,i.length,a)],c=e.list||[],f=i=>c[i],u=e.named||{};X(e.pluralIndex)&&Rr(n,u);const m=i=>u[i];function p(i){const N=x(e.messages)?e.messages(i):U(e.messages)?e.messages[i]:!1;return N||(e.parent?e.parent.message(i):Cr)}const T=i=>e.modifiers?e.modifiers[i]:hr,L=F(e.processor)&&x(e.processor.normalize)?e.processor.normalize:Sr,C=F(e.processor)&&x(e.processor.interpolate)?e.processor.interpolate:Pr,y=F(e.processor)&&A(e.processor.type)?e.processor.type:Ar,S={list:f,named:m,plural:s,linked:(i,...N)=>{const[I,E]=N;let b="text",h="";N.length===1?U(I)?(h=I.modifier||h,b=I.type||b):A(I)&&(h=I||h):N.length===2&&(A(I)&&(h=I||h),A(E)&&(b=E||b));const M=p(i)(S),W=b==="vnode"&&Y(M)&&h?M[0]:M;return h?T(h)(W,b):W},message:p,type:y,interpolate:C,normalize:L,values:K({},c,u)};return S}const Dr={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8},en=R.__EXTEND_POINT__,me=it(en),ee={INVALID_ARGUMENT:en,INVALID_DATE_ARGUMENT:me(),INVALID_ISO_DATE_ARGUMENT:me(),NOT_SUPPORT_NON_STRING_MESSAGE:me(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:me(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:me(),NOT_SUPPORT_LOCALE_TYPE:me(),__EXTEND_POINT__:me()};function se(e){return Te(e,null,void 0)}function ft(e,t){return t.locale!=null?ht(t.locale):ht(e.locale)}let Qe;function ht(e){if(A(e))return e;if(x(e)){if(e.resolvedOnce&&Qe!=null)return Qe;if(e.constructor.name==="Function"){const t=e();if(Un(t))throw se(ee.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Qe=t}else throw se(ee.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw se(ee.NOT_SUPPORT_LOCALE_TYPE)}function Mr(e,t,n){return[...new Set([n,...Y(t)?t:U(t)?Object.keys(t):A(t)?[t]:[n]])]}function tn(e,t,n){const r=A(n)?n:Ve,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let s=a.__localeChainCache.get(r);if(!s){s=[];let c=[n];for(;Y(c);)c=Ct(s,c,t);const f=Y(t)||!F(t)?t:t.default?t.default:null;c=A(f)?[f]:f,Y(c)&&Ct(s,c,!1),a.__localeChainCache.set(r,s)}return s}function Ct(e,t,n){let r=!0;for(let a=0;a<t.length&&V(r);a++){const s=t[a];A(s)&&(r=Fr(e,t[a],n))}return r}function Fr(e,t,n){let r;const a=t.split("-");do{const s=a.join("-");r=vr(e,s,n),a.splice(-1,1)}while(a.length&&r===!0);return r}function vr(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(Y(n)||F(n))&&n[a]&&(r=n[a])}return r}const Ur="9.10.1",$e=-1,Ve="en-US",At="",St=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function wr(){return{upper:(e,t)=>t==="text"&&A(e)?e.toUpperCase():t==="vnode"&&U(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&A(e)?e.toLowerCase():t==="vnode"&&U(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&A(e)?St(e):t==="vnode"&&U(e)&&"__v_isVNode"in e?St(e.children):e}}let nn;function Wr(e){nn=e}let rn;function Vr(e){rn=e}let an;function xr(e){an=e}let sn=null;const Pt=e=>{sn=e},$r=()=>sn;let yt=0;function Yr(e={}){const t=x(e.onWarn)?e.onWarn:Vn,n=A(e.version)?e.version:Ur,r=A(e.locale)||x(e.locale)?e.locale:Ve,a=x(r)?Ve:r,s=Y(e.fallbackLocale)||F(e.fallbackLocale)||A(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,c=F(e.messages)?e.messages:{[a]:{}},f=F(e.datetimeFormats)?e.datetimeFormats:{[a]:{}},u=F(e.numberFormats)?e.numberFormats:{[a]:{}},m=K({},e.modifiers||{},wr()),p=e.pluralRules||{},T=x(e.missing)?e.missing:null,L=V(e.missingWarn)||Ue(e.missingWarn)?e.missingWarn:!0,C=V(e.fallbackWarn)||Ue(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,k=!!e.unresolving,S=x(e.postTranslation)?e.postTranslation:null,i=F(e.processor)?e.processor:null,N=V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,E=x(e.messageCompiler)?e.messageCompiler:nn,b=x(e.messageResolver)?e.messageResolver:rn||Or,h=x(e.localeFallbacker)?e.localeFallbacker:an||Mr,M=U(e.fallbackContext)?e.fallbackContext:void 0,W=e,P=U(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,B=U(W.__numberFormatters)?W.__numberFormatters:new Map,oe=U(W.__meta)?W.__meta:{};yt++;const J={version:n,cid:yt,locale:r,fallbackLocale:s,messages:c,modifiers:m,pluralRules:p,missing:T,missingWarn:L,fallbackWarn:C,fallbackFormat:y,unresolving:k,postTranslation:S,processor:i,warnHtmlMessage:N,escapeParameter:I,messageCompiler:E,messageResolver:b,localeFallbacker:h,fallbackContext:M,onWarn:t,__meta:oe};return J.datetimeFormats=f,J.numberFormats=u,J.__datetimeFormatters=P,J.__numberFormatters=B,J}function _t(e,t,n,r,a){const{missing:s,onWarn:c}=e;if(s!==null){const f=s(e,n,t,a);return A(f)?f:t}else return t}function he(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function qe(e){return n=>Gr(n,e)}function Gr(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,a=r.c||r.cases;return e.plural(a.reduce((s,c)=>[...s,Rt(e,c)],[]))}else return Rt(e,n)}function Rt(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((a,s)=>[...a,et(e,s)],[]);return e.normalize(r)}}function et(e,t){const n=t.t||t.type;switch(n){case 3:const r=t;return r.v||r.value;case 9:const a=t;return a.v||a.value;case 4:const s=t;return e.interpolate(e.named(s.k||s.key));case 5:const c=t;return e.interpolate(e.list(c.i!=null?c.i:c.index));case 6:const f=t,u=f.m||f.modifier;return e.linked(et(e,f.k||f.key),u?et(e,u):void 0,e.type);case 7:const m=t;return m.v||m.value;case 8:const p=t;return p.v||p.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const Xr=e=>e;let Me=Object.create(null);const Le=e=>U(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function Hr(e,t={}){let n=!1;const r=t.onError||Hn;return t.onError=a=>{n=!0,r(a)},{...dr(e,t),detectError:n}}function Kr(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&A(e)){V(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Xr)(e),a=Me[r];if(a)return a;const{ast:s,detectError:c}=Hr(e,{...t,location:!1,jit:!0}),f=qe(s);return c?f:Me[r]=f}else{const n=e.cacheKey;if(n){const r=Me[n];return r||(Me[n]=qe(e))}else return qe(e)}}const kt=()=>"",le=e=>x(e);function Dt(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:s,fallbackLocale:c,messages:f}=e,[u,m]=tt(...t),p=V(m.missingWarn)?m.missingWarn:e.missingWarn,T=V(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn,L=V(m.escapeParameter)?m.escapeParameter:e.escapeParameter,C=!!m.resolvedMessage,y=A(m.default)||V(m.default)?V(m.default)?s?u:()=>u:m.default:n?s?u:()=>u:"",k=n||y!=="",S=ft(e,m);L&&jr(m);let[i,N,I]=C?[u,S,f[S]||{}]:ln(e,u,S,c,T,p),E=i,b=u;if(!C&&!(A(E)||Le(E)||le(E))&&k&&(E=y,b=E),!C&&(!(A(E)||Le(E)||le(E))||!A(N)))return a?$e:u;let h=!1;const M=()=>{h=!0},W=le(E)?E:cn(e,u,N,E,b,M);if(h)return E;const P=Qr(e,N,I,m),B=kr(P),oe=Br(e,W,B);return r?r(oe,u):oe}function jr(e){Y(e.list)?e.list=e.list.map(t=>A(t)?gt(t):t):U(e.named)&&Object.keys(e.named).forEach(t=>{A(e.named[t])&&(e.named[t]=gt(e.named[t]))})}function ln(e,t,n,r,a,s){const{messages:c,onWarn:f,messageResolver:u,localeFallbacker:m}=e,p=m(e,r,n);let T={},L,C=null;const y="translate";for(let k=0;k<p.length&&(L=p[k],T=c[L]||{},(C=u(T,t))===null&&(C=T[t]),!(A(C)||Le(C)||le(C)));k++){const S=_t(e,t,L,s,y);S!==t&&(C=S)}return[C,L,T]}function cn(e,t,n,r,a,s){const{messageCompiler:c,warnHtmlMessage:f}=e;if(le(r)){const m=r;return m.locale=m.locale||n,m.key=m.key||t,m}if(c==null){const m=()=>r;return m.locale=n,m.key=t,m}const u=c(r,Jr(e,n,a,r,f,s));return u.locale=n,u.key=t,u.source=r,u}function Br(e,t,n){return t(n)}function tt(...e){const[t,n,r]=e,a={};if(!A(t)&&!X(t)&&!le(t)&&!Le(t))throw se(ee.INVALID_ARGUMENT);const s=X(t)?String(t):(le(t),t);return X(n)?a.plural=n:A(n)?a.default=n:F(n)&&!xe(n)?a.named=n:Y(n)&&(a.list=n),X(r)?a.plural=r:A(r)?a.default=r:F(r)&&K(a,r),[s,a]}function Jr(e,t,n,r,a,s){return{locale:t,key:n,warnHtmlMessage:a,onError:c=>{throw s&&s(c),c},onCacheKey:c=>Dn(t,n,c)}}function Qr(e,t,n,r){const{modifiers:a,pluralRules:s,messageResolver:c,fallbackLocale:f,fallbackWarn:u,missingWarn:m,fallbackContext:p}=e,L={locale:t,modifiers:a,pluralRules:s,messages:C=>{let y=c(n,C);if(y==null&&p){const[,,k]=ln(p,C,t,f,u,m);y=c(k,C)}if(A(y)||Le(y)){let k=!1;const i=cn(e,C,t,y,C,()=>{k=!0});return k?kt:i}else return le(y)?y:kt}};return e.processor&&(L.processor=e.processor),r.list&&(L.list=r.list),r.named&&(L.named=r.named),X(r.plural)&&(L.pluralIndex=r.plural),L}function Mt(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:s,localeFallbacker:c}=e,{__datetimeFormatters:f}=e,[u,m,p,T]=nt(...t),L=V(p.missingWarn)?p.missingWarn:e.missingWarn;V(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const C=!!p.part,y=ft(e,p),k=c(e,a,y);if(!A(u)||u==="")return new Intl.DateTimeFormat(y,T).format(m);let S={},i,N=null;const I="datetime format";for(let h=0;h<k.length&&(i=k[h],S=n[i]||{},N=S[u],!F(N));h++)_t(e,u,i,L,I);if(!F(N)||!A(i))return r?$e:u;let E=`${i}__${u}`;xe(T)||(E=`${E}__${JSON.stringify(T)}`);let b=f.get(E);return b||(b=new Intl.DateTimeFormat(i,K({},N,T)),f.set(E,b)),C?b.formatToParts(m):b.format(m)}const on=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function nt(...e){const[t,n,r,a]=e,s={};let c={},f;if(A(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw se(ee.INVALID_ISO_DATE_ARGUMENT);const m=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();f=new Date(m);try{f.toISOString()}catch{throw se(ee.INVALID_ISO_DATE_ARGUMENT)}}else if(Fn(t)){if(isNaN(t.getTime()))throw se(ee.INVALID_DATE_ARGUMENT);f=t}else if(X(t))f=t;else throw se(ee.INVALID_ARGUMENT);return A(n)?s.key=n:F(n)&&Object.keys(n).forEach(u=>{on.includes(u)?c[u]=n[u]:s[u]=n[u]}),A(r)?s.locale=r:F(r)&&(c=r),F(a)&&(c=a),[s.key||"",f,s,c]}function Ft(e,t,n){const r=e;for(const a in n){const s=`${t}__${a}`;!r.__datetimeFormatters.has(s)||r.__datetimeFormatters.delete(s)}}function vt(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:s,localeFallbacker:c}=e,{__numberFormatters:f}=e,[u,m,p,T]=rt(...t),L=V(p.missingWarn)?p.missingWarn:e.missingWarn;V(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const C=!!p.part,y=ft(e,p),k=c(e,a,y);if(!A(u)||u==="")return new Intl.NumberFormat(y,T).format(m);let S={},i,N=null;const I="number format";for(let h=0;h<k.length&&(i=k[h],S=n[i]||{},N=S[u],!F(N));h++)_t(e,u,i,L,I);if(!F(N)||!A(i))return r?$e:u;let E=`${i}__${u}`;xe(T)||(E=`${E}__${JSON.stringify(T)}`);let b=f.get(E);return b||(b=new Intl.NumberFormat(i,K({},N,T)),f.set(E,b)),C?b.formatToParts(m):b.format(m)}const un=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function rt(...e){const[t,n,r,a]=e,s={};let c={};if(!X(t))throw se(ee.INVALID_ARGUMENT);const f=t;return A(n)?s.key=n:F(n)&&Object.keys(n).forEach(u=>{un.includes(u)?c[u]=n[u]:s[u]=n[u]}),A(r)?s.locale=r:F(r)&&(c=r),F(a)&&(c=a),[s.key||"",f,s,c]}function Ut(e,t,n){const r=e;for(const a in n){const s=`${t}__${a}`;!r.__numberFormatters.has(s)||r.__numberFormatters.delete(s)}}Er();/*!
  * vue-i18n v9.10.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const qr="9.10.1";function Zr(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(we().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(we().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const fn=Dr.__EXTEND_POINT__,ae=it(fn);ae(),ae(),ae(),ae(),ae(),ae(),ae(),ae(),ae();const _n=ee.__EXTEND_POINT__,j=it(_n),Q={UNEXPECTED_RETURN_TYPE:_n,INVALID_ARGUMENT:j(),MUST_BE_CALL_SETUP_TOP:j(),NOT_INSTALLED:j(),NOT_AVAILABLE_IN_LEGACY_MODE:j(),REQUIRED_VALUE:j(),INVALID_VALUE:j(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:j(),NOT_INSTALLED_WITH_PROVIDE:j(),UNEXPECTED_ERROR:j(),NOT_COMPATIBLE_LEGACY_VUE_I18N:j(),BRIDGE_SUPPORT_VUE_2_ONLY:j(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:j(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:j(),__EXTEND_POINT__:j()};function q(e,...t){return Te(e,null,void 0)}const at=ce("__translateVNode"),st=ce("__datetimeParts"),lt=ce("__numberParts"),zr=ce("__setPluralRules");ce("__intlifyMeta");const ea=ce("__injectWithOption"),ct=ce("__dispose");function Ce(e){if(!U(e))return e;for(const t in e)if(!!We(e,t))if(!t.includes("."))U(e[t])&&Ce(e[t]);else{const n=t.split("."),r=n.length-1;let a=e,s=!1;for(let c=0;c<r;c++){if(n[c]in a||(a[n[c]]={}),!U(a[n[c]])){s=!0;break}a=a[n[c]]}s||(a[n[r]]=e[t],delete e[t]),U(a[n[r]])&&Ce(a[n[r]])}return e}function mn(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:s}=t,c=F(n)?n:Y(r)?{}:{[e]:{}};if(Y(r)&&r.forEach(f=>{if("locale"in f&&"resource"in f){const{locale:u,resource:m}=f;u?(c[u]=c[u]||{},Fe(m,c[u])):Fe(m,c)}else A(f)&&Fe(JSON.parse(f),c)}),a==null&&s)for(const f in c)We(c,f)&&Ce(c[f]);return c}function ta(e){return e.type}function na(e,t,n){let r=U(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=mn(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(U(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(c=>{e.mergeDateTimeFormat(c,t.datetimeFormats[c])})}if(U(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(c=>{e.mergeNumberFormat(c,t.numberFormats[c])})}}}function wt(e){return yn(Rn,null,e,0)}const Wt=()=>[],ra=()=>!1;let Vt=0;function xt(e){return(t,n,r,a)=>e(n,r,Jt()||void 0,a)}function dn(e={},t){const{__root:n,__injectWithOption:r}=e,a=n===void 0,s=e.flatJson,c=ve?Sn:Pn,f=!!e.translateExistCompatible;let u=V(e.inheritLocale)?e.inheritLocale:!0;const m=c(n&&u?n.locale.value:A(e.locale)?e.locale:Ve),p=c(n&&u?n.fallbackLocale.value:A(e.fallbackLocale)||Y(e.fallbackLocale)||F(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:m.value),T=c(mn(m.value,e)),L=c(F(e.datetimeFormats)?e.datetimeFormats:{[m.value]:{}}),C=c(F(e.numberFormats)?e.numberFormats:{[m.value]:{}});let y=n?n.missingWarn:V(e.missingWarn)||Ue(e.missingWarn)?e.missingWarn:!0,k=n?n.fallbackWarn:V(e.fallbackWarn)||Ue(e.fallbackWarn)?e.fallbackWarn:!0,S=n?n.fallbackRoot:V(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.fallbackFormat,N=x(e.missing)?e.missing:null,I=x(e.missing)?xt(e.missing):null,E=x(e.postTranslation)?e.postTranslation:null,b=n?n.warnHtmlMessage:V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,h=!!e.escapeParameter;const M=n?n.modifiers:F(e.modifiers)?e.modifiers:{};let W=e.pluralRules||n&&n.pluralRules,P;P=(()=>{a&&Pt(null);const _={version:qr,locale:m.value,fallbackLocale:p.value,messages:T.value,modifiers:M,pluralRules:W,missing:I===null?void 0:I,missingWarn:y,fallbackWarn:k,fallbackFormat:i,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:b,escapeParameter:h,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};_.datetimeFormats=L.value,_.numberFormats=C.value,_.__datetimeFormatters=F(P)?P.__datetimeFormatters:void 0,_.__numberFormatters=F(P)?P.__numberFormatters:void 0;const g=Yr(_);return a&&Pt(g),g})(),he(P,m.value,p.value);function oe(){return[m.value,p.value,T.value,L.value,C.value]}const J=be({get:()=>m.value,set:_=>{m.value=_,P.locale=m.value}}),_e=be({get:()=>p.value,set:_=>{p.value=_,P.fallbackLocale=p.value,he(P,m.value,_)}}),Ae=be(()=>T.value),Ye=be(()=>L.value),Ge=be(()=>C.value);function Se(){return x(E)?E:null}function Xe(_){E=_,P.postTranslation=_}function Pe(){return N}function He(_){_!==null&&(I=xt(_)),N=_,P.missing=I}const te=(_,g,w,$,ie,ke)=>{oe();let Ee;try{a||(P.fallbackContext=n?$r():void 0),Ee=_(P)}finally{a||(P.fallbackContext=void 0)}if(w!=="translate exists"&&X(Ee)&&Ee===$e||w==="translate exists"&&!Ee){const[In,Ca]=g();return n&&S?$(n):ie(In)}else{if(ke(Ee))return Ee;throw q(Q.UNEXPECTED_RETURN_TYPE)}};function ye(..._){return te(g=>Reflect.apply(Dt,null,[g,..._]),()=>tt(..._),"translate",g=>Reflect.apply(g.t,g,[..._]),g=>g,g=>A(g))}function Ke(..._){const[g,w,$]=_;if($&&!U($))throw q(Q.INVALID_ARGUMENT);return ye(g,w,K({resolvedMessage:!0},$||{}))}function Re(..._){return te(g=>Reflect.apply(Mt,null,[g,..._]),()=>nt(..._),"datetime format",g=>Reflect.apply(g.d,g,[..._]),()=>At,g=>A(g))}function je(..._){return te(g=>Reflect.apply(vt,null,[g,..._]),()=>rt(..._),"number format",g=>Reflect.apply(g.n,g,[..._]),()=>At,g=>A(g))}function Be(_){return _.map(g=>A(g)||X(g)||V(g)?wt(String(g)):g)}const pe={normalize:Be,interpolate:_=>_,type:"vnode"};function Ie(..._){return te(g=>{let w;const $=g;try{$.processor=pe,w=Reflect.apply(Dt,null,[$,..._])}finally{$.processor=null}return w},()=>tt(..._),"translate",g=>g[at](..._),g=>[wt(g)],g=>Y(g))}function de(..._){return te(g=>Reflect.apply(vt,null,[g,..._]),()=>rt(..._),"number format",g=>g[lt](..._),Wt,g=>A(g)||Y(g))}function Oe(..._){return te(g=>Reflect.apply(Mt,null,[g,..._]),()=>nt(..._),"datetime format",g=>g[st](..._),Wt,g=>A(g)||Y(g))}function Je(_){W=_,P.pluralRules=W}function l(_,g){return te(()=>{if(!_)return!1;const w=A(g)?g:m.value,$=O(w),ie=P.messageResolver($,_);return f?ie!=null:Le(ie)||le(ie)||A(ie)},()=>[_],"translate exists",w=>Reflect.apply(w.te,w,[_,g]),ra,w=>V(w))}function o(_){let g=null;const w=tn(P,p.value,m.value);for(let $=0;$<w.length;$++){const ie=T.value[w[$]]||{},ke=P.messageResolver(ie,_);if(ke!=null){g=ke;break}}return g}function d(_){const g=o(_);return g!=null?g:n?n.tm(_)||{}:{}}function O(_){return T.value[_]||{}}function D(_,g){if(s){const w={[_]:g};for(const $ in w)We(w,$)&&Ce(w[$]);g=w[_]}T.value[_]=g,P.messages=T.value}function v(_,g){T.value[_]=T.value[_]||{};const w={[_]:g};if(s)for(const $ in w)We(w,$)&&Ce(w[$]);g=w[_],Fe(g,T.value[_]),P.messages=T.value}function Z(_){return L.value[_]||{}}function ne(_,g){L.value[_]=g,P.datetimeFormats=L.value,Ft(P,_,g)}function gn(_,g){L.value[_]=K(L.value[_]||{},g),P.datetimeFormats=L.value,Ft(P,_,g)}function Ln(_){return C.value[_]||{}}function Tn(_,g){C.value[_]=g,P.numberFormats=C.value,Ut(P,_,g)}function pn(_,g){C.value[_]=K(C.value[_]||{},g),P.numberFormats=C.value,Ut(P,_,g)}Vt++,n&&ve&&(Ze(n.locale,_=>{u&&(m.value=_,P.locale=_,he(P,m.value,p.value))}),Ze(n.fallbackLocale,_=>{u&&(p.value=_,P.fallbackLocale=_,he(P,m.value,p.value))}));const G={id:Vt,locale:J,fallbackLocale:_e,get inheritLocale(){return u},set inheritLocale(_){u=_,_&&n&&(m.value=n.locale.value,p.value=n.fallbackLocale.value,he(P,m.value,p.value))},get availableLocales(){return Object.keys(T.value).sort()},messages:Ae,get modifiers(){return M},get pluralRules(){return W||{}},get isGlobal(){return a},get missingWarn(){return y},set missingWarn(_){y=_,P.missingWarn=y},get fallbackWarn(){return k},set fallbackWarn(_){k=_,P.fallbackWarn=k},get fallbackRoot(){return S},set fallbackRoot(_){S=_},get fallbackFormat(){return i},set fallbackFormat(_){i=_,P.fallbackFormat=i},get warnHtmlMessage(){return b},set warnHtmlMessage(_){b=_,P.warnHtmlMessage=_},get escapeParameter(){return h},set escapeParameter(_){h=_,P.escapeParameter=_},t:ye,getLocaleMessage:O,setLocaleMessage:D,mergeLocaleMessage:v,getPostTranslationHandler:Se,setPostTranslationHandler:Xe,getMissingHandler:Pe,setMissingHandler:He,[zr]:Je};return G.datetimeFormats=Ye,G.numberFormats=Ge,G.rt=Ke,G.te=l,G.tm=d,G.d=Re,G.n=je,G.getDateTimeFormat=Z,G.setDateTimeFormat=ne,G.mergeDateTimeFormat=gn,G.getNumberFormat=Ln,G.setNumberFormat=Tn,G.mergeNumberFormat=pn,G[ea]=r,G[at]=Ie,G[st]=Oe,G[lt]=de,G}const mt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function aa({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===Bt?a.children:[a]],[]):t.reduce((n,r)=>{const a=e[r];return a&&(n[r]=a()),n},{})}function En(e){return Bt}const sa=ot({name:"i18n-t",props:K({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>X(e)||!isNaN(e)}},mt),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||dt({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(T=>T!=="_"),c={};e.locale&&(c.locale=e.locale),e.plural!==void 0&&(c.plural=A(e.plural)?+e.plural:e.plural);const f=aa(t,s),u=a[at](e.keypath,f,c),m=K({},r),p=A(e.tag)||U(e.tag)?e.tag:En();return jt(p,m,u)}}}),$t=sa;function la(e){return Y(e)&&!A(e[0])}function Nn(e,t,n,r){const{slots:a,attrs:s}=t;return()=>{const c={part:!0};let f={};e.locale&&(c.locale=e.locale),A(e.format)?c.key=e.format:U(e.format)&&(A(e.format.key)&&(c.key=e.format.key),f=Object.keys(e.format).reduce((L,C)=>n.includes(C)?K({},L,{[C]:e.format[C]}):L,{}));const u=r(e.value,c,f);let m=[c.key];Y(u)?m=u.map((L,C)=>{const y=a[L.type],k=y?y({[L.type]:L.value,index:C,parts:u}):[L.value];return la(k)&&(k[0].key=`${L.type}-${C}`),k}):A(u)&&(m=[u]);const p=K({},s),T=A(e.tag)||U(e.tag)?e.tag:En();return jt(T,p,m)}}const ca=ot({name:"i18n-n",props:K({value:{type:Number,required:!0},format:{type:[String,Object]}},mt),setup(e,t){const n=e.i18n||dt({useScope:"parent",__useComponent:!0});return Nn(e,t,un,(...r)=>n[lt](...r))}}),Yt=ca,oa=ot({name:"i18n-d",props:K({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},mt),setup(e,t){const n=e.i18n||dt({useScope:"parent",__useComponent:!0});return Nn(e,t,on,(...r)=>n[st](...r))}}),Gt=oa;function ia(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function ua(e){const t=c=>{const{instance:f,modifiers:u,value:m}=c;if(!f||!f.$)throw q(Q.UNEXPECTED_ERROR);const p=ia(e,f.$),T=Xt(m);return[Reflect.apply(p.t,p,[...Ht(T)]),p]};return{created:(c,f)=>{const[u,m]=t(f);ve&&e.global===m&&(c.__i18nWatcher=Ze(m.locale,()=>{f.instance&&f.instance.$forceUpdate()})),c.__composer=m,c.textContent=u},unmounted:c=>{ve&&c.__i18nWatcher&&(c.__i18nWatcher(),c.__i18nWatcher=void 0,delete c.__i18nWatcher),c.__composer&&(c.__composer=void 0,delete c.__composer)},beforeUpdate:(c,{value:f})=>{if(c.__composer){const u=c.__composer,m=Xt(f);c.textContent=Reflect.apply(u.t,u,[...Ht(m)])}},getSSRProps:c=>{const[f]=t(c);return{textContent:f}}}}function Xt(e){if(A(e))return{path:e};if(F(e)){if(!("path"in e))throw q(Q.REQUIRED_VALUE,"path");return e}else throw q(Q.INVALID_VALUE)}function Ht(e){const{path:t,locale:n,args:r,choice:a,plural:s}=e,c={},f=r||{};return A(n)&&(c.locale=n),X(a)&&(c.plural=a),X(s)&&(c.plural=s),[t,f,c]}function fa(e,t,...n){const r=F(n[0])?n[0]:{},a=!!r.useI18nComponentName;(V(r.globalInstall)?r.globalInstall:!0)&&([a?"i18n":$t.name,"I18nT"].forEach(c=>e.component(c,$t)),[Yt.name,"I18nN"].forEach(c=>e.component(c,Yt)),[Gt.name,"I18nD"].forEach(c=>e.component(c,Gt))),e.directive("t",ua(t))}const _a=ce("global-vue-i18n");function ma(e={},t){const n=V(e.globalInjection)?e.globalInjection:!0,r=!0,a=new Map,[s,c]=da(e),f=ce("");function u(T){return a.get(T)||null}function m(T,L){a.set(T,L)}function p(T){a.delete(T)}{const T={get mode(){return"composition"},get allowComposition(){return r},async install(L,...C){if(L.__VUE_I18N_SYMBOL__=f,L.provide(L.__VUE_I18N_SYMBOL__,T),F(C[0])){const S=C[0];T.__composerExtend=S.__composerExtend,T.__vueI18nExtend=S.__vueI18nExtend}let y=null;n&&(y=Oa(L,T.global)),fa(L,T,...C);const k=L.unmount;L.unmount=()=>{y&&y(),T.dispose(),k()}},get global(){return c},dispose(){s.stop()},__instances:a,__getInstance:u,__setInstance:m,__deleteInstance:p};return T}}function dt(e={}){const t=Jt();if(t==null)throw q(Q.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw q(Q.NOT_INSTALLED);const n=Ea(t),r=ga(n),a=ta(t),s=Na(e,a);if(s==="global")return na(r,e,a),r;if(s==="parent"){let u=La(n,t,e.__useComponent);return u==null&&(u=r),u}const c=n;let f=c.__getInstance(t);if(f==null){const u=K({},e);"__i18n"in a&&(u.__i18n=a.__i18n),r&&(u.__root=r),f=dn(u),c.__composerExtend&&(f[ct]=c.__composerExtend(f)),pa(c,t,f),c.__setInstance(t,f)}return f}function da(e,t,n){const r=On();{const a=r.run(()=>dn(e));if(a==null)throw q(Q.UNEXPECTED_ERROR);return[r,a]}}function Ea(e){{const t=bn(e.isCE?_a:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw q(e.isCE?Q.NOT_INSTALLED_WITH_PROVIDE:Q.UNEXPECTED_ERROR);return t}}function Na(e,t){return xe(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function ga(e){return e.mode==="composition"?e.global:e.global.__composer}function La(e,t,n=!1){let r=null;const a=t.root;let s=Ta(t,n);for(;s!=null;){const c=e;if(e.mode==="composition"&&(r=c.__getInstance(s)),r!=null||a===s)break;s=s.parent}return r}function Ta(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function pa(e,t,n){hn(()=>{},t),Cn(()=>{const r=n;e.__deleteInstance(t);const a=r[ct];a&&(a(),delete r[ct])},t)}const Ia=["locale","fallbackLocale","availableLocales"],Kt=["t","rt","d","n","tm","te"];function Oa(e,t){const n=Object.create(null);return Ia.forEach(a=>{const s=Object.getOwnPropertyDescriptor(t,a);if(!s)throw q(Q.UNEXPECTED_ERROR);const c=An(s.value)?{get(){return s.value.value},set(f){s.value.value=f}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,a,c)}),e.config.globalProperties.$i18n=n,Kt.forEach(a=>{const s=Object.getOwnPropertyDescriptor(t,a);if(!s||!s.value)throw q(Q.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,s)}),()=>{delete e.config.globalProperties.$i18n,Kt.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}Zr();__INTLIFY_JIT_COMPILATION__&&Wr(Kr);Vr(br);xr(tn);var ba={failed:"Action failed",success:"Action was successful"},ha={"en-US":ba},Sa=kn(({app:e})=>{const t=ma({locale:"en-US",globalInjection:!0,messages:ha});e.use(t)});export{Sa as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi43ODE4YzQ0My5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L3NoYXJlZC9kaXN0L3NoYXJlZC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGxpZnkvbWVzc2FnZS1jb21waWxlci9kaXN0L21lc3NhZ2UtY29tcGlsZXIuZXNtLWJyb3dzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGxpZnkvY29yZS1iYXNlL2Rpc3QvY29yZS1iYXNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtaTE4bi9kaXN0L3Z1ZS1pMThuLnJ1bnRpbWUubWpzIiwiLi4vLi4vLi4vc3JjL2kxOG4vZW4tVVMvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvaTE4bi9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9ib290L2kxOG4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogc2hhcmVkIHY5LjEwLjFcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuLyoqXG4gKiBPcmlnaW5hbCBVdGlsaXRpZXNcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxuICovXG5jb25zdCBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBtYXJrO1xubGV0IG1lYXN1cmU7XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgY29uc3QgcGVyZiA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgaWYgKHBlcmYgJiZcbiAgICAgICAgcGVyZi5tYXJrICYmXG4gICAgICAgIHBlcmYubWVhc3VyZSAmJlxuICAgICAgICBwZXJmLmNsZWFyTWFya3MgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBicm93c2VyIGNvbXBhdFxuICAgICAgICBwZXJmLmNsZWFyTWVhc3VyZXMpIHtcbiAgICAgICAgbWFyayA9ICh0YWcpID0+IHtcbiAgICAgICAgICAgIHBlcmYubWFyayh0YWcpO1xuICAgICAgICB9O1xuICAgICAgICBtZWFzdXJlID0gKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpID0+IHtcbiAgICAgICAgICAgIHBlcmYubWVhc3VyZShuYW1lLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgICAgICAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jb25zdCBSRV9BUkdTID0gL1xceyhbMC05YS16QS1aXSspXFx9L2c7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgfVxuICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xuICAgICAgICBhcmdzID0ge307XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlLnJlcGxhY2UoUkVfQVJHUywgKG1hdGNoLCBpZGVudGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiBhcmdzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpID8gYXJnc1tpZGVudGlmaWVyXSA6ICcnO1xuICAgIH0pO1xufVxuY29uc3QgbWFrZVN5bWJvbCA9IChuYW1lLCBzaGFyZWFibGUgPSBmYWxzZSkgPT4gIXNoYXJlYWJsZSA/IFN5bWJvbChuYW1lKSA6IFN5bWJvbC5mb3IobmFtZSk7XG5jb25zdCBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5ID0gKGxvY2FsZSwga2V5LCBzb3VyY2UpID0+IGZyaWVuZGx5SlNPTnN0cmluZ2lmeSh7IGw6IGxvY2FsZSwgazoga2V5LCBzOiBzb3VyY2UgfSk7XG5jb25zdCBmcmllbmRseUpTT05zdHJpbmdpZnkgPSAoanNvbikgPT4gSlNPTi5zdHJpbmdpZnkoanNvbilcbiAgICAucmVwbGFjZSgvXFx1MjAyOC9nLCAnXFxcXHUyMDI4JylcbiAgICAucmVwbGFjZSgvXFx1MjAyOS9nLCAnXFxcXHUyMDI5JylcbiAgICAucmVwbGFjZSgvXFx1MDAyNy9nLCAnXFxcXHUwMDI3Jyk7XG5jb25zdCBpc051bWJlciA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCk7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gKHZhbCkgPT4gaXNQbGFpbk9iamVjdCh2YWwpICYmIE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAwO1xuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChfZ2xvYmFsVGhpcyB8fFxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XG59O1xuZnVuY3Rpb24gZXNjYXBlSHRtbChyYXdUZXh0KSB7XG4gICAgcmV0dXJuIHJhd1RleHRcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpO1xufVxuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuLyogZXNsaW50LWVuYWJsZSAqL1xuLyoqXG4gKiBVc2VmdWwgVXRpbGl0aWVzIEJ5IEV2YW4geW91XG4gKiBNb2RpZmllZCBieSBrYXp1eWEga2F3YWd1Y2hpXG4gKiBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3NoYXJlZC9zcmMvaW5kZXgudHNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbmV4dC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvc3JjL2NvZGVmcmFtZS50c1xuICovXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbmNvbnN0IGlzQm9vbGVhbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJztcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpO1xuICAgIHJldHVybiBwcm90byA9PT0gbnVsbCB8fCBwcm90by5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufTtcbi8vIGZvciBjb252ZXJ0aW5nIGxpc3QgYW5kIG5hbWVkIHZhbHVlcyB0byBkaXNwbGF5ZWQgc3RyaW5ncy5cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gdmFsID09IG51bGxcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcpXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcbiAgICAgICAgICAgIDogU3RyaW5nKHZhbCk7XG59O1xuZnVuY3Rpb24gam9pbihpdGVtcywgc2VwYXJhdG9yID0gJycpIHtcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKChzdHIsIGl0ZW0sIGluZGV4KSA9PiAoaW5kZXggPT09IDAgPyBzdHIgKyBpdGVtIDogc3RyICsgc2VwYXJhdG9yICsgaXRlbSksICcnKTtcbn1cbmNvbnN0IFJBTkdFID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcbiAgICAgICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIFJBTkdFOyBqIDw9IGkgKyBSQU5HRSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgpfXwgICR7bGluZXNbal19YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIHVuZGVybGluZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICcgJy5yZXBlYXQocGFkKSArICdeJy5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xufVxuZnVuY3Rpb24gaW5jcmVtZW50ZXIoY29kZSkge1xuICAgIGxldCBjdXJyZW50ID0gY29kZTtcbiAgICByZXR1cm4gKCkgPT4gKytjdXJyZW50O1xufVxuXG5mdW5jdGlvbiB3YXJuKG1zZywgZXJyKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtpbnRsaWZ5XSBgICsgbXNnKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgaGFzV2FybmVkID0ge307XG5mdW5jdGlvbiB3YXJuT25jZShtc2cpIHtcbiAgICBpZiAoIWhhc1dhcm5lZFttc2ddKSB7XG4gICAgICAgIGhhc1dhcm5lZFttc2ddID0gdHJ1ZTtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBFdmVudCBlbWl0dGVyLCBmb3JrZWQgZnJvbSB0aGUgYmVsb3c6XG4gKiAtIG9yaWdpbmFsIHJlcG9zaXRvcnkgdXJsOiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L21pdHRcbiAqIC0gY29kZSB1cmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvbWl0dC9ibG9iL21hc3Rlci9zcmMvaW5kZXgudHNcbiAqIC0gYXV0aG9yOiBKYXNvbiBNaWxsZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQpXG4gKiAtIGxpY2Vuc2U6IE1JVFxuICovXG4vKipcbiAqIENyZWF0ZSBhIGV2ZW50IGVtaXR0ZXJcbiAqXG4gKiBAcmV0dXJucyBBbiBldmVudCBlbWl0dGVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVtaXR0ZXIoKSB7XG4gICAgY29uc3QgZXZlbnRzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGVtaXR0ZXIgPSB7XG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gZXZlbnRzLmdldChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBhZGRlZCA9IGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoIWFkZGVkKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnNldChldmVudCwgW2hhbmRsZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2ZmKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGV2ZW50cy5nZXQoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcikgPj4+IDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbWl0KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgICAgICAgICAoZXZlbnRzLmdldChldmVudCkgfHwgW10pXG4gICAgICAgICAgICAgICAgLnNsaWNlKClcbiAgICAgICAgICAgICAgICAubWFwKGhhbmRsZXIgPT4gaGFuZGxlcihwYXlsb2FkKSk7XG4gICAgICAgICAgICAoZXZlbnRzLmdldCgnKicpIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAgICAgLm1hcChoYW5kbGVyID0+IGhhbmRsZXIoZXZlbnQsIHBheWxvYWQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbmNvbnN0IGlzTm90T2JqZWN0T3JJc0FycmF5ID0gKHZhbCkgPT4gIWlzT2JqZWN0KHZhbCkgfHwgaXNBcnJheSh2YWwpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGRlZXBDb3B5KHNyYywgZGVzKSB7XG4gICAgLy8gc3JjIGFuZCBkZXMgc2hvdWxkIGJvdGggYmUgb2JqZWN0cywgYW5kIG5vbmUgb2YgdGhlbSBjYW4gYmUgYSBhcnJheVxuICAgIGlmIChpc05vdE9iamVjdE9ySXNBcnJheShzcmMpIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0YWNrID0gW3sgc3JjLCBkZXMgfV07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB7IHNyYywgZGVzIH0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNOb3RPYmplY3RPcklzQXJyYXkoc3JjW2tleV0pIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlc1trZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2Ugd2l0aCBzcmNba2V5XSB3aGVuOlxuICAgICAgICAgICAgICAgIC8vIHNyY1trZXldIG9yIGRlc1trZXldIGlzIG5vdCBhbiBvYmplY3QsIG9yXG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gb3IgZGVzW2tleV0gaXMgYW4gYXJyYXlcbiAgICAgICAgICAgICAgICBkZXNba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gYW5kIGRlc1trZXldIGFyZSBib3RoIG9iamVjdHMsIG1lcmdlIHRoZW1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgc3JjOiBzcmNba2V5XSwgZGVzOiBkZXNba2V5XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBhc3NpZ24sIGNyZWF0ZUVtaXR0ZXIsIGRlZXBDb3B5LCBlc2NhcGVIdG1sLCBmb3JtYXQsIGZyaWVuZGx5SlNPTnN0cmluZ2lmeSwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXksIGdldEdsb2JhbFRoaXMsIGhhc093biwgaW5Ccm93c2VyLCBpbmNyZW1lbnRlciwgaXNBcnJheSwgaXNCb29sZWFuLCBpc0RhdGUsIGlzRW1wdHlPYmplY3QsIGlzRnVuY3Rpb24sIGlzTnVtYmVyLCBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNTdHJpbmcsIGlzU3ltYm9sLCBqb2luLCBtYWtlU3ltYm9sLCBtYXJrLCBtZWFzdXJlLCBvYmplY3RUb1N0cmluZywgdG9EaXNwbGF5U3RyaW5nLCB0b1R5cGVTdHJpbmcsIHdhcm4sIHdhcm5PbmNlIH07XG4iLCIvKiFcbiAgKiBtZXNzYWdlLWNvbXBpbGVyIHY5LjEwLjFcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuY29uc3QgTE9DQVRJT05fU1RVQiA9IHtcbiAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9LFxuICAgIGVuZDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9XG59O1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb24obGluZSwgY29sdW1uLCBvZmZzZXQpIHtcbiAgICByZXR1cm4geyBsaW5lLCBjb2x1bW4sIG9mZnNldCB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCwgc291cmNlKSB7XG4gICAgY29uc3QgbG9jID0geyBzdGFydCwgZW5kIH07XG4gICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGxvYy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBsb2M7XG59XG5cbi8qKlxuICogT3JpZ2luYWwgVXRpbGl0aWVzXG4gKiB3cml0dGVuIGJ5IGthenV5YSBrYXdhZ3VjaGlcbiAqL1xuY29uc3QgUkVfQVJHUyA9IC9cXHsoWzAtOWEtekEtWl0rKVxcfS9nO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmZ1bmN0aW9uIGZvcm1hdChtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgIH1cbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcbiAgICAgICAgYXJncyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZS5yZXBsYWNlKFJFX0FSR1MsIChtYXRjaCwgaWRlbnRpZmllcikgPT4ge1xuICAgICAgICByZXR1cm4gYXJncy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSA/IGFyZ3NbaWRlbnRpZmllcl0gOiAnJztcbiAgICB9KTtcbn1cbmNvbnN0IGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuZnVuY3Rpb24gam9pbihpdGVtcywgc2VwYXJhdG9yID0gJycpIHtcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKChzdHIsIGl0ZW0sIGluZGV4KSA9PiAoaW5kZXggPT09IDAgPyBzdHIgKyBpdGVtIDogc3RyICsgc2VwYXJhdG9yICsgaXRlbSksICcnKTtcbn1cblxuY29uc3QgQ29tcGlsZUVycm9yQ29kZXMgPSB7XG4gICAgLy8gdG9rZW5pemVyIGVycm9yIGNvZGVzXG4gICAgRVhQRUNURURfVE9LRU46IDEsXG4gICAgSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUjogMixcbiAgICBVTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSOiAzLFxuICAgIFVOS05PV05fRVNDQVBFX1NFUVVFTkNFOiA0LFxuICAgIElOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0U6IDUsXG4gICAgVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFOiA2LFxuICAgIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFOiA3LFxuICAgIEVNUFRZX1BMQUNFSE9MREVSOiA4LFxuICAgIE5PVF9BTExPV19ORVNUX1BMQUNFSE9MREVSOiA5LFxuICAgIElOVkFMSURfTElOS0VEX0ZPUk1BVDogMTAsXG4gICAgLy8gcGFyc2VyIGVycm9yIGNvZGVzXG4gICAgTVVTVF9IQVZFX01FU1NBR0VTX0lOX1BMVVJBTDogMTEsXG4gICAgVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfTU9ESUZJRVI6IDEyLFxuICAgIFVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWTogMTMsXG4gICAgVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTOiAxNCxcbiAgICAvLyBnZW5lcmF0b3IgZXJyb3IgY29kZXNcbiAgICBVTkhBTkRMRURfQ09ERUdFTl9OT0RFX1RZUEU6IDE1LFxuICAgIC8vIG1pbmlmaWVyIGVycm9yIGNvZGVzXG4gICAgVU5IQU5ETEVEX01JTklGSUVSX05PREVfVFlQRTogMTYsXG4gICAgLy8gU3BlY2lhbCB2YWx1ZSBmb3IgaGlnaGVyLW9yZGVyIGNvbXBpbGVycyB0byBwaWNrIHVwIHRoZSBsYXN0IGNvZGVcbiAgICAvLyB0byBhdm9pZCBjb2xsaXNpb24gb2YgZXJyb3IgY29kZXMuIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBrZXB0IGFzIHRoZSBsYXN0XG4gICAgLy8gaXRlbS5cbiAgICBfX0VYVEVORF9QT0lOVF9fOiAxN1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgLy8gdG9rZW5pemVyIGVycm9yIG1lc3NhZ2VzXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLkVYUEVDVEVEX1RPS0VOXTogYEV4cGVjdGVkIHRva2VuOiAnezB9J2AsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVE9LRU5fSU5fUExBQ0VIT0xERVJdOiBgSW52YWxpZCB0b2tlbiBpbiBwbGFjZWhvbGRlcjogJ3swfSdgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSXTogYFVudGVybWluYXRlZCBzaW5nbGUgcXVvdGUgaW4gcGxhY2Vob2xkZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTktOT1dOX0VTQ0FQRV9TRVFVRU5DRV06IGBVbmtub3duIGVzY2FwZSBzZXF1ZW5jZTogXFxcXHswfWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0VdOiBgSW52YWxpZCB1bmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogezB9YCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFXTogYFVuYmFsYW5jZWQgY2xvc2luZyBicmFjZWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFXTogYFVudGVybWluYXRlZCBjbG9zaW5nIGJyYWNlYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuRU1QVFlfUExBQ0VIT0xERVJdOiBgRW1wdHkgcGxhY2Vob2xkZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5OT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUl06IGBOb3QgYWxsb3dlZCBuZXN0IHBsYWNlaG9sZGVyYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9MSU5LRURfRk9STUFUXTogYEludmFsaWQgbGlua2VkIGZvcm1hdGAsXG4gICAgLy8gcGFyc2VyIGVycm9yIG1lc3NhZ2VzXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLk1VU1RfSEFWRV9NRVNTQUdFU19JTl9QTFVSQUxdOiBgUGx1cmFsIG11c3QgaGF2ZSBtZXNzYWdlc2AsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIG1vZGlmaWVyYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfS0VZXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIGtleWAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJU106IGBVbmV4cGVjdGVkIGxleGljYWwgYW5hbHlzaXMgaW4gdG9rZW46ICd7MH0nYCxcbiAgICAvLyBnZW5lcmF0b3IgZXJyb3IgbWVzc2FnZXNcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX0NPREVHRU5fTk9ERV9UWVBFXTogYHVuaGFuZGxlZCBjb2RlZ2VuIG5vZGUgdHlwZTogJ3swfSdgLFxuICAgIC8vIG1pbmltaXplciBlcnJvciBtZXNzYWdlc1xuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTkhBTkRMRURfTUlOSUZJRVJfTk9ERV9UWVBFXTogYHVuaGFuZGxlZCBtaW1pZmllciBub2RlIHR5cGU6ICd7MH0nYFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBsb2MsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgZG9tYWluLCBtZXNzYWdlcywgYXJncyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBtc2cgPSBmb3JtYXQoKG1lc3NhZ2VzIHx8IGVycm9yTWVzc2FnZXMpW2NvZGVdIHx8ICcnLCAuLi4oYXJncyB8fCBbXSkpXG4gICAgICAgIDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihTdHJpbmcobXNnKSk7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgaWYgKGxvYykge1xuICAgICAgICBlcnJvci5sb2NhdGlvbiA9IGxvYztcbiAgICB9XG4gICAgZXJyb3IuZG9tYWluID0gZG9tYWluO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGRlZmF1bHRPbkVycm9yKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG59XG5cbmNvbnN0IFJFX0hUTUxfVEFHID0gLzxcXC8/W1xcd1xccz1cIi8uJzo7Iy1cXC9dKz4vO1xuY29uc3QgZGV0ZWN0SHRtbFRhZyA9IChzb3VyY2UpID0+IFJFX0hUTUxfVEFHLnRlc3Qoc291cmNlKTtcblxuY29uc3QgQ0hBUl9TUCA9ICcgJztcbmNvbnN0IENIQVJfQ1IgPSAnXFxyJztcbmNvbnN0IENIQVJfTEYgPSAnXFxuJztcbmNvbnN0IENIQVJfTFMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAyOCk7XG5jb25zdCBDSEFSX1BTID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDIwMjkpO1xuZnVuY3Rpb24gY3JlYXRlU2Nhbm5lcihzdHIpIHtcbiAgICBjb25zdCBfYnVmID0gc3RyO1xuICAgIGxldCBfaW5kZXggPSAwO1xuICAgIGxldCBfbGluZSA9IDE7XG4gICAgbGV0IF9jb2x1bW4gPSAxO1xuICAgIGxldCBfcGVla09mZnNldCA9IDA7XG4gICAgY29uc3QgaXNDUkxGID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9DUiAmJiBfYnVmW2luZGV4ICsgMV0gPT09IENIQVJfTEY7XG4gICAgY29uc3QgaXNMRiA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfTEY7XG4gICAgY29uc3QgaXNQUyA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfUFM7XG4gICAgY29uc3QgaXNMUyA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfTFM7XG4gICAgY29uc3QgaXNMaW5lRW5kID0gKGluZGV4KSA9PiBpc0NSTEYoaW5kZXgpIHx8IGlzTEYoaW5kZXgpIHx8IGlzUFMoaW5kZXgpIHx8IGlzTFMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4ID0gKCkgPT4gX2luZGV4O1xuICAgIGNvbnN0IGxpbmUgPSAoKSA9PiBfbGluZTtcbiAgICBjb25zdCBjb2x1bW4gPSAoKSA9PiBfY29sdW1uO1xuICAgIGNvbnN0IHBlZWtPZmZzZXQgPSAoKSA9PiBfcGVla09mZnNldDtcbiAgICBjb25zdCBjaGFyQXQgPSAob2Zmc2V0KSA9PiBpc0NSTEYob2Zmc2V0KSB8fCBpc1BTKG9mZnNldCkgfHwgaXNMUyhvZmZzZXQpID8gQ0hBUl9MRiA6IF9idWZbb2Zmc2V0XTtcbiAgICBjb25zdCBjdXJyZW50Q2hhciA9ICgpID0+IGNoYXJBdChfaW5kZXgpO1xuICAgIGNvbnN0IGN1cnJlbnRQZWVrID0gKCkgPT4gY2hhckF0KF9pbmRleCArIF9wZWVrT2Zmc2V0KTtcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBfcGVla09mZnNldCA9IDA7XG4gICAgICAgIGlmIChpc0xpbmVFbmQoX2luZGV4KSkge1xuICAgICAgICAgICAgX2xpbmUrKztcbiAgICAgICAgICAgIF9jb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NSTEYoX2luZGV4KSkge1xuICAgICAgICAgICAgX2luZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgX2luZGV4Kys7XG4gICAgICAgIF9jb2x1bW4rKztcbiAgICAgICAgcmV0dXJuIF9idWZbX2luZGV4XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVlaygpIHtcbiAgICAgICAgaWYgKGlzQ1JMRihfaW5kZXggKyBfcGVla09mZnNldCkpIHtcbiAgICAgICAgICAgIF9wZWVrT2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgX3BlZWtPZmZzZXQrKztcbiAgICAgICAgcmV0dXJuIF9idWZbX2luZGV4ICsgX3BlZWtPZmZzZXRdO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgX2luZGV4ID0gMDtcbiAgICAgICAgX2xpbmUgPSAxO1xuICAgICAgICBfY29sdW1uID0gMTtcbiAgICAgICAgX3BlZWtPZmZzZXQgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFBlZWsob2Zmc2V0ID0gMCkge1xuICAgICAgICBfcGVla09mZnNldCA9IG9mZnNldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2tpcFRvUGVlaygpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gX2luZGV4ICsgX3BlZWtPZmZzZXQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgIHdoaWxlICh0YXJnZXQgIT09IF9pbmRleCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGxpbmUsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgcGVla09mZnNldCxcbiAgICAgICAgY2hhckF0LFxuICAgICAgICBjdXJyZW50Q2hhcixcbiAgICAgICAgY3VycmVudFBlZWssXG4gICAgICAgIG5leHQsXG4gICAgICAgIHBlZWssXG4gICAgICAgIHJlc2V0LFxuICAgICAgICByZXNldFBlZWssXG4gICAgICAgIHNraXBUb1BlZWtcbiAgICB9O1xufVxuXG5jb25zdCBFT0YgPSB1bmRlZmluZWQ7XG5jb25zdCBET1QgPSAnLic7XG5jb25zdCBMSVRFUkFMX0RFTElNSVRFUiA9IFwiJ1wiO1xuY29uc3QgRVJST1JfRE9NQUlOJDMgPSAndG9rZW5pemVyJztcbmZ1bmN0aW9uIGNyZWF0ZVRva2VuaXplcihzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbiAhPT0gZmFsc2U7XG4gICAgY29uc3QgX3NjbnIgPSBjcmVhdGVTY2FubmVyKHNvdXJjZSk7XG4gICAgY29uc3QgY3VycmVudE9mZnNldCA9ICgpID0+IF9zY25yLmluZGV4KCk7XG4gICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gKCkgPT4gY3JlYXRlUG9zaXRpb24oX3NjbnIubGluZSgpLCBfc2Nuci5jb2x1bW4oKSwgX3NjbnIuaW5kZXgoKSk7XG4gICAgY29uc3QgX2luaXRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcbiAgICBjb25zdCBfaW5pdE9mZnNldCA9IGN1cnJlbnRPZmZzZXQoKTtcbiAgICBjb25zdCBfY29udGV4dCA9IHtcbiAgICAgICAgY3VycmVudFR5cGU6IDE0IC8qIFRva2VuVHlwZXMuRU9GICovLFxuICAgICAgICBvZmZzZXQ6IF9pbml0T2Zmc2V0LFxuICAgICAgICBzdGFydExvYzogX2luaXRMb2MsXG4gICAgICAgIGVuZExvYzogX2luaXRMb2MsXG4gICAgICAgIGxhc3RUeXBlOiAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyxcbiAgICAgICAgbGFzdE9mZnNldDogX2luaXRPZmZzZXQsXG4gICAgICAgIGxhc3RTdGFydExvYzogX2luaXRMb2MsXG4gICAgICAgIGxhc3RFbmRMb2M6IF9pbml0TG9jLFxuICAgICAgICBicmFjZU5lc3Q6IDAsXG4gICAgICAgIGluTGlua2VkOiBmYWxzZSxcbiAgICAgICAgdGV4dDogJydcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRleHQgPSAoKSA9PiBfY29udGV4dDtcbiAgICBjb25zdCB7IG9uRXJyb3IgfSA9IG9wdGlvbnM7XG4gICAgZnVuY3Rpb24gZW1pdEVycm9yKGNvZGUsIHBvcywgb2Zmc2V0LCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNvbnRleHQoKTtcbiAgICAgICAgcG9zLmNvbHVtbiArPSBvZmZzZXQ7XG4gICAgICAgIHBvcy5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gbG9jYXRpb24gPyBjcmVhdGVMb2NhdGlvbihjdHguc3RhcnRMb2MsIHBvcykgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xuICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOJDMsXG4gICAgICAgICAgICAgICAgYXJnc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VG9rZW4oY29udGV4dCwgdHlwZSwgdmFsdWUpIHtcbiAgICAgICAgY29udGV4dC5lbmRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcbiAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGNvbnN0IHRva2VuID0geyB0eXBlIH07XG4gICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgdG9rZW4ubG9jID0gY3JlYXRlTG9jYXRpb24oY29udGV4dC5zdGFydExvYywgY29udGV4dC5lbmRMb2MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgY29uc3QgZ2V0RW5kVG9rZW4gPSAoY29udGV4dCkgPT4gZ2V0VG9rZW4oY29udGV4dCwgMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pO1xuICAgIGZ1bmN0aW9uIGVhdChzY25yLCBjaCkge1xuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSBjaCkge1xuICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuRVhQRUNURURfVE9LRU4sIGN1cnJlbnRQb3NpdGlvbigpLCAwLCBjaCk7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGVla1NwYWNlcyhzY25yKSB7XG4gICAgICAgIGxldCBidWYgPSAnJztcbiAgICAgICAgd2hpbGUgKHNjbnIuY3VycmVudFBlZWsoKSA9PT0gQ0hBUl9TUCB8fCBzY25yLmN1cnJlbnRQZWVrKCkgPT09IENIQVJfTEYpIHtcbiAgICAgICAgICAgIGJ1ZiArPSBzY25yLmN1cnJlbnRQZWVrKCk7XG4gICAgICAgICAgICBzY25yLnBlZWsoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBza2lwU3BhY2VzKHNjbnIpIHtcbiAgICAgICAgY29uc3QgYnVmID0gcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgc2Nuci5za2lwVG9QZWVrKCk7XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKSB7XG4gICAgICAgIGlmIChjaCA9PT0gRU9GKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gKChjYyA+PSA5NyAmJiBjYyA8PSAxMjIpIHx8IC8vIGEtelxuICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDkwKSB8fCAvLyBBLVpcbiAgICAgICAgICAgIGNjID09PSA5NSAvLyBfXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyU3RhcnQoY2gpIHtcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHJldHVybiBjYyA+PSA0OCAmJiBjYyA8PSA1NzsgLy8gMC05XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTmFtZWRJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBpc0lkZW50aWZpZXJTdGFydChzY25yLmN1cnJlbnRQZWVrKCkpO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpc3RJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gJy0nID8gc2Nuci5wZWVrKCkgOiBzY25yLmN1cnJlbnRQZWVrKCk7XG4gICAgICAgIGNvbnN0IHJldCA9IGlzTnVtYmVyU3RhcnQoY2gpO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpdGVyYWxTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBUb2tlblR5cGVzLkJyYWNlTGVmdCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gTElURVJBTF9ERUxJTUlURVI7XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGlua2VkRG90U3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCIuXCIgLyogVG9rZW5DaGFycy5MaW5rZWREb3QgKi87XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGlua2VkTW9kaWZpZXJTdGFydChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gOSAvKiBUb2tlblR5cGVzLkxpbmtlZERvdCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHJldCA9IGlzSWRlbnRpZmllclN0YXJ0KHNjbnIuY3VycmVudFBlZWsoKSk7XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGlua2VkRGVsaW1pdGVyU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoIShjdXJyZW50VHlwZSA9PT0gOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IFwiOlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRGVsaW1pdGVyICovO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpbmtlZFJlZmVyU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDEwIC8qIFRva2VuVHlwZXMuTGlua2VkRGVsaW1pdGVyICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudFBlZWsoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNJZGVudGlmaWVyU3RhcnQoc2Nuci5wZWVrKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiOlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRGVsaW1pdGVyICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiLlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRG90ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IENIQVJfU1AgfHxcbiAgICAgICAgICAgICAgICAhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9MRikge1xuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0lkZW50aWZpZXJTdGFydChjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJldCA9IGZuKCk7XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUGx1cmFsU3RhcnQoc2Nucikge1xuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLztcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0ZWN0TW9kdWxvU3RhcnQoc2Nucikge1xuICAgICAgICBjb25zdCBzcGFjZXMgPSBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovICYmXG4gICAgICAgICAgICBzY25yLnBlZWsoKSA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi87XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc01vZHVsbzogcmV0LFxuICAgICAgICAgICAgaGFzU3BhY2U6IHNwYWNlcy5sZW5ndGggPiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGV4dFN0YXJ0KHNjbnIsIHJlc2V0ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBmbiA9IChoYXNTcGFjZSA9IGZhbHNlLCBwcmV2ID0gJycsIGRldGVjdE1vZHVsbyA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudFBlZWsoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8gPyBmYWxzZSA6IGhhc1NwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8gfHwgIWNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovID8gdHJ1ZSA6IGhhc1NwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGhhc1NwYWNlLCBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovIHx8IGRldGVjdE1vZHVsb1xuICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgOiAhKHByZXYgPT09IENIQVJfU1AgfHwgcHJldiA9PT0gQ0hBUl9MRik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9TUCkge1xuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBDSEFSX1NQLCBkZXRlY3RNb2R1bG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYpIHtcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odHJ1ZSwgQ0hBUl9MRiwgZGV0ZWN0TW9kdWxvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXQgPSBmbigpO1xuICAgICAgICByZXNldCAmJiBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0YWtlQ2hhcihzY25yLCBmbikge1xuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcbiAgICAgICAgICAgIHJldHVybiBFT0Y7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZuKGNoKSkge1xuICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VJZGVudGlmaWVyQ2hhcihzY25yKSB7XG4gICAgICAgIGNvbnN0IGNsb3N1cmUgPSAoY2gpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHJldHVybiAoKGNjID49IDk3ICYmIGNjIDw9IDEyMikgfHwgLy8gYS16XG4gICAgICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDkwKSB8fCAvLyBBLVpcbiAgICAgICAgICAgICAgICAoY2MgPj0gNDggJiYgY2MgPD0gNTcpIHx8IC8vIDAtOVxuICAgICAgICAgICAgICAgIGNjID09PSA5NSB8fCAvLyBfXG4gICAgICAgICAgICAgICAgY2MgPT09IDM2IC8vICRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWtlQ2hhcihzY25yLCBjbG9zdXJlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZURpZ2l0KHNjbnIpIHtcbiAgICAgICAgY29uc3QgY2xvc3VyZSA9IChjaCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgcmV0dXJuIGNjID49IDQ4ICYmIGNjIDw9IDU3OyAvLyAwLTlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0YWtlSGV4RGlnaXQoc2Nucikge1xuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICByZXR1cm4gKChjYyA+PSA0OCAmJiBjYyA8PSA1NykgfHwgLy8gMC05XG4gICAgICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDcwKSB8fCAvLyBBLUZcbiAgICAgICAgICAgICAgICAoY2MgPj0gOTcgJiYgY2MgPD0gMTAyKSk7IC8vIGEtZlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERpZ2l0cyhzY25yKSB7XG4gICAgICAgIGxldCBjaCA9ICcnO1xuICAgICAgICBsZXQgbnVtID0gJyc7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlRGlnaXQoc2NucikpKSB7XG4gICAgICAgICAgICBudW0gKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZE1vZHVsbyhzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBpZiAoY2ggIT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuRVhQRUNURURfVE9LRU4sIGN1cnJlbnRQb3NpdGlvbigpLCAwLCBjaCk7XG4gICAgICAgIH1cbiAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFRleHQoc2Nucikge1xuICAgICAgICBsZXQgYnVmID0gJyc7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ9XCIgLyogVG9rZW5DaGFycy5CcmFjZVJpZ2h0ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovIHx8XG4gICAgICAgICAgICAgICAgIWNoKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0U3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IGNoO1xuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQIHx8IGNoID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gY2g7XG4gICAgICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTmFtZWRJZGVudGlmaWVyKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlSWRlbnRpZmllckNoYXIoc2NucikpKSB7XG4gICAgICAgICAgICBuYW1lICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09IEVPRikge1xuICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRMaXN0SWRlbnRpZmllcihzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSAnLScpIHtcbiAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgdmFsdWUgKz0gYC0ke2dldERpZ2l0cyhzY25yKX1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgKz0gZ2V0RGlnaXRzKHNjbnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09IEVPRikge1xuICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTGl0ZXJhbChzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGVhdChzY25yLCBgXFwnYCk7XG4gICAgICAgIGxldCBjaCA9ICcnO1xuICAgICAgICBsZXQgbGl0ZXJhbCA9ICcnO1xuICAgICAgICBjb25zdCBmbiA9ICh4KSA9PiB4ICE9PSBMSVRFUkFMX0RFTElNSVRFUiAmJiB4ICE9PSBDSEFSX0xGO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZUNoYXIoc2NuciwgZm4pKSkge1xuICAgICAgICAgICAgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBsaXRlcmFsICs9IHJlYWRFc2NhcGVTZXF1ZW5jZShzY25yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpdGVyYWwgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IENIQVJfTEYgfHwgY3VycmVudCA9PT0gRU9GKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX1NJTkdMRV9RVU9URV9JTl9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgLy8gVE9ETzogSXMgaXQgY29ycmVjdCByZWFsbHk/XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gQ0hBUl9MRikge1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIGVhdChzY25yLCBgXFwnYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICAgICAgfVxuICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xuICAgICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpIHtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgY2FzZSBgXFwnYDpcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxcXFwke2NofWA7XG4gICAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZShzY25yLCBjaCwgNCk7XG4gICAgICAgICAgICBjYXNlICdVJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZShzY25yLCBjaCwgNik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTktOT1dOX0VTQ0FQRV9TRVFVRU5DRSwgY3VycmVudFBvc2l0aW9uKCksIDAsIGNoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZShzY25yLCB1bmljb2RlLCBkaWdpdHMpIHtcbiAgICAgICAgZWF0KHNjbnIsIHVuaWNvZGUpO1xuICAgICAgICBsZXQgc2VxdWVuY2UgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWdpdHM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2ggPSB0YWtlSGV4RGlnaXQoc2Nucik7XG4gICAgICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwLCBgXFxcXCR7dW5pY29kZX0ke3NlcXVlbmNlfSR7c2Nuci5jdXJyZW50Q2hhcigpfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VxdWVuY2UgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBcXFxcJHt1bmljb2RlfSR7c2VxdWVuY2V9YDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEludmFsaWRJZGVudGlmaWVyKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBpZGVudGlmaWVycyA9ICcnO1xuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiBjaCAhPT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8gJiZcbiAgICAgICAgICAgIGNoICE9PSBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi8gJiZcbiAgICAgICAgICAgIGNoICE9PSBDSEFSX1NQICYmXG4gICAgICAgICAgICBjaCAhPT0gQ0hBUl9MRjtcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpKSkge1xuICAgICAgICAgICAgaWRlbnRpZmllcnMgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTGlua2VkTW9kaWZpZXIoc2Nucikge1xuICAgICAgICBsZXQgY2ggPSAnJztcbiAgICAgICAgbGV0IG5hbWUgPSAnJztcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VJZGVudGlmaWVyQ2hhcihzY25yKSkpIHtcbiAgICAgICAgICAgIG5hbWUgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRMaW5rZWRSZWZlcihzY25yKSB7XG4gICAgICAgIGNvbnN0IGZuID0gKGRldGVjdCA9IGZhbHNlLCBidWYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIihcIiAvKiBUb2tlbkNoYXJzLlBhcmVuTGVmdCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIilcIiAvKiBUb2tlbkNoYXJzLlBhcmVuUmlnaHQgKi8gfHxcbiAgICAgICAgICAgICAgICAhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfU1ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYgfHwgY2ggPT09IERPVCkge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oZGV0ZWN0LCBidWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmICs9IGNoO1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBidWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZm4oZmFsc2UsICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFBsdXJhbChzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHBsdXJhbCA9IGVhdChzY25yLCBcInxcIiAvKiBUb2tlbkNoYXJzLlBpcGUgKi8pO1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICByZXR1cm4gcGx1cmFsO1xuICAgIH1cbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICBjYXNlIFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovOlxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5OT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8sIFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovKTtcbiAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgY2FzZSBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAyIC8qIFRva2VuVHlwZXMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5FTVBUWV9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDMgLyogVG9rZW5UeXBlcy5CcmFjZVJpZ2h0ICovLCBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0LS07XG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPiAwICYmIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5MaW5rZWQgJiYgY29udGV4dC5icmFjZU5lc3QgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWROYW1lZElkZW50aWZpZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCB2YWxpZExpc3RJZGVudGlmaWVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQbHVyYWxTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogVG9rZW5UeXBlcy5QaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAoY29udGV4dC5jdXJyZW50VHlwZSA9PT0gNSAvKiBUb2tlblR5cGVzLk5hbWVkICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSA2IC8qIFRva2VuVHlwZXMuTGlzdCAqLyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9PT0gNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW4oc2NuciwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgodmFsaWROYW1lZElkZW50aWZpZXIgPSBpc05hbWVkSWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDUgLyogVG9rZW5UeXBlcy5OYW1lZCAqLywgcmVhZE5hbWVkSWRlbnRpZmllcihzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCh2YWxpZExpc3RJZGVudGlmaWVyID0gaXNMaXN0SWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDYgLyogVG9rZW5UeXBlcy5MaXN0ICovLCByZWFkTGlzdElkZW50aWZpZXIoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgodmFsaWRMaXRlcmFsID0gaXNMaXRlcmFsU3RhcnQoc2NuciwgY29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi8sIHJlYWRMaXRlcmFsKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkTmFtZWRJZGVudGlmaWVyICYmICF2YWxpZExpc3RJZGVudGlmaWVyICYmICF2YWxpZExpdGVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2Ugc2hvdWxkIGJlIHJlLWRlc2lnbmVkIGludmFsaWQgY2FzZXMsIHdoZW4gd2Ugd2lsbCBleHRlbmQgbWVzc2FnZSBzeW50YXggbmVhciB0aGUgZnV0dXJlIC4uLlxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEzIC8qIFRva2VuVHlwZXMuSW52YWxpZFBsYWNlICovLCByZWFkSW52YWxpZElkZW50aWZpZXIoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDAsIHRva2VuLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIC8vIFRPRE86IFdlIG5lZWQgcmVmYWN0b3Jpbmcgb2YgdG9rZW4gcGFyc2luZyAuLi5cbiAgICBmdW5jdGlvbiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBpZiAoKGN1cnJlbnRUeXBlID09PSA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovIHx8XG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLyB8fFxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDEwIC8qIFRva2VuVHlwZXMuTGlua2VkRGVsaW1pdGVyICovKSAmJlxuICAgICAgICAgICAgKGNoID09PSBDSEFSX0xGIHx8IGNoID09PSBDSEFSX1NQKSkge1xuICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfTElOS0VEX0ZPUk1BVCwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLzpcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLywgXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgY2FzZSBcIi5cIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERvdCAqLzpcbiAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovLCBcIi5cIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERvdCAqLyk7XG4gICAgICAgICAgICBjYXNlIFwiOlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRGVsaW1pdGVyICovOlxuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDEwIC8qIFRva2VuVHlwZXMuTGlua2VkRGVsaW1pdGVyICovLCBcIjpcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERlbGltaXRlciAqLyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMSAvKiBUb2tlblR5cGVzLlBpcGUgKi8sIHJlYWRQbHVyYWwoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNldFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5rZWREb3RTdGFydChzY25yLCBjb250ZXh0KSB8fFxuICAgICAgICAgICAgICAgICAgICBpc0xpbmtlZERlbGltaXRlclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkTW9kaWZpZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLywgcmVhZExpbmtlZE1vZGlmaWVyKHNjbnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkUmVmZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FuIHRoZSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkgfHwgdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTEgLyogVG9rZW5UeXBlcy5MaW5rZWRLZXkgKi8sIHJlYWRMaW5rZWRSZWZlcihzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUeXBlID09PSA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLklOVkFMSURfTElOS0VEX0ZPUk1BVCwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW4oc2NuciwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETzogV2UgbmVlZCByZWZhY3RvcmluZyBvZiB0b2tlbiBwYXJzaW5nIC4uLlxuICAgIGZ1bmN0aW9uIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHsgdHlwZTogMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8gfTtcbiAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQuaW5MaW5rZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgY2FzZSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgICAgIGNhc2UgXCJ9XCIgLyogVG9rZW5DaGFycy5CcmFjZVJpZ2h0ICovOlxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTkJBTEFOQ0VEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMyAvKiBUb2tlblR5cGVzLkJyYWNlUmlnaHQgKi8sIFwifVwiIC8qIFRva2VuQ2hhcnMuQnJhY2VSaWdodCAqLyk7XG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoaXNQbHVyYWxTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogVG9rZW5UeXBlcy5QaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc01vZHVsbywgaGFzU3BhY2UgfSA9IGRldGVjdE1vZHVsb1N0YXJ0KHNjbnIpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vZHVsbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzU3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0VG9rZW4oY29udGV4dCwgMCAvKiBUb2tlblR5cGVzLlRleHQgKi8sIHJlYWRUZXh0KHNjbnIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUb2tlbihjb250ZXh0LCA0IC8qIFRva2VuVHlwZXMuTW9kdWxvICovLCByZWFkTW9kdWxvKHNjbnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAwIC8qIFRva2VuVHlwZXMuVGV4dCAqLywgcmVhZFRleHQoc2NucikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHRUb2tlbigpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSwgb2Zmc2V0LCBzdGFydExvYywgZW5kTG9jIH0gPSBfY29udGV4dDtcbiAgICAgICAgX2NvbnRleHQubGFzdFR5cGUgPSBjdXJyZW50VHlwZTtcbiAgICAgICAgX2NvbnRleHQubGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgX2NvbnRleHQubGFzdFN0YXJ0TG9jID0gc3RhcnRMb2M7XG4gICAgICAgIF9jb250ZXh0Lmxhc3RFbmRMb2MgPSBlbmRMb2M7XG4gICAgICAgIF9jb250ZXh0Lm9mZnNldCA9IGN1cnJlbnRPZmZzZXQoKTtcbiAgICAgICAgX2NvbnRleHQuc3RhcnRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcbiAgICAgICAgaWYgKF9zY25yLmN1cnJlbnRDaGFyKCkgPT09IEVPRikge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKF9jb250ZXh0LCAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihfc2NuciwgX2NvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0VG9rZW4sXG4gICAgICAgIGN1cnJlbnRPZmZzZXQsXG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbixcbiAgICAgICAgY29udGV4dFxuICAgIH07XG59XG5cbmNvbnN0IEVSUk9SX0RPTUFJTiQyID0gJ3BhcnNlcic7XG4vLyBCYWNrc2xhc2ggYmFja3NsYXNoLCBiYWNrc2xhc2ggcXVvdGUsIHVISEhILCBVSEhISEhILlxuY29uc3QgS05PV05fRVNDQVBFUyA9IC8oPzpcXFxcXFxcXHxcXFxcJ3xcXFxcdShbMC05YS1mQS1GXXs0fSl8XFxcXFUoWzAtOWEtZkEtRl17Nn0pKS9nO1xuZnVuY3Rpb24gZnJvbUVzY2FwZVNlcXVlbmNlKG1hdGNoLCBjb2RlUG9pbnQ0LCBjb2RlUG9pbnQ2KSB7XG4gICAgc3dpdGNoIChtYXRjaCkge1xuICAgICAgICBjYXNlIGBcXFxcXFxcXGA6XG4gICAgICAgICAgICByZXR1cm4gYFxcXFxgO1xuICAgICAgICBjYXNlIGBcXFxcXFwnYDpcbiAgICAgICAgICAgIHJldHVybiBgXFwnYDtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgY29uc3QgY29kZVBvaW50ID0gcGFyc2VJbnQoY29kZVBvaW50NCB8fCBjb2RlUG9pbnQ2LCAxNik7XG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZDdmZiB8fCBjb2RlUG9pbnQgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbnZhbGlkIC4uLlxuICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGVtIHdpdGggVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUi5cbiAgICAgICAgICAgIHJldHVybiAn77+9JztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IG9wdGlvbnMubG9jYXRpb24gIT09IGZhbHNlO1xuICAgIGNvbnN0IHsgb25FcnJvciB9ID0gb3B0aW9ucztcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IodG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZW5kID0gdG9rZW56ZXIuY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGVuZC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGxvY2F0aW9uID8gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCkgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xuICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOJDIsXG4gICAgICAgICAgICAgICAgYXJnc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnROb2RlKHR5cGUsIG9mZnNldCwgbG9jKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7IHR5cGUgfTtcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBub2RlLnN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBub2RlLmxvYyA9IHsgc3RhcnQ6IGxvYywgZW5kOiBsb2MgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kTm9kZShub2RlLCBvZmZzZXQsIHBvcywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgbm9kZS50eXBlID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIG5vZGUuZW5kID0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG5vZGUubG9jKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5sb2MuZW5kID0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlVGV4dCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDMgLyogTm9kZVR5cGVzLlRleHQgKi8sIGNvbnRleHQub2Zmc2V0LCBjb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUxpc3QodG9rZW5pemVyLCBpbmRleCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg1IC8qIE5vZGVUeXBlcy5MaXN0ICovLCBvZmZzZXQsIGxvYyk7XG4gICAgICAgIG5vZGUuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICB0b2tlbml6ZXIubmV4dFRva2VuKCk7IC8vIHNraXAgYnJhY2ggcmlnaHRcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VOYW1lZCh0b2tlbml6ZXIsIGtleSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg0IC8qIE5vZGVUeXBlcy5OYW1lZCAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBub2RlLmtleSA9IGtleTtcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8sIG9mZnNldCwgbG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlLnJlcGxhY2UoS05PV05fRVNDQVBFUywgZnJvbUVzY2FwZVNlcXVlbmNlKTtcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkTW9kaWZpZXIodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgbGlua2VkIGRvdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLykge1xuICAgICAgICAgICAgLy8gZW1wdHkgbW9kaWZpZXJcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCk7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XG4gICAgICAgICAgICBlbmROb2RlKG5vZGUsIG9mZnNldCwgbG9jKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS52YWx1ZSA9IHRva2VuLnZhbHVlIHx8ICcnO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkS2V5KHRva2VuaXplciwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VMaW5rZWQodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gc3RhcnROb2RlKDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbml6ZXIubmV4dFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUxpbmtlZE1vZGlmaWVyKHRva2VuaXplcik7XG4gICAgICAgICAgICBsaW5rZWROb2RlLm1vZGlmaWVyID0gcGFyc2VkLm5vZGU7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcnNlZC5uZXh0Q29uc3VtZVRva2VuIHx8IHRva2VuaXplci5uZXh0VG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NldCBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICAvLyBza2lwIGJyYWNlIGxlZnRcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxMSAvKiBUb2tlblR5cGVzLkxpbmtlZEtleSAqLzpcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYgLyogVG9rZW5UeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTGlzdCh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBlbXB0eSBrZXlcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9LRVksIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlMaW5rZWRLZXlOb2RlID0gc3RhcnROb2RlKDcgLyogTm9kZVR5cGVzLkxpbmtlZEtleSAqLywgbmV4dENvbnRleHQub2Zmc2V0LCBuZXh0Q29udGV4dC5zdGFydExvYyk7XG4gICAgICAgICAgICAgICAgZW1wdHlMaW5rZWRLZXlOb2RlLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgZW5kTm9kZShlbXB0eUxpbmtlZEtleU5vZGUsIG5leHRDb250ZXh0Lm9mZnNldCwgbmV4dENvbnRleHQuc3RhcnRMb2MpO1xuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gZW1wdHlMaW5rZWRLZXlOb2RlO1xuICAgICAgICAgICAgICAgIGVuZE5vZGUobGlua2VkTm9kZSwgbmV4dENvbnRleHQub2Zmc2V0LCBuZXh0Q29udGV4dC5zdGFydExvYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGxpbmtlZE5vZGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVuZE5vZGUobGlua2VkTm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vZGU6IGxpbmtlZE5vZGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VNZXNzYWdlKHRva2VuaXplcikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFRva2VuVHlwZXMuUGlwZSAqL1xuICAgICAgICAgICAgPyB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpXG4gICAgICAgICAgICA6IGNvbnRleHQub2Zmc2V0O1xuICAgICAgICBjb25zdCBzdGFydExvYyA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovXG4gICAgICAgICAgICA/IGNvbnRleHQuZW5kTG9jXG4gICAgICAgICAgICA6IGNvbnRleHQuc3RhcnRMb2M7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoMiAvKiBOb2RlVHlwZXMuTWVzc2FnZSAqLywgc3RhcnRPZmZzZXQsIHN0YXJ0TG9jKTtcbiAgICAgICAgbm9kZS5pdGVtcyA9IFtdO1xuICAgICAgICBsZXQgbmV4dFRva2VuID0gbnVsbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBuZXh0VG9rZW4gfHwgdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICAgICAgbmV4dFRva2VuID0gbnVsbDtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUb2tlblR5cGVzLlRleHQgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VUZXh0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2IC8qIFRva2VuVHlwZXMuTGlzdCAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZUxpc3QodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogVG9rZW5UeXBlcy5OYW1lZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZU5hbWVkKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3IC8qIFRva2VuVHlwZXMuTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZUxpdGVyYWwodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VMaW5rZWQodG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlZC5ub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuID0gcGFyc2VkLm5leHRDb25zdW1lVG9rZW4gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGNvbnRleHQuY3VycmVudFR5cGUgIT09IDE0IC8qIFRva2VuVHlwZXMuRU9GICovICYmXG4gICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxIC8qIFRva2VuVHlwZXMuUGlwZSAqLyk7XG4gICAgICAgIC8vIGFkanVzdCBtZXNzYWdlIG5vZGUgbG9jXG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovXG4gICAgICAgICAgICA/IGNvbnRleHQubGFzdE9mZnNldFxuICAgICAgICAgICAgOiB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpO1xuICAgICAgICBjb25zdCBlbmRMb2MgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFRva2VuVHlwZXMuUGlwZSAqL1xuICAgICAgICAgICAgPyBjb250ZXh0Lmxhc3RFbmRMb2NcbiAgICAgICAgICAgIDogdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpO1xuICAgICAgICBlbmROb2RlKG5vZGUsIGVuZE9mZnNldCwgZW5kTG9jKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBsb2MsIG1zZ05vZGUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGxldCBoYXNFbXB0eU1lc3NhZ2UgPSBtc2dOb2RlLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgxIC8qIE5vZGVUeXBlcy5QbHVyYWwgKi8sIG9mZnNldCwgbG9jKTtcbiAgICAgICAgbm9kZS5jYXNlcyA9IFtdO1xuICAgICAgICBub2RlLmNhc2VzLnB1c2gobXNnTm9kZSk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHBhcnNlTWVzc2FnZSh0b2tlbml6ZXIpO1xuICAgICAgICAgICAgaWYgKCFoYXNFbXB0eU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBoYXNFbXB0eU1lc3NhZ2UgPSBtc2cuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5jYXNlcy5wdXNoKG1zZyk7XG4gICAgICAgIH0gd2hpbGUgKGNvbnRleHQuY3VycmVudFR5cGUgIT09IDE0IC8qIFRva2VuVHlwZXMuRU9GICovKTtcbiAgICAgICAgaWYgKGhhc0VtcHR5TWVzc2FnZSkge1xuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuTVVTVF9IQVZFX01FU1NBR0VTX0lOX1BMVVJBTCwgbG9jLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVJlc291cmNlKHRva2VuaXplcikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBvZmZzZXQsIHN0YXJ0TG9jIH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBtc2dOb2RlID0gcGFyc2VNZXNzYWdlKHRva2VuaXplcik7XG4gICAgICAgIGlmIChjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIG1zZ05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VQbHVyYWwodG9rZW5pemVyLCBvZmZzZXQsIHN0YXJ0TG9jLCBtc2dOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgdG9rZW5pemVyID0gY3JlYXRlVG9rZW5pemVyKHNvdXJjZSwgYXNzaWduKHt9LCBvcHRpb25zKSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDAgLyogTm9kZVR5cGVzLlJlc291cmNlICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XG4gICAgICAgIGlmIChsb2NhdGlvbiAmJiBub2RlLmxvYykge1xuICAgICAgICAgICAgbm9kZS5sb2Muc291cmNlID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuYm9keSA9IHBhcnNlUmVzb3VyY2UodG9rZW5pemVyKTtcbiAgICAgICAgaWYgKG9wdGlvbnMub25DYWNoZUtleSkge1xuICAgICAgICAgICAgbm9kZS5jYWNoZUtleSA9IG9wdGlvbnMub25DYWNoZUtleShzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFzc2VydCB3aGV0aGVyIGFjaGlldmVkIHRvIEVPRlxuICAgICAgICBpZiAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIHNvdXJjZVtjb250ZXh0Lm9mZnNldF0gfHwgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHJldHVybiB7IHBhcnNlIH07XG59XG5mdW5jdGlvbiBnZXRUb2tlbkNhcHRpb24odG9rZW4pIHtcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pIHtcbiAgICAgICAgcmV0dXJuICdFT0YnO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gKHRva2VuLnZhbHVlIHx8ICcnKS5yZXBsYWNlKC9cXHI/XFxuL2d1LCAnXFxcXG4nKTtcbiAgICByZXR1cm4gbmFtZS5sZW5ndGggPiAxMCA/IG5hbWUuc2xpY2UoMCwgOSkgKyAn4oCmJyA6IG5hbWU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybWVyKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbikge1xuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xuICAgICAgICBhc3QsXG4gICAgICAgIGhlbHBlcnM6IG5ldyBTZXQoKVxuICAgIH07XG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xuICAgIGNvbnN0IGhlbHBlciA9IChuYW1lKSA9PiB7XG4gICAgICAgIF9jb250ZXh0LmhlbHBlcnMuYWRkKG5hbWUpO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuICAgIHJldHVybiB7IGNvbnRleHQsIGhlbHBlciB9O1xufVxuZnVuY3Rpb24gdHJhdmVyc2VOb2Rlcyhub2RlcywgdHJhbnNmb3JtZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyYXZlcnNlTm9kZShub2Rlc1tpXSwgdHJhbnNmb3JtZXIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZShub2RlLCB0cmFuc2Zvcm1lcikge1xuICAgIC8vIFRPRE86IGlmIHdlIG5lZWQgcHJlLWhvb2sgb2YgdHJhbnNmb3JtLCBzaG91bGQgYmUgaW1wbGVtZW50ZWQgdG8gaGVyZVxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovOlxuICAgICAgICAgICAgdHJhdmVyc2VOb2Rlcyhub2RlLmNhc2VzLCB0cmFuc2Zvcm1lcik7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJwbHVyYWxcIiAvKiBIZWxwZXJOYW1lTWFwLlBMVVJBTCAqLyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovOlxuICAgICAgICAgICAgdHJhdmVyc2VOb2Rlcyhub2RlLml0ZW1zLCB0cmFuc2Zvcm1lcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2IC8qIE5vZGVUeXBlcy5MaW5rZWQgKi86XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSBub2RlO1xuICAgICAgICAgICAgdHJhdmVyc2VOb2RlKGxpbmtlZC5rZXksIHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImxpbmtlZFwiIC8qIEhlbHBlck5hbWVNYXAuTElOS0VEICovKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcInR5cGVcIiAvKiBIZWxwZXJOYW1lTWFwLlRZUEUgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNSAvKiBOb2RlVHlwZXMuTGlzdCAqLzpcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImludGVycG9sYXRlXCIgLyogSGVscGVyTmFtZU1hcC5JTlRFUlBPTEFURSAqLyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJsaXN0XCIgLyogSGVscGVyTmFtZU1hcC5MSVNUICovKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcIm5hbWVkXCIgLyogSGVscGVyTmFtZU1hcC5OQU1FRCAqLyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogaWYgd2UgbmVlZCBwb3N0LWhvb2sgb2YgdHJhbnNmb3JtLCBzaG91bGQgYmUgaW1wbGVtZW50ZWQgdG8gaGVyZVxufVxuLy8gdHJhbnNmb3JtIEFTVFxuZnVuY3Rpb24gdHJhbnNmb3JtKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbikge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVHJhbnNmb3JtZXIoYXN0KTtcbiAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJub3JtYWxpemVcIiAvKiBIZWxwZXJOYW1lTWFwLk5PUk1BTElaRSAqLyk7XG4gICAgLy8gdHJhdmVyc2VcbiAgICBhc3QuYm9keSAmJiB0cmF2ZXJzZU5vZGUoYXN0LmJvZHksIHRyYW5zZm9ybWVyKTtcbiAgICAvLyBzZXQgbWV0YSBpbmZvcm1hdGlvblxuICAgIGNvbnN0IGNvbnRleHQgPSB0cmFuc2Zvcm1lci5jb250ZXh0KCk7XG4gICAgYXN0LmhlbHBlcnMgPSBBcnJheS5mcm9tKGNvbnRleHQuaGVscGVycyk7XG59XG5cbmZ1bmN0aW9uIG9wdGltaXplKGFzdCkge1xuICAgIGNvbnN0IGJvZHkgPSBhc3QuYm9keTtcbiAgICBpZiAoYm9keS50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovKSB7XG4gICAgICAgIG9wdGltaXplTWVzc2FnZU5vZGUoYm9keSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBib2R5LmNhc2VzLmZvckVhY2goYyA9PiBvcHRpbWl6ZU1lc3NhZ2VOb2RlKGMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzdDtcbn1cbmZ1bmN0aW9uIG9wdGltaXplTWVzc2FnZU5vZGUobWVzc2FnZSkge1xuICAgIGlmIChtZXNzYWdlLml0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBpdGVtID0gbWVzc2FnZS5pdGVtc1swXTtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuVGV4dCAqLyB8fCBpdGVtLnR5cGUgPT09IDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGljID0gaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnZhbHVlOyAvLyBvcHRpbWl6YXRpb24gZm9yIHNpemVcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG1lc3NhZ2UuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoIShpdGVtLnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLlRleHQgKi8gfHwgaXRlbS50eXBlID09PSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzLnB1c2goaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IG1lc3NhZ2UuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnN0YXRpYyA9IGpvaW4odmFsdWVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBtZXNzYWdlLml0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLlRleHQgKi8gfHwgaXRlbS50eXBlID09PSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnZhbHVlOyAvLyBvcHRpbWl6YXRpb24gZm9yIHNpemVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IEVSUk9SX0RPTUFJTiQxID0gJ21pbmlmaWVyJztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmZ1bmN0aW9uIG1pbmlmeShub2RlKSB7XG4gICAgbm9kZS50ID0gbm9kZS50eXBlO1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgMCAvKiBOb2RlVHlwZXMuUmVzb3VyY2UgKi86XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IG5vZGU7XG4gICAgICAgICAgICBtaW5pZnkocmVzb3VyY2UuYm9keSk7XG4gICAgICAgICAgICByZXNvdXJjZS5iID0gcmVzb3VyY2UuYm9keTtcbiAgICAgICAgICAgIGRlbGV0ZSByZXNvdXJjZS5ib2R5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovOlxuICAgICAgICAgICAgY29uc3QgcGx1cmFsID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGNhc2VzID0gcGx1cmFsLmNhc2VzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG1pbmlmeShjYXNlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbHVyYWwuYyA9IGNhc2VzO1xuICAgICAgICAgICAgZGVsZXRlIHBsdXJhbC5jYXNlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIgLyogTm9kZVR5cGVzLk1lc3NhZ2UgKi86XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbWVzc2FnZS5pdGVtcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtaW5pZnkoaXRlbXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVzc2FnZS5pID0gaXRlbXM7XG4gICAgICAgICAgICBkZWxldGUgbWVzc2FnZS5pdGVtcztcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXRpYykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UucyA9IG1lc3NhZ2Uuc3RhdGljO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlLnN0YXRpYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogTm9kZVR5cGVzLlRleHQgKi86XG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLzpcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLzpcbiAgICAgICAgY2FzZSA3IC8qIE5vZGVUeXBlcy5MaW5rZWRLZXkgKi86XG4gICAgICAgICAgICBjb25zdCB2YWx1ZU5vZGUgPSBub2RlO1xuICAgICAgICAgICAgaWYgKHZhbHVlTm9kZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlTm9kZS52ID0gdmFsdWVOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZU5vZGUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2IC8qIE5vZGVUeXBlcy5MaW5rZWQgKi86XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSBub2RlO1xuICAgICAgICAgICAgbWluaWZ5KGxpbmtlZC5rZXkpO1xuICAgICAgICAgICAgbGlua2VkLmsgPSBsaW5rZWQua2V5O1xuICAgICAgICAgICAgZGVsZXRlIGxpbmtlZC5rZXk7XG4gICAgICAgICAgICBpZiAobGlua2VkLm1vZGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgbWluaWZ5KGxpbmtlZC5tb2RpZmllcik7XG4gICAgICAgICAgICAgICAgbGlua2VkLm0gPSBsaW5rZWQubW9kaWZpZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxpbmtlZC5tb2RpZmllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLkxpc3QgKi86XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gbm9kZTtcbiAgICAgICAgICAgIGxpc3QuaSA9IGxpc3QuaW5kZXg7XG4gICAgICAgICAgICBkZWxldGUgbGlzdC5pbmRleDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgY29uc3QgbmFtZWQgPSBub2RlO1xuICAgICAgICAgICAgbmFtZWQuayA9IG5hbWVkLmtleTtcbiAgICAgICAgICAgIGRlbGV0ZSBuYW1lZC5rZXk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb21waWxlRXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX01JTklGSUVSX05PREVfVFlQRSwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBkb21haW46IEVSUk9SX0RPTUFJTiQxLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbbm9kZS50eXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUgbm9kZS50eXBlO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbmNvbnN0IEVSUk9SX0RPTUFJTiA9ICdwYXJzZXInO1xuZnVuY3Rpb24gY3JlYXRlQ29kZUdlbmVyYXRvcihhc3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNvdXJjZU1hcCwgZmlsZW5hbWUsIGJyZWFrTGluZUNvZGUsIG5lZWRJbmRlbnQ6IF9uZWVkSW5kZW50IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbiAhPT0gZmFsc2U7XG4gICAgY29uc3QgX2NvbnRleHQgPSB7XG4gICAgICAgIGZpbGVuYW1lLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgY29sdW1uOiAxLFxuICAgICAgICBsaW5lOiAxLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIG1hcDogdW5kZWZpbmVkLFxuICAgICAgICBicmVha0xpbmVDb2RlLFxuICAgICAgICBuZWVkSW5kZW50OiBfbmVlZEluZGVudCxcbiAgICAgICAgaW5kZW50TGV2ZWw6IDBcbiAgICB9O1xuICAgIGlmIChsb2NhdGlvbiAmJiBhc3QubG9jKSB7XG4gICAgICAgIF9jb250ZXh0LnNvdXJjZSA9IGFzdC5sb2Muc291cmNlO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XG4gICAgZnVuY3Rpb24gcHVzaChjb2RlLCBub2RlKSB7XG4gICAgICAgIF9jb250ZXh0LmNvZGUgKz0gY29kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX25ld2xpbmUobiwgd2l0aEJyZWFrTGluZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgX2JyZWFrTGluZUNvZGUgPSB3aXRoQnJlYWtMaW5lID8gYnJlYWtMaW5lQ29kZSA6ICcnO1xuICAgICAgICBwdXNoKF9uZWVkSW5kZW50ID8gX2JyZWFrTGluZUNvZGUgKyBgICBgLnJlcGVhdChuKSA6IF9icmVha0xpbmVDb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZW50KHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBsZXZlbCA9ICsrX2NvbnRleHQuaW5kZW50TGV2ZWw7XG4gICAgICAgIHdpdGhOZXdMaW5lICYmIF9uZXdsaW5lKGxldmVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVpbmRlbnQod2l0aE5ld0xpbmUgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gLS1fY29udGV4dC5pbmRlbnRMZXZlbDtcbiAgICAgICAgd2l0aE5ld0xpbmUgJiYgX25ld2xpbmUobGV2ZWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXdsaW5lKCkge1xuICAgICAgICBfbmV3bGluZShfY29udGV4dC5pbmRlbnRMZXZlbCk7XG4gICAgfVxuICAgIGNvbnN0IGhlbHBlciA9IChrZXkpID0+IGBfJHtrZXl9YDtcbiAgICBjb25zdCBuZWVkSW5kZW50ID0gKCkgPT4gX2NvbnRleHQubmVlZEluZGVudDtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBwdXNoLFxuICAgICAgICBpbmRlbnQsXG4gICAgICAgIGRlaW5kZW50LFxuICAgICAgICBuZXdsaW5lLFxuICAgICAgICBoZWxwZXIsXG4gICAgICAgIG5lZWRJbmRlbnRcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5rZWROb2RlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGNvbnN0IHsgaGVscGVyIH0gPSBnZW5lcmF0b3I7XG4gICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwibGlua2VkXCIgLyogSGVscGVyTmFtZU1hcC5MSU5LRUQgKi8pfShgKTtcbiAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmtleSk7XG4gICAgaWYgKG5vZGUubW9kaWZpZXIpIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCwgYCk7XG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUubW9kaWZpZXIpO1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgLCBfdHlwZWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCwgdW5kZWZpbmVkLCBfdHlwZWApO1xuICAgIH1cbiAgICBnZW5lcmF0b3IucHVzaChgKWApO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcbiAgICBjb25zdCB7IGhlbHBlciwgbmVlZEluZGVudCB9ID0gZ2VuZXJhdG9yO1xuICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcIm5vcm1hbGl6ZVwiIC8qIEhlbHBlck5hbWVNYXAuTk9STUFMSVpFICovKX0oW2ApO1xuICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCgpKTtcbiAgICBjb25zdCBsZW5ndGggPSBub2RlLml0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUuaXRlbXNbaV0pO1xuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XG4gICAgfVxuICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KCkpO1xuICAgIGdlbmVyYXRvci5wdXNoKCddKScpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGNvbnN0IHsgaGVscGVyLCBuZWVkSW5kZW50IH0gPSBnZW5lcmF0b3I7XG4gICAgaWYgKG5vZGUuY2FzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJwbHVyYWxcIiAvKiBIZWxwZXJOYW1lTWFwLlBMVVJBTCAqLyl9KFtgKTtcbiAgICAgICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KCkpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBub2RlLmNhc2VzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5jYXNlc1tpXSk7XG4gICAgICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQoKSk7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBdKWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmVzb3VyY2UoZ2VuZXJhdG9yLCBub2RlKSB7XG4gICAgaWYgKG5vZGUuYm9keSkge1xuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmJvZHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJ251bGwnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlKSB7XG4gICAgY29uc3QgeyBoZWxwZXIgfSA9IGdlbmVyYXRvcjtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlIDAgLyogTm9kZVR5cGVzLlJlc291cmNlICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVSZXNvdXJjZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNiAvKiBOb2RlVHlwZXMuTGlua2VkICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVMaW5rZWROb2RlKGdlbmVyYXRvciwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDcgLyogTm9kZVR5cGVzLkxpbmtlZEtleSAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLkxpc3QgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJpbnRlcnBvbGF0ZVwiIC8qIEhlbHBlck5hbWVNYXAuSU5URVJQT0xBVEUgKi8pfSgke2hlbHBlcihcImxpc3RcIiAvKiBIZWxwZXJOYW1lTWFwLkxJU1QgKi8pfSgke25vZGUuaW5kZXh9KSlgLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKX0oJHtoZWxwZXIoXCJuYW1lZFwiIC8qIEhlbHBlck5hbWVNYXAuTkFNRUQgKi8pfSgke0pTT04uc3RyaW5naWZ5KG5vZGUua2V5KX0pKWAsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogTm9kZVR5cGVzLlRleHQgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb21waWxlRXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX0NPREVHRU5fTk9ERV9UWVBFLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbbm9kZS50eXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cbi8vIGdlbmVyYXRlIGNvZGUgZnJvbSBBU1RcbmNvbnN0IGdlbmVyYXRlID0gKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbikgPT4ge1xuICAgIGNvbnN0IG1vZGUgPSBpc1N0cmluZyhvcHRpb25zLm1vZGUpID8gb3B0aW9ucy5tb2RlIDogJ25vcm1hbCc7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpc1N0cmluZyhvcHRpb25zLmZpbGVuYW1lKVxuICAgICAgICA/IG9wdGlvbnMuZmlsZW5hbWVcbiAgICAgICAgOiAnbWVzc2FnZS5pbnRsJztcbiAgICBjb25zdCBzb3VyY2VNYXAgPSAhIW9wdGlvbnMuc291cmNlTWFwO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGJyZWFrTGluZUNvZGUgPSBvcHRpb25zLmJyZWFrTGluZUNvZGUgIT0gbnVsbFxuICAgICAgICA/IG9wdGlvbnMuYnJlYWtMaW5lQ29kZVxuICAgICAgICA6IG1vZGUgPT09ICdhcnJvdydcbiAgICAgICAgICAgID8gJzsnXG4gICAgICAgICAgICA6ICdcXG4nO1xuICAgIGNvbnN0IG5lZWRJbmRlbnQgPSBvcHRpb25zLm5lZWRJbmRlbnQgPyBvcHRpb25zLm5lZWRJbmRlbnQgOiBtb2RlICE9PSAnYXJyb3cnO1xuICAgIGNvbnN0IGhlbHBlcnMgPSBhc3QuaGVscGVycyB8fCBbXTtcbiAgICBjb25zdCBnZW5lcmF0b3IgPSBjcmVhdGVDb2RlR2VuZXJhdG9yKGFzdCwge1xuICAgICAgICBtb2RlLFxuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgc291cmNlTWFwLFxuICAgICAgICBicmVha0xpbmVDb2RlLFxuICAgICAgICBuZWVkSW5kZW50XG4gICAgfSk7XG4gICAgZ2VuZXJhdG9yLnB1c2gobW9kZSA9PT0gJ25vcm1hbCcgPyBgZnVuY3Rpb24gX19tc2dfXyAoY3R4KSB7YCA6IGAoY3R4KSA9PiB7YCk7XG4gICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KTtcbiAgICBpZiAoaGVscGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBjb25zdCB7ICR7am9pbihoZWxwZXJzLm1hcChzID0+IGAke3N9OiBfJHtzfWApLCAnLCAnKX0gfSA9IGN0eGApO1xuICAgICAgICBnZW5lcmF0b3IubmV3bGluZSgpO1xuICAgIH1cbiAgICBnZW5lcmF0b3IucHVzaChgcmV0dXJuIGApO1xuICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIGFzdCk7XG4gICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQpO1xuICAgIGdlbmVyYXRvci5wdXNoKGB9YCk7XG4gICAgZGVsZXRlIGFzdC5oZWxwZXJzO1xuICAgIGNvbnN0IHsgY29kZSwgbWFwIH0gPSBnZW5lcmF0b3IuY29udGV4dCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzdCxcbiAgICAgICAgY29kZSxcbiAgICAgICAgbWFwOiBtYXAgPyBtYXAudG9KU09OKCkgOiB1bmRlZmluZWQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIGJhc2VDb21waWxlKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYXNzaWduZWRPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBjb25zdCBqaXQgPSAhIWFzc2lnbmVkT3B0aW9ucy5qaXQ7XG4gICAgY29uc3QgZW5hbGJlTWluaWZ5ID0gISFhc3NpZ25lZE9wdGlvbnMubWluaWZ5O1xuICAgIGNvbnN0IGVuYW1iZU9wdGltaXplID0gYXNzaWduZWRPcHRpb25zLm9wdGltaXplID09IG51bGwgPyB0cnVlIDogYXNzaWduZWRPcHRpb25zLm9wdGltaXplO1xuICAgIC8vIHBhcnNlIHNvdXJjZSBjb2Rlc1xuICAgIGNvbnN0IHBhcnNlciA9IGNyZWF0ZVBhcnNlcihhc3NpZ25lZE9wdGlvbnMpO1xuICAgIGNvbnN0IGFzdCA9IHBhcnNlci5wYXJzZShzb3VyY2UpO1xuICAgIGlmICghaml0KSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybSBBU1RzXG4gICAgICAgIHRyYW5zZm9ybShhc3QsIGFzc2lnbmVkT3B0aW9ucyk7XG4gICAgICAgIC8vIGdlbmVyYXRlIGphdmFzY3JpcHQgY29kZXNcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlKGFzdCwgYXNzaWduZWRPcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG9wdGltaXplIEFTVHNcbiAgICAgICAgZW5hbWJlT3B0aW1pemUgJiYgb3B0aW1pemUoYXN0KTtcbiAgICAgICAgLy8gbWluaW1pemUgQVNUc1xuICAgICAgICBlbmFsYmVNaW5pZnkgJiYgbWluaWZ5KGFzdCk7XG4gICAgICAgIC8vIEluIEpJVCBtb2RlLCBubyBhc3QgdHJhbnNmb3JtLCBubyBjb2RlIGdlbmVyYXRpb24uXG4gICAgICAgIHJldHVybiB7IGFzdCwgY29kZTogJycgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IENvbXBpbGVFcnJvckNvZGVzLCBFUlJPUl9ET01BSU4kMiBhcyBFUlJPUl9ET01BSU4sIExPQ0FUSU9OX1NUVUIsIGJhc2VDb21waWxlLCBjcmVhdGVDb21waWxlRXJyb3IsIGNyZWF0ZUxvY2F0aW9uLCBjcmVhdGVQYXJzZXIsIGNyZWF0ZVBvc2l0aW9uLCBkZWZhdWx0T25FcnJvciwgZGV0ZWN0SHRtbFRhZywgZXJyb3JNZXNzYWdlcyB9O1xuIiwiLyohXG4gICogY29yZS1iYXNlIHY5LjEwLjFcbiAgKiAoYykgMjAyNCBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuaW1wb3J0IHsgZ2V0R2xvYmFsVGhpcywgaXNPYmplY3QsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNQbGFpbk9iamVjdCwgYXNzaWduLCBqb2luLCB0b0Rpc3BsYXlTdHJpbmcsIGlzQXJyYXksIGZvcm1hdCBhcyBmb3JtYXQkMSwgaW5jcmVtZW50ZXIsIGlzUHJvbWlzZSwgaXNCb29sZWFuLCB3YXJuLCBpc1JlZ0V4cCwgd2Fybk9uY2UsIGVzY2FwZUh0bWwsIGluQnJvd3NlciwgbWFyaywgbWVhc3VyZSwgaXNFbXB0eU9iamVjdCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXksIGlzRGF0ZSB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XG5pbXBvcnQgeyBDb21waWxlRXJyb3JDb2RlcywgY3JlYXRlQ29tcGlsZUVycm9yLCBkZXRlY3RIdG1sVGFnLCBkZWZhdWx0T25FcnJvciwgYmFzZUNvbXBpbGUgYXMgYmFzZUNvbXBpbGUkMSB9IGZyb20gJ0BpbnRsaWZ5L21lc3NhZ2UtY29tcGlsZXInO1xuZXhwb3J0IHsgQ29tcGlsZUVycm9yQ29kZXMsIGNyZWF0ZUNvbXBpbGVFcnJvciB9IGZyb20gJ0BpbnRsaWZ5L21lc3NhZ2UtY29tcGlsZXInO1xuXG4vKipcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxuICogaXN0YW5idWwtaWdub3JlLW5leHRcbiAqL1xuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9KSVRfQ09NUElMQVRJT05fXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfRFJPUF9NRVNTQUdFX0NPTVBJTEVSX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX0RST1BfTUVTU0FHRV9DT01QSUxFUl9fID0gZmFsc2U7XG4gICAgfVxufVxuXG5jb25zdCBwYXRoU3RhdGVNYWNoaW5lID0gIFtdO1xucGF0aFN0YXRlTWFjaGluZVswIC8qIFN0YXRlcy5CRUZPUkVfUEFUSCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzAgLyogU3RhdGVzLkJFRk9SRV9QQVRIICovXSxcbiAgICBbXCJpXCIgLyogUGF0aENoYXJUeXBlcy5JREVOVCAqL106IFszIC8qIFN0YXRlcy5JTl9JREVOVCAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL10sXG4gICAgW1wiW1wiIC8qIFBhdGhDaGFyVHlwZXMuTEVGVF9CUkFDS0VUICovXTogWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IFs3IC8qIFN0YXRlcy5BRlRFUl9QQVRIICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbMSAvKiBTdGF0ZXMuSU5fUEFUSCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzEgLyogU3RhdGVzLklOX1BBVEggKi9dLFxuICAgIFtcIi5cIiAvKiBQYXRoQ2hhclR5cGVzLkRPVCAqL106IFsyIC8qIFN0YXRlcy5CRUZPUkVfSURFTlQgKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqL10sXG4gICAgW1wib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBTdGF0ZXMuQUZURVJfUEFUSCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqL10sXG4gICAgW1wiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIjBcIiAvKiBQYXRoQ2hhclR5cGVzLlpFUk8gKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dXG59O1xucGF0aFN0YXRlTWFjaGluZVszIC8qIFN0YXRlcy5JTl9JREVOVCAqL10gPSB7XG4gICAgW1wiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIjBcIiAvKiBQYXRoQ2hhclR5cGVzLlpFUk8gKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqL106IFsxIC8qIFN0YXRlcy5JTl9QQVRIICovLCAxIC8qIEFjdGlvbnMuUFVTSCAqL10sXG4gICAgW1wiLlwiIC8qIFBhdGhDaGFyVHlwZXMuRE9UICovXTogWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqLywgMSAvKiBBY3Rpb25zLlBVU0ggKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLywgMSAvKiBBY3Rpb25zLlBVU0ggKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogWzcgLyogU3RhdGVzLkFGVEVSX1BBVEggKi8sIDEgLyogQWN0aW9ucy5QVVNIICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi9dID0ge1xuICAgIFtcIidcIiAvKiBQYXRoQ2hhclR5cGVzLlNJTkdMRV9RVU9URSAqL106IFs1IC8qIFN0YXRlcy5JTl9TSU5HTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIlxcXCJcIiAvKiBQYXRoQ2hhclR5cGVzLkRPVUJMRV9RVU9URSAqL106IFs2IC8qIFN0YXRlcy5JTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFtcbiAgICAgICAgNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sXG4gICAgICAgIDIgLyogQWN0aW9ucy5JTkNfU1VCX1BBVEhfREVQVEggKi9cbiAgICBdLFxuICAgIFtcIl1cIiAvKiBQYXRoQ2hhclR5cGVzLlJJR0hUX0JSQUNLRVQgKi9dOiBbMSAvKiBTdGF0ZXMuSU5fUEFUSCAqLywgMyAvKiBBY3Rpb25zLlBVU0hfU1VCX1BBVEggKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogOCAvKiBTdGF0ZXMuRVJST1IgKi8sXG4gICAgW1wibFwiIC8qIFBhdGhDaGFyVHlwZXMuRUxTRSAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzUgLyogU3RhdGVzLklOX1NJTkdMRV9RVU9URSAqL10gPSB7XG4gICAgW1wiJ1wiIC8qIFBhdGhDaGFyVHlwZXMuU0lOR0xFX1FVT1RFICovXTogWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IDggLyogU3RhdGVzLkVSUk9SICovLFxuICAgIFtcImxcIiAvKiBQYXRoQ2hhclR5cGVzLkVMU0UgKi9dOiBbNSAvKiBTdGF0ZXMuSU5fU0lOR0xFX1FVT1RFICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovXSA9IHtcbiAgICBbXCJcXFwiXCIgLyogUGF0aENoYXJUeXBlcy5ET1VCTEVfUVVPVEUgKi9dOiBbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogOCAvKiBTdGF0ZXMuRVJST1IgKi8sXG4gICAgW1wibFwiIC8qIFBhdGhDaGFyVHlwZXMuRUxTRSAqL106IFs2IC8qIFN0YXRlcy5JTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dXG59O1xuLyoqXG4gKiBDaGVjayBpZiBhbiBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCB2YWx1ZS5cbiAqL1xuY29uc3QgbGl0ZXJhbFZhbHVlUkUgPSAvXlxccz8oPzp0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xuZnVuY3Rpb24gaXNMaXRlcmFsKGV4cCkge1xuICAgIHJldHVybiBsaXRlcmFsVmFsdWVSRS50ZXN0KGV4cCk7XG59XG4vKipcbiAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHN0cmlwUXVvdGVzKHN0cikge1xuICAgIGNvbnN0IGEgPSBzdHIuY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiBhID09PSBiICYmIChhID09PSAweDIyIHx8IGEgPT09IDB4MjcpID8gc3RyLnNsaWNlKDEsIC0xKSA6IHN0cjtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgY2hhcmFjdGVyIGluIGEga2V5cGF0aC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGNoKSB7XG4gICAgaWYgKGNoID09PSB1bmRlZmluZWQgfHwgY2ggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi87XG4gICAgfVxuICAgIGNvbnN0IGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIDB4NWI6IC8vIFtcbiAgICAgICAgY2FzZSAweDVkOiAvLyBdXG4gICAgICAgIGNhc2UgMHgyZTogLy8gLlxuICAgICAgICBjYXNlIDB4MjI6IC8vIFwiXG4gICAgICAgIGNhc2UgMHgyNzogLy8gJ1xuICAgICAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgICBjYXNlIDB4NWY6IC8vIF9cbiAgICAgICAgY2FzZSAweDI0OiAvLyAkXG4gICAgICAgIGNhc2UgMHgyZDogLy8gLVxuICAgICAgICAgICAgcmV0dXJuIFwiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi87XG4gICAgICAgIGNhc2UgMHgwOTogLy8gVGFiIChIVClcbiAgICAgICAgY2FzZSAweDBhOiAvLyBOZXdsaW5lIChMRilcbiAgICAgICAgY2FzZSAweDBkOiAvLyBSZXR1cm4gKENSKVxuICAgICAgICBjYXNlIDB4YTA6IC8vIE5vLWJyZWFrIHNwYWNlIChOQlNQKVxuICAgICAgICBjYXNlIDB4ZmVmZjogLy8gQnl0ZSBPcmRlciBNYXJrIChCT00pXG4gICAgICAgIGNhc2UgMHgyMDI4OiAvLyBMaW5lIFNlcGFyYXRvciAoTFMpXG4gICAgICAgIGNhc2UgMHgyMDI5OiAvLyBQYXJhZ3JhcGggU2VwYXJhdG9yIChQUylcbiAgICAgICAgICAgIHJldHVybiBcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqLztcbiAgICB9XG4gICAgcmV0dXJuIFwiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi87XG59XG4vKipcbiAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xuICogYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuIE90aGVyd2lzZSBwcmVwZW5kIHRoZVxuICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxuICovXG5mdW5jdGlvbiBmb3JtYXRTdWJQYXRoKHBhdGgpIHtcbiAgICBjb25zdCB0cmltbWVkID0gcGF0aC50cmltKCk7XG4gICAgLy8gaW52YWxpZCBsZWFkaW5nIDBcbiAgICBpZiAocGF0aC5jaGFyQXQoMCkgPT09ICcwJyAmJiBpc05hTihwYXJzZUludChwYXRoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNMaXRlcmFsKHRyaW1tZWQpXG4gICAgICAgID8gc3RyaXBRdW90ZXModHJpbW1lZClcbiAgICAgICAgOiBcIipcIiAvKiBQYXRoQ2hhclR5cGVzLkFTVEFSSVNLICovICsgdHJpbW1lZDtcbn1cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHNlZ21lbnRzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgbGV0IG1vZGUgPSAwIC8qIFN0YXRlcy5CRUZPUkVfUEFUSCAqLztcbiAgICBsZXQgc3ViUGF0aERlcHRoID0gMDtcbiAgICBsZXQgYztcbiAgICBsZXQga2V5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgbGV0IG5ld0NoYXI7XG4gICAgbGV0IHR5cGU7XG4gICAgbGV0IHRyYW5zaXRpb247XG4gICAgbGV0IGFjdGlvbjtcbiAgICBsZXQgdHlwZU1hcDtcbiAgICBjb25zdCBhY3Rpb25zID0gW107XG4gICAgYWN0aW9uc1swIC8qIEFjdGlvbnMuQVBQRU5EICovXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBrZXkgPSBuZXdDaGFyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ICs9IG5ld0NoYXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGFjdGlvbnNbMSAvKiBBY3Rpb25zLlBVU0ggKi9dID0gKCkgPT4ge1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBhY3Rpb25zWzIgLyogQWN0aW9ucy5JTkNfU1VCX1BBVEhfREVQVEggKi9dID0gKCkgPT4ge1xuICAgICAgICBhY3Rpb25zWzAgLyogQWN0aW9ucy5BUFBFTkQgKi9dKCk7XG4gICAgICAgIHN1YlBhdGhEZXB0aCsrO1xuICAgIH07XG4gICAgYWN0aW9uc1szIC8qIEFjdGlvbnMuUFVTSF9TVUJfUEFUSCAqL10gPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdWJQYXRoRGVwdGggPiAwKSB7XG4gICAgICAgICAgICBzdWJQYXRoRGVwdGgtLTtcbiAgICAgICAgICAgIG1vZGUgPSA0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLztcbiAgICAgICAgICAgIGFjdGlvbnNbMCAvKiBBY3Rpb25zLkFQUEVORCAqL10oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YlBhdGhEZXB0aCA9IDA7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBmb3JtYXRTdWJQYXRoKGtleSk7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGlvbnNbMSAvKiBBY3Rpb25zLlBVU0ggKi9dKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIG1heWJlVW5lc2NhcGVRdW90ZSgpIHtcbiAgICAgICAgY29uc3QgbmV4dENoYXIgPSBwYXRoW2luZGV4ICsgMV07XG4gICAgICAgIGlmICgobW9kZSA9PT0gNSAvKiBTdGF0ZXMuSU5fU0lOR0xFX1FVT1RFICovICYmXG4gICAgICAgICAgICBuZXh0Q2hhciA9PT0gXCInXCIgLyogUGF0aENoYXJUeXBlcy5TSU5HTEVfUVVPVEUgKi8pIHx8XG4gICAgICAgICAgICAobW9kZSA9PT0gNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovICYmXG4gICAgICAgICAgICAgICAgbmV4dENoYXIgPT09IFwiXFxcIlwiIC8qIFBhdGhDaGFyVHlwZXMuRE9VQkxFX1FVT1RFICovKSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIG5ld0NoYXIgPSAnXFxcXCcgKyBuZXh0Q2hhcjtcbiAgICAgICAgICAgIGFjdGlvbnNbMCAvKiBBY3Rpb25zLkFQUEVORCAqL10oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChtb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGMgPSBwYXRoW2luZGV4XTtcbiAgICAgICAgaWYgKGMgPT09ICdcXFxcJyAmJiBtYXliZVVuZXNjYXBlUXVvdGUoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IGdldFBhdGhDaGFyVHlwZShjKTtcbiAgICAgICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XG4gICAgICAgIHRyYW5zaXRpb24gPSB0eXBlTWFwW3R5cGVdIHx8IHR5cGVNYXBbXCJsXCIgLyogUGF0aENoYXJUeXBlcy5FTFNFICovXSB8fCA4IC8qIFN0YXRlcy5FUlJPUiAqLztcbiAgICAgICAgLy8gY2hlY2sgcGFyc2UgZXJyb3JcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gPT09IDggLyogU3RhdGVzLkVSUk9SICovKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XG4gICAgICAgIGlmICh0cmFuc2l0aW9uWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbdHJhbnNpdGlvblsxXV07XG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmV3Q2hhciA9IGM7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbigpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHBhcnNlIGZpbmlzaFxuICAgICAgICBpZiAobW9kZSA9PT0gNyAvKiBTdGF0ZXMuQUZURVJfUEFUSCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBwYXRoIHRva2VuIGNhY2hlXG5jb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbi8qKlxuICoga2V5LXZhbHVlIG1lc3NhZ2UgcmVzb2x2ZXJcbiAqXG4gKiBAcmVtYXJrc1xuICogUmVzb2x2ZXMgbWVzc2FnZXMgd2l0aCB0aGUga2V5LXZhbHVlIHN0cnVjdHVyZS4gTm90ZSB0aGF0IG1lc3NhZ2VzIHdpdGggYSBoaWVyYXJjaGljYWwgc3RydWN0dXJlIHN1Y2ggYXMgb2JqZWN0cyBjYW5ub3QgYmUgcmVzb2x2ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gQSB0YXJnZXQgb2JqZWN0IHRvIGJlIHJlc29sdmVkIHdpdGggcGF0aFxuICogQHBhcmFtIHBhdGggLSBBIHtAbGluayBQYXRoIHwgcGF0aH0gdG8gcmVzb2x2ZSB0aGUgdmFsdWUgb2YgbWVzc2FnZVxuICpcbiAqIEByZXR1cm5zIEEgcmVzb2x2ZWQge0BsaW5rIFBhdGhWYWx1ZSB8IHBhdGggdmFsdWV9XG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVXaXRoS2V5VmFsdWUob2JqLCBwYXRoKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iaikgPyBvYmpbcGF0aF0gOiBudWxsO1xufVxuLyoqXG4gKiBtZXNzYWdlIHJlc29sdmVyXG4gKlxuICogQHJlbWFya3NcbiAqIFJlc29sdmVzIG1lc3NhZ2VzLiBtZXNzYWdlcyB3aXRoIGEgaGllcmFyY2hpY2FsIHN0cnVjdHVyZSBzdWNoIGFzIG9iamVjdHMgY2FuIGJlIHJlc29sdmVkLiBUaGlzIHJlc29sdmVyIGlzIHVzZWQgaW4gVnVlSTE4biBhcyBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSBvYmogLSBBIHRhcmdldCBvYmplY3QgdG8gYmUgcmVzb2x2ZWQgd2l0aCBwYXRoXG4gKiBAcGFyYW0gcGF0aCAtIEEge0BsaW5rIFBhdGggfCBwYXRofSB0byByZXNvbHZlIHRoZSB2YWx1ZSBvZiBtZXNzYWdlXG4gKlxuICogQHJldHVybnMgQSByZXNvbHZlZCB7QGxpbmsgUGF0aFZhbHVlIHwgcGF0aCB2YWx1ZX1cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKG9iaiwgcGF0aCkge1xuICAgIC8vIGNoZWNrIG9iamVjdFxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gcGFyc2UgcGF0aFxuICAgIGxldCBoaXQgPSBjYWNoZS5nZXQocGF0aCk7XG4gICAgaWYgKCFoaXQpIHtcbiAgICAgICAgaGl0ID0gcGFyc2UocGF0aCk7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChwYXRoLCBoaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNoZWNrIGhpdFxuICAgIGlmICghaGl0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyByZXNvbHZlIHBhdGggdmFsdWVcbiAgICBjb25zdCBsZW4gPSBoaXQubGVuZ3RoO1xuICAgIGxldCBsYXN0ID0gb2JqO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBjb25zdCB2YWwgPSBsYXN0W2hpdFtpXV07XG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGFzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QgPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbmNvbnN0IERFRkFVTFRfTU9ESUZJRVIgPSAoc3RyKSA9PiBzdHI7XG5jb25zdCBERUZBVUxUX01FU1NBR0UgPSAoY3R4KSA9PiAnJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuY29uc3QgREVGQVVMVF9NRVNTQUdFX0RBVEFfVFlQRSA9ICd0ZXh0JztcbmNvbnN0IERFRkFVTFRfTk9STUFMSVpFID0gKHZhbHVlcykgPT4gdmFsdWVzLmxlbmd0aCA9PT0gMCA/ICcnIDogam9pbih2YWx1ZXMpO1xuY29uc3QgREVGQVVMVF9JTlRFUlBPTEFURSA9IHRvRGlzcGxheVN0cmluZztcbmZ1bmN0aW9uIHBsdXJhbERlZmF1bHQoY2hvaWNlLCBjaG9pY2VzTGVuZ3RoKSB7XG4gICAgY2hvaWNlID0gTWF0aC5hYnMoY2hvaWNlKTtcbiAgICBpZiAoY2hvaWNlc0xlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGNob2ljZVxuICAgICAgICAgICAgPyBjaG9pY2UgPiAxXG4gICAgICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICAgICAgOiAwXG4gICAgICAgICAgICA6IDE7XG4gICAgfVxuICAgIHJldHVybiBjaG9pY2UgPyBNYXRoLm1pbihjaG9pY2UsIDIpIDogMDtcbn1cbmZ1bmN0aW9uIGdldFBsdXJhbEluZGV4KG9wdGlvbnMpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBpbmRleCA9IGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsSW5kZXgpXG4gICAgICAgID8gb3B0aW9ucy5wbHVyYWxJbmRleFxuICAgICAgICA6IC0xO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBvcHRpb25zLm5hbWVkICYmIChpc051bWJlcihvcHRpb25zLm5hbWVkLmNvdW50KSB8fCBpc051bWJlcihvcHRpb25zLm5hbWVkLm4pKVxuICAgICAgICA/IGlzTnVtYmVyKG9wdGlvbnMubmFtZWQuY291bnQpXG4gICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQuY291bnRcbiAgICAgICAgICAgIDogaXNOdW1iZXIob3B0aW9ucy5uYW1lZC5uKVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5uYW1lZC5uXG4gICAgICAgICAgICAgICAgOiBpbmRleFxuICAgICAgICA6IGluZGV4O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcy5jb3VudCkge1xuICAgICAgICBwcm9wcy5jb3VudCA9IHBsdXJhbEluZGV4O1xuICAgIH1cbiAgICBpZiAoIXByb3BzLm4pIHtcbiAgICAgICAgcHJvcHMubiA9IHBsdXJhbEluZGV4O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lc3NhZ2VDb250ZXh0KG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlO1xuICAgIGNvbnN0IHBsdXJhbEluZGV4ID0gZ2V0UGx1cmFsSW5kZXgob3B0aW9ucyk7XG4gICAgY29uc3QgcGx1cmFsUnVsZSA9IGlzT2JqZWN0KG9wdGlvbnMucGx1cmFsUnVsZXMpICYmXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbihvcHRpb25zLnBsdXJhbFJ1bGVzW2xvY2FsZV0pXG4gICAgICAgID8gb3B0aW9ucy5wbHVyYWxSdWxlc1tsb2NhbGVdXG4gICAgICAgIDogcGx1cmFsRGVmYXVsdDtcbiAgICBjb25zdCBvcmdQbHVyYWxSdWxlID0gaXNPYmplY3Qob3B0aW9ucy5wbHVyYWxSdWxlcykgJiZcbiAgICAgICAgaXNTdHJpbmcobG9jYWxlKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcbiAgICAgICAgPyBwbHVyYWxEZWZhdWx0XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBsdXJhbCA9IChtZXNzYWdlcykgPT4ge1xuICAgICAgICByZXR1cm4gbWVzc2FnZXNbcGx1cmFsUnVsZShwbHVyYWxJbmRleCwgbWVzc2FnZXMubGVuZ3RoLCBvcmdQbHVyYWxSdWxlKV07XG4gICAgfTtcbiAgICBjb25zdCBfbGlzdCA9IG9wdGlvbnMubGlzdCB8fCBbXTtcbiAgICBjb25zdCBsaXN0ID0gKGluZGV4KSA9PiBfbGlzdFtpbmRleF07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBfbmFtZWQgPSBvcHRpb25zLm5hbWVkIHx8IHt9O1xuICAgIGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsSW5kZXgpICYmIG5vcm1hbGl6ZU5hbWVkKHBsdXJhbEluZGV4LCBfbmFtZWQpO1xuICAgIGNvbnN0IG5hbWVkID0gKGtleSkgPT4gX25hbWVkW2tleV07XG4gICAgZnVuY3Rpb24gbWVzc2FnZShrZXkpIHtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGNvbnN0IG1zZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5tZXNzYWdlcylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlcyhrZXkpXG4gICAgICAgICAgICA6IGlzT2JqZWN0KG9wdGlvbnMubWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VzW2tleV1cbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gIW1zZ1xuICAgICAgICAgICAgPyBvcHRpb25zLnBhcmVudFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnQubWVzc2FnZShrZXkpIC8vIHJlc29sdmUgZnJvbSBwYXJlbnQgbWVzc2FnZXNcbiAgICAgICAgICAgICAgICA6IERFRkFVTFRfTUVTU0FHRVxuICAgICAgICAgICAgOiBtc2c7XG4gICAgfVxuICAgIGNvbnN0IF9tb2RpZmllciA9IChuYW1lKSA9PiBvcHRpb25zLm1vZGlmaWVyc1xuICAgICAgICA/IG9wdGlvbnMubW9kaWZpZXJzW25hbWVdXG4gICAgICAgIDogREVGQVVMVF9NT0RJRklFUjtcbiAgICBjb25zdCBub3JtYWxpemUgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMucHJvY2Vzc29yKSAmJiBpc0Z1bmN0aW9uKG9wdGlvbnMucHJvY2Vzc29yLm5vcm1hbGl6ZSlcbiAgICAgICAgPyBvcHRpb25zLnByb2Nlc3Nvci5ub3JtYWxpemVcbiAgICAgICAgOiBERUZBVUxUX05PUk1BTElaRTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZSA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpICYmXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5wcm9jZXNzb3IuaW50ZXJwb2xhdGUpXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3IuaW50ZXJwb2xhdGVcbiAgICAgICAgOiBERUZBVUxUX0lOVEVSUE9MQVRFO1xuICAgIGNvbnN0IHR5cGUgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMucHJvY2Vzc29yKSAmJiBpc1N0cmluZyhvcHRpb25zLnByb2Nlc3Nvci50eXBlKVxuICAgICAgICA/IG9wdGlvbnMucHJvY2Vzc29yLnR5cGVcbiAgICAgICAgOiBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFO1xuICAgIGNvbnN0IGxpbmtlZCA9IChrZXksIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgW2FyZzEsIGFyZzJdID0gYXJncztcbiAgICAgICAgbGV0IHR5cGUgPSAndGV4dCc7XG4gICAgICAgIGxldCBtb2RpZmllciA9ICcnO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyID0gYXJnMS5tb2RpZmllciB8fCBtb2RpZmllcjtcbiAgICAgICAgICAgICAgICB0eXBlID0gYXJnMS50eXBlIHx8IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhhcmcxKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyID0gYXJnMSB8fCBtb2RpZmllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBhcmcxIHx8IG1vZGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IGFyZzIgfHwgdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXQgPSBtZXNzYWdlKGtleSkoY3R4KTtcbiAgICAgICAgY29uc3QgbXNnID0gXG4gICAgICAgIC8vIFRoZSBtZXNzYWdlIGluIHZub2RlIHJlc29sdmVkIHdpdGggbGlua2VkIGFyZSByZXR1cm5lZCBhcyBhbiBhcnJheSBieSBwcm9jZXNzb3Iubm9tYWxpemVcbiAgICAgICAgdHlwZSA9PT0gJ3Zub2RlJyAmJiBpc0FycmF5KHJldCkgJiYgbW9kaWZpZXJcbiAgICAgICAgICAgID8gcmV0WzBdXG4gICAgICAgICAgICA6IHJldDtcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVyID8gX21vZGlmaWVyKG1vZGlmaWVyKShtc2csIHR5cGUpIDogbXNnO1xuICAgIH07XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgICBbXCJsaXN0XCIgLyogSGVscGVyTmFtZU1hcC5MSVNUICovXTogbGlzdCxcbiAgICAgICAgW1wibmFtZWRcIiAvKiBIZWxwZXJOYW1lTWFwLk5BTUVEICovXTogbmFtZWQsXG4gICAgICAgIFtcInBsdXJhbFwiIC8qIEhlbHBlck5hbWVNYXAuUExVUkFMICovXTogcGx1cmFsLFxuICAgICAgICBbXCJsaW5rZWRcIiAvKiBIZWxwZXJOYW1lTWFwLkxJTktFRCAqL106IGxpbmtlZCxcbiAgICAgICAgW1wibWVzc2FnZVwiIC8qIEhlbHBlck5hbWVNYXAuTUVTU0FHRSAqL106IG1lc3NhZ2UsXG4gICAgICAgIFtcInR5cGVcIiAvKiBIZWxwZXJOYW1lTWFwLlRZUEUgKi9dOiB0eXBlLFxuICAgICAgICBbXCJpbnRlcnBvbGF0ZVwiIC8qIEhlbHBlck5hbWVNYXAuSU5URVJQT0xBVEUgKi9dOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgW1wibm9ybWFsaXplXCIgLyogSGVscGVyTmFtZU1hcC5OT1JNQUxJWkUgKi9dOiBub3JtYWxpemUsXG4gICAgICAgIFtcInZhbHVlc1wiIC8qIEhlbHBlck5hbWVNYXAuVkFMVUVTICovXTogYXNzaWduKHt9LCBfbGlzdCwgX25hbWVkKVxuICAgIH07XG4gICAgcmV0dXJuIGN0eDtcbn1cblxubGV0IGRldnRvb2xzID0gbnVsbDtcbmZ1bmN0aW9uIHNldERldlRvb2xzSG9vayhob29rKSB7XG4gICAgZGV2dG9vbHMgPSBob29rO1xufVxuZnVuY3Rpb24gZ2V0RGV2VG9vbHNIb29rKCkge1xuICAgIHJldHVybiBkZXZ0b29scztcbn1cbmZ1bmN0aW9uIGluaXRJMThuRGV2VG9vbHMoaTE4biwgdmVyc2lvbiwgbWV0YSkge1xuICAgIC8vIFRPRE86IHF1ZXVlIGlmIGRldnRvb2xzIGlzIHVuZGVmaW5lZFxuICAgIGRldnRvb2xzICYmXG4gICAgICAgIGRldnRvb2xzLmVtaXQoXCJpMThuOmluaXRcIiAvKiBJbnRsaWZ5RGV2VG9vbHNIb29rcy5JMThuSW5pdCAqLywge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgaTE4bixcbiAgICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgICBtZXRhXG4gICAgICAgIH0pO1xufVxuY29uc3QgdHJhbnNsYXRlRGV2VG9vbHMgPSAvKiAjX19QVVJFX18qLyBjcmVhdGVEZXZUb29sc0hvb2soXCJmdW5jdGlvbjp0cmFuc2xhdGVcIiAvKiBJbnRsaWZ5RGV2VG9vbHNIb29rcy5GdW5jdGlvblRyYW5zbGF0ZSAqLyk7XG5mdW5jdGlvbiBjcmVhdGVEZXZUb29sc0hvb2soaG9vaykge1xuICAgIHJldHVybiAocGF5bG9hZHMpID0+IGRldnRvb2xzICYmIGRldnRvb2xzLmVtaXQoaG9vaywgcGF5bG9hZHMpO1xufVxuXG5jb25zdCBDb3JlV2FybkNvZGVzID0ge1xuICAgIE5PVF9GT1VORF9LRVk6IDEsXG4gICAgRkFMTEJBQ0tfVE9fVFJBTlNMQVRFOiAyLFxuICAgIENBTk5PVF9GT1JNQVRfTlVNQkVSOiAzLFxuICAgIEZBTExCQUNLX1RPX05VTUJFUl9GT1JNQVQ6IDQsXG4gICAgQ0FOTk9UX0ZPUk1BVF9EQVRFOiA1LFxuICAgIEZBTExCQUNLX1RPX0RBVEVfRk9STUFUOiA2LFxuICAgIEVYUEVSSU1FTlRBTF9DVVNUT01fTUVTU0FHRV9DT01QSUxFUjogNyxcbiAgICBfX0VYVEVORF9QT0lOVF9fOiA4XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3Qgd2Fybk1lc3NhZ2VzID0ge1xuICAgIFtDb3JlV2FybkNvZGVzLk5PVF9GT1VORF9LRVldOiBgTm90IGZvdW5kICd7a2V5fScga2V5IGluICd7bG9jYWxlfScgbG9jYWxlIG1lc3NhZ2VzLmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fVFJBTlNMQVRFXTogYEZhbGwgYmFjayB0byB0cmFuc2xhdGUgJ3trZXl9JyBrZXkgd2l0aCAne3RhcmdldH0nIGxvY2FsZS5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkNBTk5PVF9GT1JNQVRfTlVNQkVSXTogYENhbm5vdCBmb3JtYXQgYSBudW1iZXIgdmFsdWUgZHVlIHRvIG5vdCBzdXBwb3J0ZWQgSW50bC5OdW1iZXJGb3JtYXQuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19OVU1CRVJfRk9STUFUXTogYEZhbGwgYmFjayB0byBudW1iZXIgZm9ybWF0ICd7a2V5fScga2V5IHdpdGggJ3t0YXJnZXR9JyBsb2NhbGUuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5DQU5OT1RfRk9STUFUX0RBVEVdOiBgQ2Fubm90IGZvcm1hdCBhIGRhdGUgdmFsdWUgZHVlIHRvIG5vdCBzdXBwb3J0ZWQgSW50bC5EYXRlVGltZUZvcm1hdC5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX0RBVEVfRk9STUFUXTogYEZhbGwgYmFjayB0byBkYXRldGltZSBmb3JtYXQgJ3trZXl9JyBrZXkgd2l0aCAne3RhcmdldH0nIGxvY2FsZS5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkVYUEVSSU1FTlRBTF9DVVNUT01fTUVTU0FHRV9DT01QSUxFUl06IGBUaGlzIHByb2plY3QgaXMgdXNpbmcgQ3VzdG9tIE1lc3NhZ2UgQ29tcGlsZXIsIHdoaWNoIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLiBJdCBtYXkgcmVjZWl2ZSBicmVha2luZyBjaGFuZ2VzIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5gXG59O1xuZnVuY3Rpb24gZ2V0V2Fybk1lc3NhZ2UoY29kZSwgLi4uYXJncykge1xuICAgIHJldHVybiBmb3JtYXQkMSh3YXJuTWVzc2FnZXNbY29kZV0sIC4uLmFyZ3MpO1xufVxuXG5jb25zdCBjb2RlID0gQ29tcGlsZUVycm9yQ29kZXMuX19FWFRFTkRfUE9JTlRfXztcbmNvbnN0IGluYyA9IGluY3JlbWVudGVyKGNvZGUpO1xuY29uc3QgQ29yZUVycm9yQ29kZXMgPSB7XG4gICAgSU5WQUxJRF9BUkdVTUVOVDogY29kZSwgLy8gMThcbiAgICBJTlZBTElEX0RBVEVfQVJHVU1FTlQ6IGluYygpLCAvLyAxOVxuICAgIElOVkFMSURfSVNPX0RBVEVfQVJHVU1FTlQ6IGluYygpLCAvLyAyMFxuICAgIE5PVF9TVVBQT1JUX05PTl9TVFJJTkdfTUVTU0FHRTogaW5jKCksIC8vIDIxXG4gICAgTk9UX1NVUFBPUlRfTE9DQUxFX1BST01JU0VfVkFMVUU6IGluYygpLCAvLyAyMlxuICAgIE5PVF9TVVBQT1JUX0xPQ0FMRV9BU1lOQ19GVU5DVElPTjogaW5jKCksIC8vIDIzXG4gICAgTk9UX1NVUFBPUlRfTE9DQUxFX1RZUEU6IGluYygpLCAvLyAyNFxuICAgIF9fRVhURU5EX1BPSU5UX186IGluYygpIC8vIDI1XG59O1xuZnVuY3Rpb24gY3JlYXRlQ29yZUVycm9yKGNvZGUpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHsgbWVzc2FnZXM6IGVycm9yTWVzc2FnZXMgfSA6IHVuZGVmaW5lZCk7XG59XG4vKiogQGludGVybmFsICovXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xuICAgIFtDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UXTogJ0ludmFsaWQgYXJndW1lbnRzJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9EQVRFX0FSR1VNRU5UXTogJ1RoZSBkYXRlIHByb3ZpZGVkIGlzIGFuIGludmFsaWQgRGF0ZSBvYmplY3QuJyArXG4gICAgICAgICdNYWtlIHN1cmUgeW91ciBEYXRlIHJlcHJlc2VudHMgYSB2YWxpZCBkYXRlLicsXG4gICAgW0NvcmVFcnJvckNvZGVzLklOVkFMSURfSVNPX0RBVEVfQVJHVU1FTlRdOiAnVGhlIGFyZ3VtZW50IHByb3ZpZGVkIGlzIG5vdCBhIHZhbGlkIElTTyBkYXRlIHN0cmluZycsXG4gICAgW0NvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX05PTl9TVFJJTkdfTUVTU0FHRV06ICdOb3Qgc3VwcG9ydCBub24tc3RyaW5nIG1lc3NhZ2UnLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfUFJPTUlTRV9WQUxVRV06ICdjYW5ub3Qgc3VwcG9ydCBwcm9taXNlIHZhbHVlJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX0FTWU5DX0ZVTkNUSU9OXTogJ2Nhbm5vdCBzdXBwb3J0IGFzeW5jIGZ1bmN0aW9uJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX1RZUEVdOiAnY2Fubm90IHN1cHBvcnQgbG9jYWxlIHR5cGUnXG59O1xuXG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBnZXRMb2NhbGUoY29udGV4dCwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zLmxvY2FsZSAhPSBudWxsXG4gICAgICAgID8gcmVzb2x2ZUxvY2FsZShvcHRpb25zLmxvY2FsZSlcbiAgICAgICAgOiByZXNvbHZlTG9jYWxlKGNvbnRleHQubG9jYWxlKTtcbn1cbmxldCBfcmVzb2x2ZUxvY2FsZTtcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHJlc29sdmVMb2NhbGUobG9jYWxlKSB7XG4gICAgaWYgKGlzU3RyaW5nKGxvY2FsZSkpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGxvY2FsZSkpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGUucmVzb2x2ZWRPbmNlICYmIF9yZXNvbHZlTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3Jlc29sdmVMb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb2NhbGUuY29uc3RydWN0b3IubmFtZSA9PT0gJ0Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSBsb2NhbGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKHJlc29sdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfUFJPTUlTRV9WQUxVRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAoX3Jlc29sdmVMb2NhbGUgPSByZXNvbHZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfQVNZTkNfRlVOQ1RJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9UWVBFKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRmFsbGJhY2sgd2l0aCBzaW1wbGUgaW1wbGVtZW5hdGlvblxuICpcbiAqIEByZW1hcmtzXG4gKiBBIGZhbGxiYWNrIGxvY2FsZSBmdW5jdGlvbiBpbXBsZW1lbnRlZCB3aXRoIGEgc2ltcGxlIGZhbGxiYWNrIGFsZ29yaXRobS5cbiAqXG4gKiBCYXNpY2FsbHksIGl0IHJldHVybnMgdGhlIHZhbHVlIGFzIHNwZWNpZmllZCBpbiB0aGUgYGZhbGxiYWNrTG9jYWxlYCBwcm9wcywgYW5kIGlzIHByb2Nlc3NlZCB3aXRoIHRoZSBmYWxsYmFjayBpbnNpZGUgaW50bGlmeS5cbiAqXG4gKiBAcGFyYW0gY3R4IC0gQSB7QGxpbmsgQ29yZUNvbnRleHQgfCBjb250ZXh0fVxuICogQHBhcmFtIGZhbGxiYWNrIC0gQSB7QGxpbmsgRmFsbGJhY2tMb2NhbGUgfCBmYWxsYmFjayBsb2NhbGV9XG4gKiBAcGFyYW0gc3RhcnQgLSBBIHN0YXJ0aW5nIHtAbGluayBMb2NhbGUgfCBsb2NhbGV9XG4gKlxuICogQHJldHVybnMgRmFsbGJhY2sgbG9jYWxlc1xuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5mdW5jdGlvbiBmYWxsYmFja1dpdGhTaW1wbGUoY3R4LCBmYWxsYmFjaywgc3RhcnQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbikge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBbLi4ubmV3IFNldChbXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIC4uLihpc0FycmF5KGZhbGxiYWNrKVxuICAgICAgICAgICAgICAgID8gZmFsbGJhY2tcbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KGZhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICA/IE9iamVjdC5rZXlzKGZhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICA6IGlzU3RyaW5nKGZhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbZmFsbGJhY2tdXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtzdGFydF0pXG4gICAgICAgIF0pXTtcbn1cbi8qKlxuICogRmFsbGJhY2sgd2l0aCBsb2NhbGUgY2hhaW5cbiAqXG4gKiBAcmVtYXJrc1xuICogQSBmYWxsYmFjayBsb2NhbGUgZnVuY3Rpb24gaW1wbGVtZW50ZWQgd2l0aCBhIGZhbGxiYWNrIGNoYWluIGFsZ29yaXRobS4gSXQncyB1c2VkIGluIFZ1ZUkxOG4gYXMgZGVmYXVsdC5cbiAqXG4gKiBAcGFyYW0gY3R4IC0gQSB7QGxpbmsgQ29yZUNvbnRleHQgfCBjb250ZXh0fVxuICogQHBhcmFtIGZhbGxiYWNrIC0gQSB7QGxpbmsgRmFsbGJhY2tMb2NhbGUgfCBmYWxsYmFjayBsb2NhbGV9XG4gKiBAcGFyYW0gc3RhcnQgLSBBIHN0YXJ0aW5nIHtAbGluayBMb2NhbGUgfCBsb2NhbGV9XG4gKlxuICogQHJldHVybnMgRmFsbGJhY2sgbG9jYWxlc1xuICpcbiAqIEBWdWVJMThuU2VlIFtGYWxsYmFja2luZ10oLi4vZ3VpZGUvZXNzZW50aWFscy9mYWxsYmFjaylcbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gZmFsbGJhY2tXaXRoTG9jYWxlQ2hhaW4oY3R4LCBmYWxsYmFjaywgc3RhcnQpIHtcbiAgICBjb25zdCBzdGFydExvY2FsZSA9IGlzU3RyaW5nKHN0YXJ0KSA/IHN0YXJ0IDogREVGQVVMVF9MT0NBTEU7XG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcbiAgICBpZiAoIWNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlKSB7XG4gICAgICAgIGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBsZXQgY2hhaW4gPSBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZS5nZXQoc3RhcnRMb2NhbGUpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgICAgY2hhaW4gPSBbXTtcbiAgICAgICAgLy8gZmlyc3QgYmxvY2sgZGVmaW5lZCBieSBzdGFydFxuICAgICAgICBsZXQgYmxvY2sgPSBbc3RhcnRdO1xuICAgICAgICAvLyB3aGlsZSBhbnkgaW50ZXJ2ZW5pbmcgYmxvY2sgZm91bmRcbiAgICAgICAgd2hpbGUgKGlzQXJyYXkoYmxvY2spKSB7XG4gICAgICAgICAgICBibG9jayA9IGFwcGVuZEJsb2NrVG9DaGFpbihjaGFpbiwgYmxvY2ssIGZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgLy8gbGFzdCBibG9jayBkZWZpbmVkIGJ5IGRlZmF1bHRcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBpc0FycmF5KGZhbGxiYWNrKSB8fCAhaXNQbGFpbk9iamVjdChmYWxsYmFjaylcbiAgICAgICAgICAgID8gZmFsbGJhY2tcbiAgICAgICAgICAgIDogZmFsbGJhY2tbJ2RlZmF1bHQnXVxuICAgICAgICAgICAgICAgID8gZmFsbGJhY2tbJ2RlZmF1bHQnXVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLy8gY29udmVydCBkZWZhdWx0cyB0byBhcnJheVxuICAgICAgICBibG9jayA9IGlzU3RyaW5nKGRlZmF1bHRzKSA/IFtkZWZhdWx0c10gOiBkZWZhdWx0cztcbiAgICAgICAgaWYgKGlzQXJyYXkoYmxvY2spKSB7XG4gICAgICAgICAgICBhcHBlbmRCbG9ja1RvQ2hhaW4oY2hhaW4sIGJsb2NrLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUuc2V0KHN0YXJ0TG9jYWxlLCBjaGFpbik7XG4gICAgfVxuICAgIHJldHVybiBjaGFpbjtcbn1cbmZ1bmN0aW9uIGFwcGVuZEJsb2NrVG9DaGFpbihjaGFpbiwgYmxvY2ssIGJsb2Nrcykge1xuICAgIGxldCBmb2xsb3cgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2subGVuZ3RoICYmIGlzQm9vbGVhbihmb2xsb3cpOyBpKyspIHtcbiAgICAgICAgY29uc3QgbG9jYWxlID0gYmxvY2tbaV07XG4gICAgICAgIGlmIChpc1N0cmluZyhsb2NhbGUpKSB7XG4gICAgICAgICAgICBmb2xsb3cgPSBhcHBlbmRMb2NhbGVUb0NoYWluKGNoYWluLCBibG9ja1tpXSwgYmxvY2tzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9sbG93O1xufVxuZnVuY3Rpb24gYXBwZW5kTG9jYWxlVG9DaGFpbihjaGFpbiwgbG9jYWxlLCBibG9ja3MpIHtcbiAgICBsZXQgZm9sbG93O1xuICAgIGNvbnN0IHRva2VucyA9IGxvY2FsZS5zcGxpdCgnLScpO1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9rZW5zLmpvaW4oJy0nKTtcbiAgICAgICAgZm9sbG93ID0gYXBwZW5kSXRlbVRvQ2hhaW4oY2hhaW4sIHRhcmdldCwgYmxvY2tzKTtcbiAgICAgICAgdG9rZW5zLnNwbGljZSgtMSwgMSk7XG4gICAgfSB3aGlsZSAodG9rZW5zLmxlbmd0aCAmJiBmb2xsb3cgPT09IHRydWUpO1xuICAgIHJldHVybiBmb2xsb3c7XG59XG5mdW5jdGlvbiBhcHBlbmRJdGVtVG9DaGFpbihjaGFpbiwgdGFyZ2V0LCBibG9ja3MpIHtcbiAgICBsZXQgZm9sbG93ID0gZmFsc2U7XG4gICAgaWYgKCFjaGFpbi5pbmNsdWRlcyh0YXJnZXQpKSB7XG4gICAgICAgIGZvbGxvdyA9IHRydWU7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGZvbGxvdyA9IHRhcmdldFt0YXJnZXQubGVuZ3RoIC0gMV0gIT09ICchJztcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZSA9IHRhcmdldC5yZXBsYWNlKC8hL2csICcnKTtcbiAgICAgICAgICAgIGNoYWluLnB1c2gobG9jYWxlKTtcbiAgICAgICAgICAgIGlmICgoaXNBcnJheShibG9ja3MpIHx8IGlzUGxhaW5PYmplY3QoYmxvY2tzKSkgJiZcbiAgICAgICAgICAgICAgICBibG9ja3NbbG9jYWxlXSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgZm9sbG93ID0gYmxvY2tzW2xvY2FsZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvbGxvdztcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBJbnRsaWZ5IGNvcmUtYmFzZSB2ZXJzaW9uXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgVkVSU0lPTiA9ICc5LjEwLjEnO1xuY29uc3QgTk9UX1JFT1NMVkVEID0gLTE7XG5jb25zdCBERUZBVUxUX0xPQ0FMRSA9ICdlbi1VUyc7XG5jb25zdCBNSVNTSU5HX1JFU09MVkVfVkFMVUUgPSAnJztcbmNvbnN0IGNhcGl0YWxpemUgPSAoc3RyKSA9PiBgJHtzdHIuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtzdHIuc3Vic3RyKDEpfWA7XG5mdW5jdGlvbiBnZXREZWZhdWx0TGlua2VkTW9kaWZpZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwcGVyOiAodmFsLCB0eXBlKSA9PiB7XG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAndGV4dCcgJiYgaXNTdHJpbmcodmFsKVxuICAgICAgICAgICAgICAgID8gdmFsLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICAgICA6IHR5cGUgPT09ICd2bm9kZScgJiYgaXNPYmplY3QodmFsKSAmJiAnX192X2lzVk5vZGUnIGluIHZhbFxuICAgICAgICAgICAgICAgICAgICA/IHZhbC5jaGlsZHJlbi50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIDogdmFsO1xuICAgICAgICB9LFxuICAgICAgICBsb3dlcjogKHZhbCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ3RleHQnICYmIGlzU3RyaW5nKHZhbClcbiAgICAgICAgICAgICAgICA/IHZhbC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgOiB0eXBlID09PSAndm5vZGUnICYmIGlzT2JqZWN0KHZhbCkgJiYgJ19fdl9pc1ZOb2RlJyBpbiB2YWxcbiAgICAgICAgICAgICAgICAgICAgPyB2YWwuY2hpbGRyZW4udG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICA6IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgY2FwaXRhbGl6ZTogKHZhbCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgPT09ICd0ZXh0JyAmJiBpc1N0cmluZyh2YWwpXG4gICAgICAgICAgICAgICAgPyBjYXBpdGFsaXplKHZhbClcbiAgICAgICAgICAgICAgICA6IHR5cGUgPT09ICd2bm9kZScgJiYgaXNPYmplY3QodmFsKSAmJiAnX192X2lzVk5vZGUnIGluIHZhbFxuICAgICAgICAgICAgICAgICAgICA/IGNhcGl0YWxpemUodmFsLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICA6IHZhbCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxubGV0IF9jb21waWxlcjtcbmZ1bmN0aW9uIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyKGNvbXBpbGVyKSB7XG4gICAgX2NvbXBpbGVyID0gY29tcGlsZXI7XG59XG5sZXQgX3Jlc29sdmVyO1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgbWVzc2FnZSByZXNvbHZlclxuICpcbiAqIEBwYXJhbSByZXNvbHZlciAtIEEge0BsaW5rIE1lc3NhZ2VSZXNvbHZlcn0gZnVuY3Rpb25cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIocmVzb2x2ZXIpIHtcbiAgICBfcmVzb2x2ZXIgPSByZXNvbHZlcjtcbn1cbmxldCBfZmFsbGJhY2tlcjtcbi8qKlxuICogUmVnaXN0ZXIgdGhlIGxvY2FsZSBmYWxsYmFja2VyXG4gKlxuICogQHBhcmFtIGZhbGxiYWNrZXIgLSBBIHtAbGluayBMb2NhbGVGYWxsYmFja2VyfSBmdW5jdGlvblxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5mdW5jdGlvbiByZWdpc3RlckxvY2FsZUZhbGxiYWNrZXIoZmFsbGJhY2tlcikge1xuICAgIF9mYWxsYmFja2VyID0gZmFsbGJhY2tlcjtcbn1cbi8vIEFkZGl0aW9uYWwgTWV0YSBmb3IgSW50bGlmeSBEZXZUb29sc1xubGV0IF9hZGRpdGlvbmFsTWV0YSA9ICBudWxsO1xuLyogI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IHNldEFkZGl0aW9uYWxNZXRhID0gKG1ldGEpID0+IHtcbiAgICBfYWRkaXRpb25hbE1ldGEgPSBtZXRhO1xufTtcbi8qICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBnZXRBZGRpdGlvbmFsTWV0YSA9ICgpID0+IF9hZGRpdGlvbmFsTWV0YTtcbmxldCBfZmFsbGJhY2tDb250ZXh0ID0gbnVsbDtcbmNvbnN0IHNldEZhbGxiYWNrQ29udGV4dCA9IChjb250ZXh0KSA9PiB7XG4gICAgX2ZhbGxiYWNrQ29udGV4dCA9IGNvbnRleHQ7XG59O1xuY29uc3QgZ2V0RmFsbGJhY2tDb250ZXh0ID0gKCkgPT4gX2ZhbGxiYWNrQ29udGV4dDtcbi8vIElEIGZvciBDb3JlQ29udGV4dFxubGV0IF9jaWQgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQ29yZUNvbnRleHQob3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gc2V0dXAgb3B0aW9uc1xuICAgIGNvbnN0IG9uV2FybiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5vbldhcm4pID8gb3B0aW9ucy5vbldhcm4gOiB3YXJuO1xuICAgIGNvbnN0IHZlcnNpb24gPSBpc1N0cmluZyhvcHRpb25zLnZlcnNpb24pID8gb3B0aW9ucy52ZXJzaW9uIDogVkVSU0lPTjtcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgfHwgaXNGdW5jdGlvbihvcHRpb25zLmxvY2FsZSlcbiAgICAgICAgPyBvcHRpb25zLmxvY2FsZVxuICAgICAgICA6IERFRkFVTFRfTE9DQUxFO1xuICAgIGNvbnN0IF9sb2NhbGUgPSBpc0Z1bmN0aW9uKGxvY2FsZSkgPyBERUZBVUxUX0xPQ0FMRSA6IGxvY2FsZTtcbiAgICBjb25zdCBmYWxsYmFja0xvY2FsZSA9IGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBvcHRpb25zLmZhbGxiYWNrTG9jYWxlID09PSBmYWxzZVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcbiAgICAgICAgOiBfbG9jYWxlO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gaXNQbGFpbk9iamVjdChvcHRpb25zLm1lc3NhZ2VzKVxuICAgICAgICA/IG9wdGlvbnMubWVzc2FnZXNcbiAgICAgICAgOiB7IFtfbG9jYWxlXToge30gfTtcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKVxuICAgICAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xuICAgICAgICAgICAgOiB7IFtfbG9jYWxlXToge30gfVxuICAgICAgICA7XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5udW1iZXJGb3JtYXRzKVxuICAgICAgICAgICAgPyBvcHRpb25zLm51bWJlckZvcm1hdHNcbiAgICAgICAgICAgIDogeyBbX2xvY2FsZV06IHt9IH1cbiAgICAgICAgO1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IGFzc2lnbih7fSwgb3B0aW9ucy5tb2RpZmllcnMgfHwge30sIGdldERlZmF1bHRMaW5rZWRNb2RpZmllcnMoKSk7XG4gICAgY29uc3QgcGx1cmFsUnVsZXMgPSBvcHRpb25zLnBsdXJhbFJ1bGVzIHx8IHt9O1xuICAgIGNvbnN0IG1pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiBudWxsO1xuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMubWlzc2luZ1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZmFsbGJhY2tGb3JtYXQ7XG4gICAgY29uc3QgdW5yZXNvbHZpbmcgPSAhIW9wdGlvbnMudW5yZXNvbHZpbmc7XG4gICAgY29uc3QgcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxuICAgICAgICA6IG51bGw7XG4gICAgY29uc3QgcHJvY2Vzc29yID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgPyBvcHRpb25zLnByb2Nlc3NvciA6IG51bGw7XG4gICAgY29uc3Qgd2Fybkh0bWxNZXNzYWdlID0gaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxuICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyO1xuICAgIGNvbnN0IG1lc3NhZ2VDb21waWxlciA9IGlzRnVuY3Rpb24ob3B0aW9ucy5tZXNzYWdlQ29tcGlsZXIpXG4gICAgICAgID8gb3B0aW9ucy5tZXNzYWdlQ29tcGlsZXJcbiAgICAgICAgOiBfY29tcGlsZXI7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgIWZhbHNlICYmXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5tZXNzYWdlQ29tcGlsZXIpKSB7XG4gICAgICAgIHdhcm5PbmNlKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuRVhQRVJJTUVOVEFMX0NVU1RPTV9NRVNTQUdFX0NPTVBJTEVSKSk7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VSZXNvbHZlciA9IGlzRnVuY3Rpb24ob3B0aW9ucy5tZXNzYWdlUmVzb2x2ZXIpXG4gICAgICAgID8gb3B0aW9ucy5tZXNzYWdlUmVzb2x2ZXJcbiAgICAgICAgOiBfcmVzb2x2ZXIgfHwgcmVzb2x2ZVdpdGhLZXlWYWx1ZTtcbiAgICBjb25zdCBsb2NhbGVGYWxsYmFja2VyID0gaXNGdW5jdGlvbihvcHRpb25zLmxvY2FsZUZhbGxiYWNrZXIpXG4gICAgICAgID8gb3B0aW9ucy5sb2NhbGVGYWxsYmFja2VyXG4gICAgICAgIDogX2ZhbGxiYWNrZXIgfHwgZmFsbGJhY2tXaXRoU2ltcGxlO1xuICAgIGNvbnN0IGZhbGxiYWNrQ29udGV4dCA9IGlzT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tDb250ZXh0KVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tDb250ZXh0XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIC8vIHNldHVwIGludGVybmFsIG9wdGlvbnNcbiAgICBjb25zdCBpbnRlcm5hbE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGNvbnN0IF9fZGF0ZXRpbWVGb3JtYXR0ZXJzID0gaXNPYmplY3QoaW50ZXJuYWxPcHRpb25zLl9fZGF0ZXRpbWVGb3JtYXR0ZXJzKVxuICAgICAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX19kYXRldGltZUZvcm1hdHRlcnNcbiAgICAgICAgICAgIDogbmV3IE1hcCgpXG4gICAgICAgIDtcbiAgICBjb25zdCBfX251bWJlckZvcm1hdHRlcnMgPSBpc09iamVjdChpbnRlcm5hbE9wdGlvbnMuX19udW1iZXJGb3JtYXR0ZXJzKVxuICAgICAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX19udW1iZXJGb3JtYXR0ZXJzXG4gICAgICAgICAgICA6IG5ldyBNYXAoKVxuICAgICAgICA7XG4gICAgY29uc3QgX19tZXRhID0gaXNPYmplY3QoaW50ZXJuYWxPcHRpb25zLl9fbWV0YSkgPyBpbnRlcm5hbE9wdGlvbnMuX19tZXRhIDoge307XG4gICAgX2NpZCsrO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIGNpZDogX2NpZCxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBmYWxsYmFja0xvY2FsZSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIG1vZGlmaWVycyxcbiAgICAgICAgcGx1cmFsUnVsZXMsXG4gICAgICAgIG1pc3NpbmcsXG4gICAgICAgIG1pc3NpbmdXYXJuLFxuICAgICAgICBmYWxsYmFja1dhcm4sXG4gICAgICAgIGZhbGxiYWNrRm9ybWF0LFxuICAgICAgICB1bnJlc29sdmluZyxcbiAgICAgICAgcG9zdFRyYW5zbGF0aW9uLFxuICAgICAgICBwcm9jZXNzb3IsXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcbiAgICAgICAgZXNjYXBlUGFyYW1ldGVyLFxuICAgICAgICBtZXNzYWdlQ29tcGlsZXIsXG4gICAgICAgIG1lc3NhZ2VSZXNvbHZlcixcbiAgICAgICAgbG9jYWxlRmFsbGJhY2tlcixcbiAgICAgICAgZmFsbGJhY2tDb250ZXh0LFxuICAgICAgICBvbldhcm4sXG4gICAgICAgIF9fbWV0YVxuICAgIH07XG4gICAge1xuICAgICAgICBjb250ZXh0LmRhdGV0aW1lRm9ybWF0cyA9IGRhdGV0aW1lRm9ybWF0cztcbiAgICAgICAgY29udGV4dC5udW1iZXJGb3JtYXRzID0gbnVtYmVyRm9ybWF0cztcbiAgICAgICAgY29udGV4dC5fX2RhdGV0aW1lRm9ybWF0dGVycyA9IF9fZGF0ZXRpbWVGb3JtYXR0ZXJzO1xuICAgICAgICBjb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVycyA9IF9fbnVtYmVyRm9ybWF0dGVycztcbiAgICB9XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29udGV4dC5fX3ZfZW1pdHRlciA9XG4gICAgICAgICAgICBpbnRlcm5hbE9wdGlvbnMuX192X2VtaXR0ZXIgIT0gbnVsbFxuICAgICAgICAgICAgICAgID8gaW50ZXJuYWxPcHRpb25zLl9fdl9lbWl0dGVyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBpbml0STE4bkRldlRvb2xzKGNvbnRleHQsIHZlcnNpb24sIF9fbWV0YSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2ssIGtleSkge1xuICAgIHJldHVybiBmYWxsYmFjayBpbnN0YW5jZW9mIFJlZ0V4cCA/IGZhbGxiYWNrLnRlc3Qoa2V5KSA6IGZhbGxiYWNrO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gaXNUcmFuc2xhdGVNaXNzaW5nV2FybihtaXNzaW5nLCBrZXkpIHtcbiAgICByZXR1cm4gbWlzc2luZyBpbnN0YW5jZW9mIFJlZ0V4cCA/IG1pc3NpbmcudGVzdChrZXkpIDogbWlzc2luZztcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGhhbmRsZU1pc3NpbmcoY29udGV4dCwga2V5LCBsb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKSB7XG4gICAgY29uc3QgeyBtaXNzaW5nLCBvbldhcm4gfSA9IGNvbnRleHQ7XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgIGlmIChlbWl0dGVyKSB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJtaXNzaW5nXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NSVNTSU5HICovLCB7XG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtaXNzaW5nICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IG1pc3NpbmcoY29udGV4dCwgbG9jYWxlLCBrZXksIHR5cGUpO1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcocmV0KSA/IHJldCA6IGtleTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNUcmFuc2xhdGVNaXNzaW5nV2FybihtaXNzaW5nV2Fybiwga2V5KSkge1xuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuTk9UX0ZPVU5EX0tFWSwgeyBrZXksIGxvY2FsZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiB1cGRhdGVGYWxsYmFja0xvY2FsZShjdHgsIGxvY2FsZSwgZmFsbGJhY2spIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xuICAgIGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlID0gbmV3IE1hcCgpO1xuICAgIGN0eC5sb2NhbGVGYWxsYmFja2VyKGN0eCwgZmFsbGJhY2ssIGxvY2FsZSk7XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuZnVuY3Rpb24gZm9ybWF0KGFzdCkge1xuICAgIGNvbnN0IG1zZyA9IChjdHgpID0+IGZvcm1hdFBhcnRzKGN0eCwgYXN0KTtcbiAgICByZXR1cm4gbXNnO1xufVxuZnVuY3Rpb24gZm9ybWF0UGFydHMoY3R4LCBhc3QpIHtcbiAgICBjb25zdCBib2R5ID0gYXN0LmIgfHwgYXN0LmJvZHk7XG4gICAgaWYgKChib2R5LnQgfHwgYm9keS50eXBlKSA9PT0gMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovKSB7XG4gICAgICAgIGNvbnN0IHBsdXJhbCA9IGJvZHk7XG4gICAgICAgIGNvbnN0IGNhc2VzID0gcGx1cmFsLmMgfHwgcGx1cmFsLmNhc2VzO1xuICAgICAgICByZXR1cm4gY3R4LnBsdXJhbChjYXNlcy5yZWR1Y2UoKG1lc3NhZ2VzLCBjKSA9PiBbXG4gICAgICAgICAgICAuLi5tZXNzYWdlcyxcbiAgICAgICAgICAgIGZvcm1hdE1lc3NhZ2VQYXJ0cyhjdHgsIGMpXG4gICAgICAgIF0sIFtdKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9ybWF0TWVzc2FnZVBhcnRzKGN0eCwgYm9keSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0TWVzc2FnZVBhcnRzKGN0eCwgbm9kZSkge1xuICAgIGNvbnN0IF9zdGF0aWMgPSBub2RlLnMgfHwgbm9kZS5zdGF0aWM7XG4gICAgaWYgKF9zdGF0aWMpIHtcbiAgICAgICAgcmV0dXJuIGN0eC50eXBlID09PSAndGV4dCdcbiAgICAgICAgICAgID8gX3N0YXRpY1xuICAgICAgICAgICAgOiBjdHgubm9ybWFsaXplKFtfc3RhdGljXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IChub2RlLmkgfHwgbm9kZS5pdGVtcykucmVkdWNlKChhY20sIGMpID0+IFsuLi5hY20sIGZvcm1hdE1lc3NhZ2VQYXJ0KGN0eCwgYyldLCBbXSk7XG4gICAgICAgIHJldHVybiBjdHgubm9ybWFsaXplKG1lc3NhZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNZXNzYWdlUGFydChjdHgsIG5vZGUpIHtcbiAgICBjb25zdCB0eXBlID0gbm9kZS50IHx8IG5vZGUudHlwZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAzIC8qIE5vZGVUeXBlcy5UZXh0ICovOlxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IG5vZGU7XG4gICAgICAgICAgICByZXR1cm4gKHRleHQudiB8fCB0ZXh0LnZhbHVlKTtcbiAgICAgICAgY2FzZSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovOlxuICAgICAgICAgICAgY29uc3QgbGl0ZXJhbCA9IG5vZGU7XG4gICAgICAgICAgICByZXR1cm4gKGxpdGVyYWwudiB8fCBsaXRlcmFsLnZhbHVlKTtcbiAgICAgICAgY2FzZSA0IC8qIE5vZGVUeXBlcy5OYW1lZCAqLzpcbiAgICAgICAgICAgIGNvbnN0IG5hbWVkID0gbm9kZTtcbiAgICAgICAgICAgIHJldHVybiBjdHguaW50ZXJwb2xhdGUoY3R4Lm5hbWVkKG5hbWVkLmsgfHwgbmFtZWQua2V5KSk7XG4gICAgICAgIGNhc2UgNSAvKiBOb2RlVHlwZXMuTGlzdCAqLzpcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5pbnRlcnBvbGF0ZShjdHgubGlzdChsaXN0LmkgIT0gbnVsbCA/IGxpc3QuaSA6IGxpc3QuaW5kZXgpKTtcbiAgICAgICAgY2FzZSA2IC8qIE5vZGVUeXBlcy5MaW5rZWQgKi86XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSBub2RlO1xuICAgICAgICAgICAgY29uc3QgbW9kaWZpZXIgPSBsaW5rZWQubSB8fCBsaW5rZWQubW9kaWZpZXI7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmxpbmtlZChmb3JtYXRNZXNzYWdlUGFydChjdHgsIGxpbmtlZC5rIHx8IGxpbmtlZC5rZXkpLCBtb2RpZmllciA/IGZvcm1hdE1lc3NhZ2VQYXJ0KGN0eCwgbW9kaWZpZXIpIDogdW5kZWZpbmVkLCBjdHgudHlwZSk7XG4gICAgICAgIGNhc2UgNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovOlxuICAgICAgICAgICAgY29uc3QgbGlua2VkS2V5ID0gbm9kZTtcbiAgICAgICAgICAgIHJldHVybiAobGlua2VkS2V5LnYgfHwgbGlua2VkS2V5LnZhbHVlKTtcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLzpcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZE1vZGlmaWVyID0gbm9kZTtcbiAgICAgICAgICAgIHJldHVybiAobGlua2VkTW9kaWZpZXIudiB8fCBsaW5rZWRNb2RpZmllci52YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuaGFuZGxlZCBub2RlIHR5cGUgb24gZm9ybWF0IG1lc3NhZ2UgcGFydDogJHt0eXBlfWApO1xuICAgIH1cbn1cblxuY29uc3QgV0FSTl9NRVNTQUdFID0gYERldGVjdGVkIEhUTUwgaW4gJ3tzb3VyY2V9JyBtZXNzYWdlLiBSZWNvbW1lbmQgbm90IHVzaW5nIEhUTUwgbWVzc2FnZXMgdG8gYXZvaWQgWFNTLmA7XG5mdW5jdGlvbiBjaGVja0h0bWxNZXNzYWdlKHNvdXJjZSwgd2Fybkh0bWxNZXNzYWdlKSB7XG4gICAgaWYgKHdhcm5IdG1sTWVzc2FnZSAmJiBkZXRlY3RIdG1sVGFnKHNvdXJjZSkpIHtcbiAgICAgICAgd2Fybihmb3JtYXQkMShXQVJOX01FU1NBR0UsIHsgc291cmNlIH0pKTtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0T25DYWNoZUtleSA9IChtZXNzYWdlKSA9PiBtZXNzYWdlO1xubGV0IGNvbXBpbGVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBjbGVhckNvbXBpbGVDYWNoZSgpIHtcbiAgICBjb21waWxlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuY29uc3QgaXNNZXNzYWdlQVNUID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJlxuICAgICh2YWwudCA9PT0gMCB8fCB2YWwudHlwZSA9PT0gMCkgJiZcbiAgICAoJ2InIGluIHZhbCB8fCAnYm9keScgaW4gdmFsKTtcbmZ1bmN0aW9uIGJhc2VDb21waWxlKG1lc3NhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIGVycm9yIGRldGVjdGluZyBvbiBjb21waWxlXG4gICAgbGV0IGRldGVjdEVycm9yID0gZmFsc2U7XG4gICAgY29uc3Qgb25FcnJvciA9IG9wdGlvbnMub25FcnJvciB8fCBkZWZhdWx0T25FcnJvcjtcbiAgICBvcHRpb25zLm9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIGRldGVjdEVycm9yID0gdHJ1ZTtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgIH07XG4gICAgLy8gY29tcGlsZSB3aXRoIG1lc2FzZ2UtY29tcGlsZXJcbiAgICByZXR1cm4geyAuLi5iYXNlQ29tcGlsZSQxKG1lc3NhZ2UsIG9wdGlvbnMpLCBkZXRlY3RFcnJvciB9O1xufVxuLyogI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGNvbXBpbGVUb0Z1bmN0aW9uID0gKG1lc3NhZ2UsIGNvbnRleHQpID0+IHtcbiAgICBpZiAoIWlzU3RyaW5nKG1lc3NhZ2UpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9OT05fU1RSSU5HX01FU1NBR0UpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIC8vIGNoZWNrIEhUTUwgbWVzc2FnZVxuICAgICAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc0Jvb2xlYW4oY29udGV4dC53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IGNvbnRleHQud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0h0bWxNZXNzYWdlKG1lc3NhZ2UsIHdhcm5IdG1sTWVzc2FnZSk7XG4gICAgICAgIC8vIGNoZWNrIGNhY2hlc1xuICAgICAgICBjb25zdCBvbkNhY2hlS2V5ID0gY29udGV4dC5vbkNhY2hlS2V5IHx8IGRlZmF1bHRPbkNhY2hlS2V5O1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IG9uQ2FjaGVLZXkobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGNvbXBpbGVDYWNoZVtjYWNoZUtleV07XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcGlsZVxuICAgICAgICBjb25zdCB7IGNvZGUsIGRldGVjdEVycm9yIH0gPSBiYXNlQ29tcGlsZShtZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgLy8gZXZhbHVhdGUgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgbXNnID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtjb2RlfWApKCk7XG4gICAgICAgIC8vIGlmIG9jY3VycmVkIGNvbXBpbGUgZXJyb3IsIGRvbid0IGNhY2hlXG4gICAgICAgIHJldHVybiAhZGV0ZWN0RXJyb3JcbiAgICAgICAgICAgID8gKGNvbXBpbGVDYWNoZVtjYWNoZUtleV0gPSBtc2cpXG4gICAgICAgICAgICA6IG1zZztcbiAgICB9XG59O1xuZnVuY3Rpb24gY29tcGlsZShtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgaWYgKCgoX19JTlRMSUZZX0pJVF9DT01QSUxBVElPTl9fICYmICFfX0lOVExJRllfRFJPUF9NRVNTQUdFX0NPTVBJTEVSX18pKSAmJlxuICAgICAgICBpc1N0cmluZyhtZXNzYWdlKSkge1xuICAgICAgICAvLyBjaGVjayBIVE1MIG1lc3NhZ2VcbiAgICAgICAgY29uc3Qgd2Fybkh0bWxNZXNzYWdlID0gaXNCb29sZWFuKGNvbnRleHQud2Fybkh0bWxNZXNzYWdlKVxuICAgICAgICAgICAgPyBjb250ZXh0Lndhcm5IdG1sTWVzc2FnZVxuICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hlY2tIdG1sTWVzc2FnZShtZXNzYWdlLCB3YXJuSHRtbE1lc3NhZ2UpO1xuICAgICAgICAvLyBjaGVjayBjYWNoZXNcbiAgICAgICAgY29uc3Qgb25DYWNoZUtleSA9IGNvbnRleHQub25DYWNoZUtleSB8fCBkZWZhdWx0T25DYWNoZUtleTtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBvbkNhY2hlS2V5KG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBjb21waWxlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXBpbGUgd2l0aCBKSVQgbW9kZVxuICAgICAgICBjb25zdCB7IGFzdCwgZGV0ZWN0RXJyb3IgfSA9IGJhc2VDb21waWxlKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICBsb2NhdGlvbjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpLFxuICAgICAgICAgICAgaml0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb21wb3NlIG1lc3NhZ2UgZnVuY3Rpb24gZnJvbSBBU1RcbiAgICAgICAgY29uc3QgbXNnID0gZm9ybWF0KGFzdCk7XG4gICAgICAgIC8vIGlmIG9jY3VycmVkIGNvbXBpbGUgZXJyb3IsIGRvbid0IGNhY2hlXG4gICAgICAgIHJldHVybiAhZGV0ZWN0RXJyb3JcbiAgICAgICAgICAgID8gKGNvbXBpbGVDYWNoZVtjYWNoZUtleV0gPSBtc2cpXG4gICAgICAgICAgICA6IG1zZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzTWVzc2FnZUFTVChtZXNzYWdlKSkge1xuICAgICAgICAgICAgd2FybihgdGhlIG1lc3NhZ2UgdGhhdCBpcyByZXNvbHZlIHdpdGgga2V5ICcke2NvbnRleHQua2V5fScgaXMgbm90IHN1cHBvcnRlZCBmb3Igaml0IGNvbXBpbGF0aW9uYCk7XG4gICAgICAgICAgICByZXR1cm4gKCgpID0+IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFTVCBjYXNlIChwYXNzZWQgZnJvbSBidW5kbGVyKVxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IG1lc3NhZ2UuY2FjaGVLZXk7XG4gICAgICAgIGlmIChjYWNoZUtleSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY29tcGlsZUNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcG9zZSBtZXNzYWdlIGZ1bmN0aW9uIGZyb20gbWVzc2FnZSAoQVNUKVxuICAgICAgICAgICAgcmV0dXJuIChjb21waWxlQ2FjaGVbY2FjaGVLZXldID1cbiAgICAgICAgICAgICAgICBmb3JtYXQobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgTk9PUF9NRVNTQUdFX0ZVTkNUSU9OID0gKCkgPT4gJyc7XG5jb25zdCBpc01lc3NhZ2VGdW5jdGlvbiA9ICh2YWwpID0+IGlzRnVuY3Rpb24odmFsKTtcbi8vIGltcGxlbWVudGF0aW9uIG9mIGB0cmFuc2xhdGVgIGZ1bmN0aW9uXG5mdW5jdGlvbiB0cmFuc2xhdGUoY29udGV4dCwgLi4uYXJncykge1xuICAgIGNvbnN0IHsgZmFsbGJhY2tGb3JtYXQsIHBvc3RUcmFuc2xhdGlvbiwgdW5yZXNvbHZpbmcsIG1lc3NhZ2VDb21waWxlciwgZmFsbGJhY2tMb2NhbGUsIG1lc3NhZ2VzIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IFtrZXksIG9wdGlvbnNdID0gcGFyc2VUcmFuc2xhdGVBcmdzKC4uLmFyZ3MpO1xuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxuICAgICAgICA6IGNvbnRleHQubWlzc2luZ1dhcm47XG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXG4gICAgICAgIDogY29udGV4dC5mYWxsYmFja1dhcm47XG4gICAgY29uc3QgZXNjYXBlUGFyYW1ldGVyID0gaXNCb29sZWFuKG9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyKVxuICAgICAgICA/IG9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyXG4gICAgICAgIDogY29udGV4dC5lc2NhcGVQYXJhbWV0ZXI7XG4gICAgY29uc3QgcmVzb2x2ZWRNZXNzYWdlID0gISFvcHRpb25zLnJlc29sdmVkTWVzc2FnZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBkZWZhdWx0TXNnT3JLZXkgPSBpc1N0cmluZyhvcHRpb25zLmRlZmF1bHQpIHx8IGlzQm9vbGVhbihvcHRpb25zLmRlZmF1bHQpIC8vIGRlZmF1bHQgYnkgZnVuY3Rpb24gb3B0aW9uXG4gICAgICAgID8gIWlzQm9vbGVhbihvcHRpb25zLmRlZmF1bHQpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZGVmYXVsdFxuICAgICAgICAgICAgOiAoIW1lc3NhZ2VDb21waWxlciA/ICgpID0+IGtleSA6IGtleSlcbiAgICAgICAgOiBmYWxsYmFja0Zvcm1hdCAvLyBkZWZhdWx0IGJ5IGBmYWxsYmFja0Zvcm1hdGAgb3B0aW9uXG4gICAgICAgICAgICA/ICghbWVzc2FnZUNvbXBpbGVyID8gKCkgPT4ga2V5IDoga2V5KVxuICAgICAgICAgICAgOiAnJztcbiAgICBjb25zdCBlbmFibGVEZWZhdWx0TXNnID0gZmFsbGJhY2tGb3JtYXQgfHwgZGVmYXVsdE1zZ09yS2V5ICE9PSAnJztcbiAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgLy8gZXNjYXBlIHBhcmFtc1xuICAgIGVzY2FwZVBhcmFtZXRlciAmJiBlc2NhcGVQYXJhbXMob3B0aW9ucyk7XG4gICAgLy8gcmVzb2x2ZSBtZXNzYWdlIGZvcm1hdFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBsZXQgW2Zvcm1hdFNjb3BlLCB0YXJnZXRMb2NhbGUsIG1lc3NhZ2VdID0gIXJlc29sdmVkTWVzc2FnZVxuICAgICAgICA/IHJlc29sdmVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgbG9jYWxlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2FybilcbiAgICAgICAgOiBbXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBtZXNzYWdlc1tsb2NhbGVdIHx8IHt9XG4gICAgICAgIF07XG4gICAgLy8gTk9URTpcbiAgICAvLyAgRml4IHRvIHdvcmsgYXJvdW5kIGBzc3JUcmFuc2Zyb21gIGJ1ZyBpbiBWaXRlLlxuICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzQzMDZcbiAgICAvLyAgVG8gZ2V0IGFyb3VuZCB0aGlzLCB1c2UgdGVtcG9yYXJ5IHZhcmlhYmxlcy5cbiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL251eHQvZnJhbWV3b3JrL2lzc3Vlcy8xNDYxI2lzc3VlY29tbWVudC05NTQ2MDYyNDNcbiAgICBsZXQgZm9ybWF0ID0gZm9ybWF0U2NvcGU7XG4gICAgLy8gaWYgeW91IHVzZSBkZWZhdWx0IG1lc3NhZ2UsIHNldCBpdCBhcyBtZXNzYWdlIGZvcm1hdCFcbiAgICBsZXQgY2FjaGVCYXNlS2V5ID0ga2V5O1xuICAgIGlmICghcmVzb2x2ZWRNZXNzYWdlICYmXG4gICAgICAgICEoaXNTdHJpbmcoZm9ybWF0KSB8fFxuICAgICAgICAgICAgaXNNZXNzYWdlQVNUKGZvcm1hdCkgfHxcbiAgICAgICAgICAgIGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpKSB7XG4gICAgICAgIGlmIChlbmFibGVEZWZhdWx0TXNnKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBkZWZhdWx0TXNnT3JLZXk7XG4gICAgICAgICAgICBjYWNoZUJhc2VLZXkgPSBmb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY2hlY2tpbmcgbWVzc2FnZSBmb3JtYXQgYW5kIHRhcmdldCBsb2NhbGVcbiAgICBpZiAoIXJlc29sdmVkTWVzc2FnZSAmJlxuICAgICAgICAoIShpc1N0cmluZyhmb3JtYXQpIHx8XG4gICAgICAgICAgICBpc01lc3NhZ2VBU1QoZm9ybWF0KSB8fFxuICAgICAgICAgICAgaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkgfHxcbiAgICAgICAgICAgICFpc1N0cmluZyh0YXJnZXRMb2NhbGUpKSkge1xuICAgICAgICByZXR1cm4gdW5yZXNvbHZpbmcgPyBOT1RfUkVPU0xWRUQgOiBrZXk7XG4gICAgfVxuICAgIC8vIFRPRE86IHJlZmFjdG9yXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1N0cmluZyhmb3JtYXQpICYmIGNvbnRleHQubWVzc2FnZUNvbXBpbGVyID09IG51bGwpIHtcbiAgICAgICAgd2FybihgVGhlIG1lc3NhZ2UgZm9ybWF0IGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZC4gYCArXG4gICAgICAgICAgICBgQmVjYXVzZSBtZXNzYWdlIGNvbXBpbGVyIGlzbid0IGluY2x1ZGVkLiBgICtcbiAgICAgICAgICAgIGBZb3UgbmVlZCB0byBwcmUtY29tcGlsYXRpb24gYWxsIG1lc3NhZ2UgZm9ybWF0LiBgICtcbiAgICAgICAgICAgIGBTbyB0cmFuc2xhdGUgZnVuY3Rpb24gcmV0dXJuICcke2tleX0nLmApO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICAvLyBzZXR1cCBjb21waWxlIGVycm9yIGRldGVjdGluZ1xuICAgIGxldCBvY2N1cnJlZCA9IGZhbHNlO1xuICAgIGNvbnN0IG9uRXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIG9jY3VycmVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8vIGNvbXBpbGUgbWVzc2FnZSBmb3JtYXRcbiAgICBjb25zdCBtc2cgPSAhaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxuICAgICAgICA/IGNvbXBpbGVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBmb3JtYXQsIGNhY2hlQmFzZUtleSwgb25FcnJvcilcbiAgICAgICAgOiBmb3JtYXQ7XG4gICAgLy8gaWYgb2NjdXJyZWQgY29tcGlsZSBlcnJvciwgcmV0dXJuIHRoZSBtZXNzYWdlIGZvcm1hdFxuICAgIGlmIChvY2N1cnJlZCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgIH1cbiAgICAvLyBldmFsdWF0ZSBtZXNzYWdlIHdpdGggY29udGV4dFxuICAgIGNvbnN0IGN0eE9wdGlvbnMgPSBnZXRNZXNzYWdlQ29udGV4dE9wdGlvbnMoY29udGV4dCwgdGFyZ2V0TG9jYWxlLCBtZXNzYWdlLCBvcHRpb25zKTtcbiAgICBjb25zdCBtc2dDb250ZXh0ID0gY3JlYXRlTWVzc2FnZUNvbnRleHQoY3R4T3B0aW9ucyk7XG4gICAgY29uc3QgbWVzc2FnZWQgPSBldmFsdWF0ZU1lc3NhZ2UoY29udGV4dCwgbXNnLCBtc2dDb250ZXh0KTtcbiAgICAvLyBpZiB1c2UgcG9zdCB0cmFuc2xhdGlvbiBvcHRpb24sIHByb2NlZWQgaXQgd2l0aCBoYW5kbGVyXG4gICAgY29uc3QgcmV0ID0gcG9zdFRyYW5zbGF0aW9uXG4gICAgICAgID8gcG9zdFRyYW5zbGF0aW9uKG1lc3NhZ2VkLCBrZXkpXG4gICAgICAgIDogbWVzc2FnZWQ7XG4gICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBjb25zdCBwYXlsb2FkcyA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGtleTogaXNTdHJpbmcoa2V5KVxuICAgICAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXG4gICAgICAgICAgICAgICAgICAgID8gZm9ybWF0LmtleVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgbG9jYWxlOiB0YXJnZXRMb2NhbGUgfHwgKGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAgICAgICAgICA/IGZvcm1hdC5sb2NhbGVcbiAgICAgICAgICAgICAgICA6ICcnKSxcbiAgICAgICAgICAgIGZvcm1hdDogaXNTdHJpbmcoZm9ybWF0KVxuICAgICAgICAgICAgICAgID8gZm9ybWF0XG4gICAgICAgICAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXG4gICAgICAgICAgICAgICAgICAgID8gZm9ybWF0LnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgbWVzc2FnZTogcmV0XG4gICAgICAgIH07XG4gICAgICAgIHBheWxvYWRzLm1ldGEgPSBhc3NpZ24oe30sIGNvbnRleHQuX19tZXRhLCBnZXRBZGRpdGlvbmFsTWV0YSgpIHx8IHt9KTtcbiAgICAgICAgdHJhbnNsYXRlRGV2VG9vbHMocGF5bG9hZHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gZXNjYXBlUGFyYW1zKG9wdGlvbnMpIHtcbiAgICBpZiAoaXNBcnJheShvcHRpb25zLmxpc3QpKSB7XG4gICAgICAgIG9wdGlvbnMubGlzdCA9IG9wdGlvbnMubGlzdC5tYXAoaXRlbSA9PiBpc1N0cmluZyhpdGVtKSA/IGVzY2FwZUh0bWwoaXRlbSkgOiBpdGVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucy5uYW1lZCkpIHtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5uYW1lZCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubmFtZWRba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm5hbWVkW2tleV0gPSBlc2NhcGVIdG1sKG9wdGlvbnMubmFtZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgbG9jYWxlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2Fybikge1xuICAgIGNvbnN0IHsgbWVzc2FnZXMsIG9uV2FybiwgbWVzc2FnZVJlc29sdmVyOiByZXNvbHZlVmFsdWUsIGxvY2FsZUZhbGxiYWNrZXIgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgbG9jYWxlcyA9IGxvY2FsZUZhbGxiYWNrZXIoY29udGV4dCwgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBtZXNzYWdlID0ge307XG4gICAgbGV0IHRhcmdldExvY2FsZTtcbiAgICBsZXQgZm9ybWF0ID0gbnVsbDtcbiAgICBsZXQgZnJvbSA9IGxvY2FsZTtcbiAgICBsZXQgdG8gPSBudWxsO1xuICAgIGNvbnN0IHR5cGUgPSAndHJhbnNsYXRlJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICBsb2NhbGUgIT09IHRhcmdldExvY2FsZSAmJlxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XG4gICAgICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19UUkFOU0xBVEUsIHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRMb2NhbGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuRkFMQkFDSyAqLywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICBtZXNzYWdlc1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgICAgIGxldCBzdGFydFRhZztcbiAgICAgICAgbGV0IGVuZFRhZztcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLXJlc29sdmUtc3RhcnQnO1xuICAgICAgICAgICAgZW5kVGFnID0gJ2ludGxpZnktbWVzc2FnZS1yZXNvbHZlLWVuZCc7XG4gICAgICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZm9ybWF0ID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSkpID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiBudWxsLCByZXNvbHZlIHdpdGggb2JqZWN0IGtleSBwYXRoXG4gICAgICAgICAgICBmb3JtYXQgPSBtZXNzYWdlW2tleV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQgJiYgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1yZXNvbHZlXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX1JFU09MVkUgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLXJlc29sdmVcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfUkVTT0xWRSAqLyxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xuICAgICAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcbiAgICAgICAgICAgICAgICBtZWFzdXJlKCdpbnRsaWZ5IG1lc3NhZ2UgcmVzb2x2ZScsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmluZyhmb3JtYXQpIHx8IGlzTWVzc2FnZUFTVChmb3JtYXQpIHx8IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1pc3NpbmdSZXQgPSBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBrZXksIHRhcmdldExvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpO1xuICAgICAgICBpZiAobWlzc2luZ1JldCAhPT0ga2V5KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBtaXNzaW5nUmV0O1xuICAgICAgICB9XG4gICAgICAgIGZyb20gPSB0bztcbiAgICB9XG4gICAgcmV0dXJuIFtmb3JtYXQsIHRhcmdldExvY2FsZSwgbWVzc2FnZV07XG59XG5mdW5jdGlvbiBjb21waWxlTWVzc2FnZUZvcm1hdChjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgZm9ybWF0LCBjYWNoZUJhc2VLZXksIG9uRXJyb3IpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VDb21waWxlciwgd2Fybkh0bWxNZXNzYWdlIH0gPSBjb250ZXh0O1xuICAgIGlmIChpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGZvcm1hdDtcbiAgICAgICAgbXNnLmxvY2FsZSA9IG1zZy5sb2NhbGUgfHwgdGFyZ2V0TG9jYWxlO1xuICAgICAgICBtc2cua2V5ID0gbXNnLmtleSB8fCBrZXk7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlQ29tcGlsZXIgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtc2cgPSAoKCkgPT4gZm9ybWF0KTtcbiAgICAgICAgbXNnLmxvY2FsZSA9IHRhcmdldExvY2FsZTtcbiAgICAgICAgbXNnLmtleSA9IGtleTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgbGV0IHN0YXJ0VGFnO1xuICAgIGxldCBlbmRUYWc7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHN0YXJ0VGFnID0gJ2ludGxpZnktbWVzc2FnZS1jb21waWxhdGlvbi1zdGFydCc7XG4gICAgICAgIGVuZFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtY29tcGlsYXRpb24tZW5kJztcbiAgICAgICAgbWFyayAmJiBtYXJrKHN0YXJ0VGFnKTtcbiAgICB9XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZUNvbXBpbGVyKGZvcm1hdCwgZ2V0Q29tcGlsZUNvbnRleHQoY29udGV4dCwgdGFyZ2V0TG9jYWxlLCBjYWNoZUJhc2VLZXksIGZvcm1hdCwgd2Fybkh0bWxNZXNzYWdlLCBvbkVycm9yKSk7XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgIGlmIChlbWl0dGVyICYmIHN0YXJ0KSB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJtZXNzYWdlLWNvbXBpbGF0aW9uXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX0NPTVBJTEFUSU9OICovLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLWNvbXBpbGF0aW9uXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX0NPTVBJTEFUSU9OICovLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZvcm1hdCxcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHsndHJhbnNsYXRlJ306JHtrZXl9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGFnICYmIGVuZFRhZyAmJiBtYXJrICYmIG1lYXN1cmUpIHtcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcbiAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSBjb21waWxhdGlvbicsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1zZy5sb2NhbGUgPSB0YXJnZXRMb2NhbGU7XG4gICAgbXNnLmtleSA9IGtleTtcbiAgICBtc2cuc291cmNlID0gZm9ybWF0O1xuICAgIHJldHVybiBtc2c7XG59XG5mdW5jdGlvbiBldmFsdWF0ZU1lc3NhZ2UoY29udGV4dCwgbXNnLCBtc2dDdHgpIHtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICBsZXQgc3RhcnRUYWc7XG4gICAgbGV0IGVuZFRhZztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tc3RhcnQnO1xuICAgICAgICBlbmRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tZW5kJztcbiAgICAgICAgbWFyayAmJiBtYXJrKHN0YXJ0VGFnKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZWQgPSBtc2cobXNnQ3R4KTtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQpIHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtZXZhbHVhdGlvblwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUVTU0FHRV9FVkFMVUFUSU9OICovLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLWV2YWx1YXRpb25cIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfRVZBTFVBVElPTiAqLyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWVzc2FnZWQsXG4gICAgICAgICAgICAgICAgdGltZTogZW5kIC0gc3RhcnQsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7J3RyYW5zbGF0ZSd9OiR7bXNnLmtleX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xuICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgICAgICAgbWVhc3VyZSgnaW50bGlmeSBtZXNzYWdlIGV2YWx1YXRpb24nLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZWQ7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncykge1xuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGlmICghaXNTdHJpbmcoYXJnMSkgJiZcbiAgICAgICAgIWlzTnVtYmVyKGFyZzEpICYmXG4gICAgICAgICFpc01lc3NhZ2VGdW5jdGlvbihhcmcxKSAmJlxuICAgICAgICAhaXNNZXNzYWdlQVNUKGFyZzEpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3Qga2V5ID0gaXNOdW1iZXIoYXJnMSlcbiAgICAgICAgPyBTdHJpbmcoYXJnMSlcbiAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihhcmcxKVxuICAgICAgICAgICAgPyBhcmcxXG4gICAgICAgICAgICA6IGFyZzE7XG4gICAgaWYgKGlzTnVtYmVyKGFyZzIpKSB7XG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0ID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSAmJiAhaXNFbXB0eU9iamVjdChhcmcyKSkge1xuICAgICAgICBvcHRpb25zLm5hbWVkID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xuICAgICAgICBvcHRpb25zLmxpc3QgPSBhcmcyO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoYXJnMykpIHtcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHQgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgIGFzc2lnbihvcHRpb25zLCBhcmczKTtcbiAgICB9XG4gICAgcmV0dXJuIFtrZXksIG9wdGlvbnNdO1xufVxuZnVuY3Rpb24gZ2V0Q29tcGlsZUNvbnRleHQoY29udGV4dCwgbG9jYWxlLCBrZXksIHNvdXJjZSwgd2Fybkh0bWxNZXNzYWdlLCBvbkVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBrZXksXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcbiAgICAgICAgb25FcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3NvdXJjZSA9IGdldFNvdXJjZUZvckNvZGVGcmFtZShzb3VyY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgTWVzc2FnZSBjb21waWxhdGlvbiBlcnJvcjogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVGcmFtZSA9IGVyci5sb2NhdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBfc291cmNlICYmXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKF9zb3VyY2UsIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsIGVyci5sb2NhdGlvbi5lbmQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBfc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImNvbXBpbGUtZXJyb3JcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkNPTVBJTEVfRVJST1IgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogZXJyLmxvY2F0aW9uICYmIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGVyci5sb2NhdGlvbiAmJiBlcnIubG9jYXRpb24uZW5kLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAkeyd0cmFuc2xhdGUnfToke2tleX1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNvZGVGcmFtZSA/IGAke21lc3NhZ2V9XFxuJHtjb2RlRnJhbWV9YCA6IG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNhY2hlS2V5OiAoc291cmNlKSA9PiBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5KGxvY2FsZSwga2V5LCBzb3VyY2UpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFNvdXJjZUZvckNvZGVGcmFtZShzb3VyY2UpIHtcbiAgICBpZiAoaXNTdHJpbmcoc291cmNlKSkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHNvdXJjZS5sb2MgJiYgc291cmNlLmxvYy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubG9jLnNvdXJjZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyhjb250ZXh0LCBsb2NhbGUsIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1vZGlmaWVycywgcGx1cmFsUnVsZXMsIG1lc3NhZ2VSZXNvbHZlcjogcmVzb2x2ZVZhbHVlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2FybiwgZmFsbGJhY2tDb250ZXh0IH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHJlc29sdmVNZXNzYWdlID0gKGtleSkgPT4ge1xuICAgICAgICBsZXQgdmFsID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSk7XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIHJvb3QgY29udGV4dFxuICAgICAgICBpZiAodmFsID09IG51bGwgJiYgZmFsbGJhY2tDb250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBbLCAsIG1lc3NhZ2VdID0gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoZmFsbGJhY2tDb250ZXh0LCBrZXksIGxvY2FsZSwgZmFsbGJhY2tMb2NhbGUsIGZhbGxiYWNrV2FybiwgbWlzc2luZ1dhcm4pO1xuICAgICAgICAgICAgdmFsID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbCkgfHwgaXNNZXNzYWdlQVNUKHZhbCkpIHtcbiAgICAgICAgICAgIGxldCBvY2N1cnJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBvY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbXNnID0gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIHZhbCwga2V5LCBvbkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAhb2NjdXJyZWRcbiAgICAgICAgICAgICAgICA/IG1zZ1xuICAgICAgICAgICAgICAgIDogTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTWVzc2FnZUZ1bmN0aW9uKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgaW1wbGVtZW50ZWQgd2FybmluZyBtZXNzYWdlXG4gICAgICAgICAgICByZXR1cm4gTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjdHhPcHRpb25zID0ge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIG1vZGlmaWVycyxcbiAgICAgICAgcGx1cmFsUnVsZXMsXG4gICAgICAgIG1lc3NhZ2VzOiByZXNvbHZlTWVzc2FnZVxuICAgIH07XG4gICAgaWYgKGNvbnRleHQucHJvY2Vzc29yKSB7XG4gICAgICAgIGN0eE9wdGlvbnMucHJvY2Vzc29yID0gY29udGV4dC5wcm9jZXNzb3I7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmxpc3QpIHtcbiAgICAgICAgY3R4T3B0aW9ucy5saXN0ID0gb3B0aW9ucy5saXN0O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uYW1lZCkge1xuICAgICAgICBjdHhPcHRpb25zLm5hbWVkID0gb3B0aW9ucy5uYW1lZDtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsKSkge1xuICAgICAgICBjdHhPcHRpb25zLnBsdXJhbEluZGV4ID0gb3B0aW9ucy5wbHVyYWw7XG4gICAgfVxuICAgIHJldHVybiBjdHhPcHRpb25zO1xufVxuXG5jb25zdCBpbnRsRGVmaW5lZCA9IHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IEF2YWlsYWJpbGl0aWVzID0ge1xuICAgIGRhdGVUaW1lRm9ybWF0OiBpbnRsRGVmaW5lZCAmJiB0eXBlb2YgSW50bC5EYXRlVGltZUZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgbnVtYmVyRm9ybWF0OiBpbnRsRGVmaW5lZCAmJiB0eXBlb2YgSW50bC5OdW1iZXJGb3JtYXQgIT09ICd1bmRlZmluZWQnXG59O1xuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgZGF0ZXRpbWVgIGZ1bmN0aW9uXG5mdW5jdGlvbiBkYXRldGltZShjb250ZXh0LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkYXRldGltZUZvcm1hdHMsIHVucmVzb2x2aW5nLCBmYWxsYmFja0xvY2FsZSwgb25XYXJuLCBsb2NhbGVGYWxsYmFja2VyIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgX19kYXRldGltZUZvcm1hdHRlcnMgfSA9IGNvbnRleHQ7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQXZhaWxhYmlsaXRpZXMuZGF0ZVRpbWVGb3JtYXQpIHtcbiAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuQ0FOTk9UX0ZPUk1BVF9EQVRFKSk7XG4gICAgICAgIHJldHVybiBNSVNTSU5HX1JFU09MVkVfVkFMVUU7XG4gICAgfVxuICAgIGNvbnN0IFtrZXksIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdID0gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyk7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcbiAgICBjb25zdCBwYXJ0ID0gISFvcHRpb25zLnBhcnQ7XG4gICAgY29uc3QgbG9jYWxlID0gZ2V0TG9jYWxlKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGxvY2FsZXMgPSBsb2NhbGVGYWxsYmFja2VyKGNvbnRleHQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xuICAgIGlmICghaXNTdHJpbmcoa2V5KSB8fCBrZXkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIG92ZXJyaWRlcykuZm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcbiAgICBsZXQgZGF0ZXRpbWVGb3JtYXQgPSB7fTtcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xuICAgIGxldCBmb3JtYXQgPSBudWxsO1xuICAgIGxldCBmcm9tID0gbG9jYWxlO1xuICAgIGxldCB0byA9IG51bGw7XG4gICAgY29uc3QgdHlwZSA9ICdkYXRldGltZSBmb3JtYXQnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRMb2NhbGUgPSB0byA9IGxvY2FsZXNbaV07XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlICYmXG4gICAgICAgICAgICBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihmYWxsYmFja1dhcm4sIGtleSkpIHtcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX0RBVEVfRk9STUFULCB7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TG9jYWxlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlKSB7XG4gICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkZBTEJBQ0sgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRhdGV0aW1lRm9ybWF0ID1cbiAgICAgICAgICAgIGRhdGV0aW1lRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xuICAgICAgICBmb3JtYXQgPSBkYXRldGltZUZvcm1hdFtrZXldO1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChmb3JtYXQpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGhhbmRsZU1pc3NpbmcoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGZyb20gPSB0bztcbiAgICB9XG4gICAgLy8gY2hlY2tpbmcgZm9ybWF0IGFuZCB0YXJnZXQgbG9jYWxlXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGZvcm1hdCkgfHwgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpIHtcbiAgICAgICAgcmV0dXJuIHVucmVzb2x2aW5nID8gTk9UX1JFT1NMVkVEIDoga2V5O1xuICAgIH1cbiAgICBsZXQgaWQgPSBgJHt0YXJnZXRMb2NhbGV9X18ke2tleX1gO1xuICAgIGlmICghaXNFbXB0eU9iamVjdChvdmVycmlkZXMpKSB7XG4gICAgICAgIGlkID0gYCR7aWR9X18ke0pTT04uc3RyaW5naWZ5KG92ZXJyaWRlcyl9YDtcbiAgICB9XG4gICAgbGV0IGZvcm1hdHRlciA9IF9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmdldChpZCk7XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgICAgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XG4gICAgICAgIF9fZGF0ZXRpbWVGb3JtYXR0ZXJzLnNldChpZCwgZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgcmV0dXJuICFwYXJ0ID8gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkgOiBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyh2YWx1ZSk7XG59XG4vKiogQGludGVybmFsICovXG5jb25zdCBEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTID0gW1xuICAgICdsb2NhbGVNYXRjaGVyJyxcbiAgICAnd2Vla2RheScsXG4gICAgJ2VyYScsXG4gICAgJ3llYXInLFxuICAgICdtb250aCcsXG4gICAgJ2RheScsXG4gICAgJ2hvdXInLFxuICAgICdtaW51dGUnLFxuICAgICdzZWNvbmQnLFxuICAgICd0aW1lWm9uZU5hbWUnLFxuICAgICdmb3JtYXRNYXRjaGVyJyxcbiAgICAnaG91cjEyJyxcbiAgICAndGltZVpvbmUnLFxuICAgICdkYXRlU3R5bGUnLFxuICAgICd0aW1lU3R5bGUnLFxuICAgICdjYWxlbmRhcicsXG4gICAgJ2RheVBlcmlvZCcsXG4gICAgJ251bWJlcmluZ1N5c3RlbScsXG4gICAgJ2hvdXJDeWNsZScsXG4gICAgJ2ZyYWN0aW9uYWxTZWNvbmREaWdpdHMnXG5dO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncykge1xuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczLCBhcmc0XSA9IGFyZ3M7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGxldCBvdmVycmlkZXMgPSB7fTtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgIC8vIE9ubHkgYWxsb3cgSVNPIHN0cmluZ3MgLSBvdGhlciBkYXRlIGZvcm1hdHMgYXJlIG9mdGVuIHN1cHBvcnRlZCxcbiAgICAgICAgLy8gYnV0IG1heSBjYXVzZSBkaWZmZXJlbnQgcmVzdWx0cyBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhcmcxLm1hdGNoKC8oXFxkezR9LVxcZHsyfS1cXGR7Mn0pKFR8XFxzKT8oLiopLyk7XG4gICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfSVNPX0RBVEVfQVJHVU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgY2FuIG5vdCBwYXJzZSB0aGUgaXNvIGRhdGV0aW1lIHNlcGFyYXRlZCBieSBzcGFjZSxcbiAgICAgICAgLy8gdGhpcyBpcyBhIGNvbXByb21pc2Ugc29sdXRpb24gYnkgcmVwbGFjZSB0aGUgJ1QnLycgJyB3aXRoICdUJ1xuICAgICAgICBjb25zdCBkYXRlVGltZSA9IG1hdGNoZXNbM11cbiAgICAgICAgICAgID8gbWF0Y2hlc1szXS50cmltKCkuc3RhcnRzV2l0aCgnVCcpXG4gICAgICAgICAgICAgICAgPyBgJHttYXRjaGVzWzFdLnRyaW0oKX0ke21hdGNoZXNbM10udHJpbSgpfWBcbiAgICAgICAgICAgICAgICA6IGAke21hdGNoZXNbMV0udHJpbSgpfVQke21hdGNoZXNbM10udHJpbSgpfWBcbiAgICAgICAgICAgIDogbWF0Y2hlc1sxXS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoZGF0ZVRpbWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGZhaWwgaWYgdGhlIGRhdGUgaXMgbm90IHZhbGlkXG4gICAgICAgICAgICB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNEYXRlKGFyZzEpKSB7XG4gICAgICAgIGlmIChpc05hTihhcmcxLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0RBVEVfQVJHVU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gYXJnMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOdW1iZXIoYXJnMSkpIHtcbiAgICAgICAgdmFsdWUgPSBhcmcxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5rZXkgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZzIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnMztcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnNDtcbiAgICB9XG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBjbGVhckRhdGVUaW1lRm9ybWF0KGN0eCwgbG9jYWxlLCBmb3JtYXQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1hdCkge1xuICAgICAgICBjb25zdCBpZCA9IGAke2xvY2FsZX1fXyR7a2V5fWA7XG4gICAgICAgIGlmICghY29udGV4dC5fX2RhdGV0aW1lRm9ybWF0dGVycy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmRlbGV0ZShpZCk7XG4gICAgfVxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgbnVtYmVyYCBmdW5jdGlvblxuZnVuY3Rpb24gbnVtYmVyKGNvbnRleHQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IG51bWJlckZvcm1hdHMsIHVucmVzb2x2aW5nLCBmYWxsYmFja0xvY2FsZSwgb25XYXJuLCBsb2NhbGVGYWxsYmFja2VyIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgX19udW1iZXJGb3JtYXR0ZXJzIH0gPSBjb250ZXh0O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIUF2YWlsYWJpbGl0aWVzLm51bWJlckZvcm1hdCkge1xuICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5DQU5OT1RfRk9STUFUX05VTUJFUikpO1xuICAgICAgICByZXR1cm4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFO1xuICAgIH1cbiAgICBjb25zdCBba2V5LCB2YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXSA9IHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKTtcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgOiBjb250ZXh0Lm1pc3NpbmdXYXJuO1xuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICA6IGNvbnRleHQuZmFsbGJhY2tXYXJuO1xuICAgIGNvbnN0IHBhcnQgPSAhIW9wdGlvbnMucGFydDtcbiAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgbG9jYWxlcyA9IGxvY2FsZUZhbGxiYWNrZXIoY29udGV4dCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7XG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIG92ZXJyaWRlcykuZm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcbiAgICBsZXQgbnVtYmVyRm9ybWF0ID0ge307XG4gICAgbGV0IHRhcmdldExvY2FsZTtcbiAgICBsZXQgZm9ybWF0ID0gbnVsbDtcbiAgICBsZXQgZnJvbSA9IGxvY2FsZTtcbiAgICBsZXQgdG8gPSBudWxsO1xuICAgIGNvbnN0IHR5cGUgPSAnbnVtYmVyIGZvcm1hdCc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhcmdldExvY2FsZSA9IHRvID0gbG9jYWxlc1tpXTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcbiAgICAgICAgICAgIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrV2Fybiwga2V5KSkge1xuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVCwge1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldExvY2FsZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBsb2NhbGUgIT09IHRhcmdldExvY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5GQUxCQUNLICovLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJGb3JtYXQgPVxuICAgICAgICAgICAgbnVtYmVyRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xuICAgICAgICBmb3JtYXQgPSBudW1iZXJGb3JtYXRba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoZm9ybWF0KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBmcm9tID0gdG87XG4gICAgfVxuICAgIC8vIGNoZWNraW5nIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxuICAgIGlmICghaXNQbGFpbk9iamVjdChmb3JtYXQpIHx8ICFpc1N0cmluZyh0YXJnZXRMb2NhbGUpKSB7XG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcbiAgICB9XG4gICAgbGV0IGlkID0gYCR7dGFyZ2V0TG9jYWxlfV9fJHtrZXl9YDtcbiAgICBpZiAoIWlzRW1wdHlPYmplY3Qob3ZlcnJpZGVzKSkge1xuICAgICAgICBpZCA9IGAke2lkfV9fJHtKU09OLnN0cmluZ2lmeShvdmVycmlkZXMpfWA7XG4gICAgfVxuICAgIGxldCBmb3JtYXR0ZXIgPSBfX251bWJlckZvcm1hdHRlcnMuZ2V0KGlkKTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XG4gICAgICAgIF9fbnVtYmVyRm9ybWF0dGVycy5zZXQoaWQsIGZvcm1hdHRlcik7XG4gICAgfVxuICAgIHJldHVybiAhcGFydCA/IGZvcm1hdHRlci5mb3JtYXQodmFsdWUpIDogZm9ybWF0dGVyLmZvcm1hdFRvUGFydHModmFsdWUpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMgPSBbXG4gICAgJ2xvY2FsZU1hdGNoZXInLFxuICAgICdzdHlsZScsXG4gICAgJ2N1cnJlbmN5JyxcbiAgICAnY3VycmVuY3lEaXNwbGF5JyxcbiAgICAnY3VycmVuY3lTaWduJyxcbiAgICAndXNlR3JvdXBpbmcnLFxuICAgICdtaW5pbXVtSW50ZWdlckRpZ2l0cycsXG4gICAgJ21pbmltdW1GcmFjdGlvbkRpZ2l0cycsXG4gICAgJ21heGltdW1GcmFjdGlvbkRpZ2l0cycsXG4gICAgJ21pbmltdW1TaWduaWZpY2FudERpZ2l0cycsXG4gICAgJ21heGltdW1TaWduaWZpY2FudERpZ2l0cycsXG4gICAgJ2NvbXBhY3REaXNwbGF5JyxcbiAgICAnbm90YXRpb24nLFxuICAgICdzaWduRGlzcGxheScsXG4gICAgJ3VuaXQnLFxuICAgICd1bml0RGlzcGxheScsXG4gICAgJ3JvdW5kaW5nTW9kZScsXG4gICAgJ3JvdW5kaW5nUHJpb3JpdHknLFxuICAgICdyb3VuZGluZ0luY3JlbWVudCcsXG4gICAgJ3RyYWlsaW5nWmVyb0Rpc3BsYXknXG5dO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNF0gPSBhcmdzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICBsZXQgb3ZlcnJpZGVzID0ge307XG4gICAgaWYgKCFpc051bWJlcihhcmcxKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gYXJnMTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5rZXkgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZzIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzW2tleV0gPSBhcmcyW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSBhcmcyW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcbiAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgIG92ZXJyaWRlcyA9IGFyZzM7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZzQpKSB7XG4gICAgICAgIG92ZXJyaWRlcyA9IGFyZzQ7XG4gICAgfVxuICAgIHJldHVybiBbb3B0aW9ucy5rZXkgfHwgJycsIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gY2xlYXJOdW1iZXJGb3JtYXQoY3R4LCBsb2NhbGUsIGZvcm1hdCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7bG9jYWxlfV9fJHtrZXl9YDtcbiAgICAgICAgaWYgKCFjb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVycy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVycy5kZWxldGUoaWQpO1xuICAgIH1cbn1cblxue1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbn1cblxuZXhwb3J0IHsgQ29yZUVycm9yQ29kZXMsIENvcmVXYXJuQ29kZXMsIERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMsIERFRkFVTFRfTE9DQUxFLCBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFLCBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIE5PVF9SRU9TTFZFRCwgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMsIFZFUlNJT04sIGNsZWFyQ29tcGlsZUNhY2hlLCBjbGVhckRhdGVUaW1lRm9ybWF0LCBjbGVhck51bWJlckZvcm1hdCwgY29tcGlsZSwgY29tcGlsZVRvRnVuY3Rpb24sIGNyZWF0ZUNvcmVDb250ZXh0LCBjcmVhdGVDb3JlRXJyb3IsIGNyZWF0ZU1lc3NhZ2VDb250ZXh0LCBkYXRldGltZSwgZmFsbGJhY2tXaXRoTG9jYWxlQ2hhaW4sIGZhbGxiYWNrV2l0aFNpbXBsZSwgZ2V0QWRkaXRpb25hbE1ldGEsIGdldERldlRvb2xzSG9vaywgZ2V0RmFsbGJhY2tDb250ZXh0LCBnZXRMb2NhbGUsIGdldFdhcm5NZXNzYWdlLCBoYW5kbGVNaXNzaW5nLCBpbml0STE4bkRldlRvb2xzLCBpc01lc3NhZ2VBU1QsIGlzTWVzc2FnZUZ1bmN0aW9uLCBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybiwgaXNUcmFuc2xhdGVNaXNzaW5nV2FybiwgbnVtYmVyLCBwYXJzZSwgcGFyc2VEYXRlVGltZUFyZ3MsIHBhcnNlTnVtYmVyQXJncywgcGFyc2VUcmFuc2xhdGVBcmdzLCByZWdpc3RlckxvY2FsZUZhbGxiYWNrZXIsIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCByZWdpc3Rlck1lc3NhZ2VSZXNvbHZlciwgcmVzb2x2ZUxvY2FsZSwgcmVzb2x2ZVZhbHVlLCByZXNvbHZlV2l0aEtleVZhbHVlLCBzZXRBZGRpdGlvbmFsTWV0YSwgc2V0RGV2VG9vbHNIb29rLCBzZXRGYWxsYmFja0NvbnRleHQsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlRGV2VG9vbHMsIHVwZGF0ZUZhbGxiYWNrTG9jYWxlIH07XG4iLCIvKiFcbiAgKiB2dWUtaTE4biB2OS4xMC4xXG4gICogKGMpIDIwMjQga2F6dXlhIGthd2FndWNoaVxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAgKi9cbmltcG9ydCB7IGdldEdsb2JhbFRoaXMsIGluY3JlbWVudGVyLCBmb3JtYXQsIG1ha2VTeW1ib2wsIGlzUGxhaW5PYmplY3QsIGlzQXJyYXksIGRlZXBDb3B5LCBpc1N0cmluZywgaGFzT3duLCBpc09iamVjdCwgd2Fybiwgd2Fybk9uY2UsIGlzQm9vbGVhbiwgaXNSZWdFeHAsIGlzRnVuY3Rpb24sIGluQnJvd3NlciwgYXNzaWduLCBpc051bWJlciwgY3JlYXRlRW1pdHRlciwgaXNFbXB0eU9iamVjdCB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XG5pbXBvcnQgeyBDb3JlV2FybkNvZGVzLCBDb3JlRXJyb3JDb2RlcywgY3JlYXRlQ29tcGlsZUVycm9yLCBERUZBVUxUX0xPQ0FMRSwgdXBkYXRlRmFsbGJhY2tMb2NhbGUsIHNldEZhbGxiYWNrQ29udGV4dCwgY3JlYXRlQ29yZUNvbnRleHQsIGNsZWFyRGF0ZVRpbWVGb3JtYXQsIGNsZWFyTnVtYmVyRm9ybWF0LCBzZXRBZGRpdGlvbmFsTWV0YSwgZ2V0RmFsbGJhY2tDb250ZXh0LCBOT1RfUkVPU0xWRUQsIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuLCBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuLCBwYXJzZVRyYW5zbGF0ZUFyZ3MsIHRyYW5zbGF0ZSwgTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCBwYXJzZURhdGVUaW1lQXJncywgZGF0ZXRpbWUsIHBhcnNlTnVtYmVyQXJncywgbnVtYmVyLCBpc01lc3NhZ2VBU1QsIGlzTWVzc2FnZUZ1bmN0aW9uLCBmYWxsYmFja1dpdGhMb2NhbGVDaGFpbiwgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMsIERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMsIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCBjb21waWxlLCByZWdpc3Rlck1lc3NhZ2VSZXNvbHZlciwgcmVzb2x2ZVZhbHVlLCByZWdpc3RlckxvY2FsZUZhbGxiYWNrZXIsIHNldERldlRvb2xzSG9vayB9IGZyb20gJ0BpbnRsaWZ5L2NvcmUtYmFzZSc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSwgVGV4dCwgY29tcHV0ZWQsIHdhdGNoLCBnZXRDdXJyZW50SW5zdGFuY2UsIHJlZiwgc2hhbGxvd1JlZiwgRnJhZ21lbnQsIGRlZmluZUNvbXBvbmVudCwgaCwgZWZmZWN0U2NvcGUsIGluamVjdCwgb25Nb3VudGVkLCBvblVubW91bnRlZCwgb25CZWZvcmVNb3VudCwgaXNSZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuLyoqXG4gKiBWdWUgSTE4biBWZXJzaW9uXG4gKlxuICogQHJlbWFya3NcbiAqIFNlbXZlciBmb3JtYXQuIFNhbWUgZm9ybWF0IGFzIHRoZSBwYWNrYWdlLmpzb24gYHZlcnNpb25gIGZpZWxkLlxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5jb25zdCBWRVJTSU9OID0gJzkuMTAuMSc7XG4vKipcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxuICogaXN0YW5idWwtaWdub3JlLW5leHRcbiAqL1xuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgICBpZiAodHlwZW9mIF9fVlVFX0kxOE5fRlVMTF9JTlNUQUxMX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSTE4Tl9GVUxMX0lOU1RBTExfXyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9KSVRfQ09NUElMQVRJT05fXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfRFJPUF9NRVNTQUdFX0NPTVBJTEVSX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX0RST1BfTUVTU0FHRV9DT01QSUxFUl9fID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gICAgfVxufVxuXG5jb25zdCBjb2RlJDEgPSBDb3JlV2FybkNvZGVzLl9fRVhURU5EX1BPSU5UX187XG5jb25zdCBpbmMkMSA9IGluY3JlbWVudGVyKGNvZGUkMSk7XG5jb25zdCBJMThuV2FybkNvZGVzID0ge1xuICAgIEZBTExCQUNLX1RPX1JPT1Q6IGNvZGUkMSwgLy8gOVxuICAgIE5PVF9TVVBQT1JURURfUFJFU0VSVkU6IGluYyQxKCksIC8vIDEwXG4gICAgTk9UX1NVUFBPUlRFRF9GT1JNQVRURVI6IGluYyQxKCksIC8vIDExXG4gICAgTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV9ESVJFQ1RJVkU6IGluYyQxKCksIC8vIDEyXG4gICAgTk9UX1NVUFBPUlRFRF9HRVRfQ0hPSUNFX0lOREVYOiBpbmMkMSgpLCAvLyAxM1xuICAgIENPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFOiBpbmMkMSgpLCAvLyAxNFxuICAgIE5PVF9GT1VORF9QQVJFTlRfU0NPUEU6IGluYyQxKCksIC8vIDE1XG4gICAgSUdOT1JFX09CSl9GTEFUVEVOOiBpbmMkMSgpLCAvLyAxNlxuICAgIE5PVElDRV9EUk9QX0FMTE9XX0NPTVBPU0lUSU9OOiBpbmMkMSgpLCAvLyAxN1xuICAgIE5PVElDRV9EUk9QX1RSQU5TTEFURV9FWElTVF9DT01QQVRJQkxFX0ZMQUc6IGluYyQxKCkgLy8gMThcbn07XG5jb25zdCB3YXJuTWVzc2FnZXMgPSB7XG4gICAgW0kxOG5XYXJuQ29kZXMuRkFMTEJBQ0tfVE9fUk9PVF06IGBGYWxsIGJhY2sgdG8ge3R5cGV9ICd7a2V5fScgd2l0aCByb290IGxvY2FsZS5gLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkVdOiBgTm90IHN1cHBvcnRlZCAncHJlc2VydmUnLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9GT1JNQVRURVJdOiBgTm90IHN1cHBvcnRlZCAnZm9ybWF0dGVyJy5gLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFXTogYE5vdCBzdXBwb3J0ZWQgJ3ByZXNlcnZlRGlyZWN0aXZlQ29udGVudCcuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0dFVF9DSE9JQ0VfSU5ERVhdOiBgTm90IHN1cHBvcnRlZCAnZ2V0Q2hvaWNlSW5kZXgnLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuQ09NUE9ORU5UX05BTUVfTEVHQUNZX0NPTVBBVElCTEVdOiBgQ29tcG9uZW50IG5hbWUgbGVnYWN5IGNvbXBhdGlibGU6ICd7bmFtZX0nIC0+ICdpMThuJ2AsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9UX0ZPVU5EX1BBUkVOVF9TQ09QRV06IGBOb3QgZm91bmQgcGFyZW50IHNjb3BlLiB1c2UgdGhlIGdsb2JhbCBzY29wZS5gLFxuICAgIFtJMThuV2FybkNvZGVzLklHTk9SRV9PQkpfRkxBVFRFTl06IGBJZ25vcmUgb2JqZWN0IGZsYXR0ZW46ICd7a2V5fScga2V5IGhhcyBhbiBzdHJpbmcgdmFsdWVgLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVElDRV9EUk9QX0FMTE9XX0NPTVBPU0lUSU9OXTogYCdhbGxvd0NvbXBvc2l0aW9uJyBvcHRpb24gd2lsbCBiZSBkcm9wcGVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2Ugc2VlIPCfkYkgaHR0cHM6Ly90aW55dXJsLmNvbS8ycDk3bWN6ZWAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9USUNFX0RST1BfVFJBTlNMQVRFX0VYSVNUX0NPTVBBVElCTEVfRkxBR106IGAndHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlJyBvcHRpb24gd2lsbCBiZSBkcm9wcGVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uYFxufTtcbmZ1bmN0aW9uIGdldFdhcm5NZXNzYWdlKGNvZGUsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gZm9ybWF0KHdhcm5NZXNzYWdlc1tjb2RlXSwgLi4uYXJncyk7XG59XG5cbmNvbnN0IGNvZGUgPSBDb3JlRXJyb3JDb2Rlcy5fX0VYVEVORF9QT0lOVF9fO1xuY29uc3QgaW5jID0gaW5jcmVtZW50ZXIoY29kZSk7XG5jb25zdCBJMThuRXJyb3JDb2RlcyA9IHtcbiAgICAvLyBjb21wb3NlciBtb2R1bGUgZXJyb3JzXG4gICAgVU5FWFBFQ1RFRF9SRVRVUk5fVFlQRTogY29kZSwgLy8gMjZcbiAgICAvLyBsZWdhY3kgbW9kdWxlIGVycm9yc1xuICAgIElOVkFMSURfQVJHVU1FTlQ6IGluYygpLCAvLyAyN1xuICAgIC8vIGkxOG4gbW9kdWxlIGVycm9yc1xuICAgIE1VU1RfQkVfQ0FMTF9TRVRVUF9UT1A6IGluYygpLCAvLyAyOFxuICAgIE5PVF9JTlNUQUxMRUQ6IGluYygpLCAvLyAyOVxuICAgIE5PVF9BVkFJTEFCTEVfSU5fTEVHQUNZX01PREU6IGluYygpLCAvLyAzMFxuICAgIC8vIGRpcmVjdGl2ZSBtb2R1bGUgZXJyb3JzXG4gICAgUkVRVUlSRURfVkFMVUU6IGluYygpLCAvLyAzMVxuICAgIElOVkFMSURfVkFMVUU6IGluYygpLCAvLyAzMlxuICAgIC8vIHZ1ZS1kZXZ0b29scyBlcnJvcnNcbiAgICBDQU5OT1RfU0VUVVBfVlVFX0RFVlRPT0xTX1BMVUdJTjogaW5jKCksIC8vIDMzXG4gICAgTk9UX0lOU1RBTExFRF9XSVRIX1BST1ZJREU6IGluYygpLCAvLyAzNFxuICAgIC8vIHVuZXhwZWN0ZWQgZXJyb3JcbiAgICBVTkVYUEVDVEVEX0VSUk9SOiBpbmMoKSwgLy8gMzVcbiAgICAvLyBub3QgY29tcGF0aWJsZSBsZWdhY3kgdnVlLWkxOG4gY29uc3RydWN0b3JcbiAgICBOT1RfQ09NUEFUSUJMRV9MRUdBQ1lfVlVFX0kxOE46IGluYygpLCAvLyAzNlxuICAgIC8vIGJyaWRnZSBzdXBwb3J0IHZ1ZSAyLnggb25seVxuICAgIEJSSURHRV9TVVBQT1JUX1ZVRV8yX09OTFk6IGluYygpLCAvLyAzN1xuICAgIC8vIG5lZWQgdG8gZGVmaW5lIGBpMThuYCBvcHRpb24gaW4gYGFsbG93Q29tcG9zaXRpb246IHRydWVgIGFuZCBgdXNlU2NvcGU6ICdsb2NhbCcgYXQgYHVzZUkxOG5gYFxuICAgIE1VU1RfREVGSU5FX0kxOE5fT1BUSU9OX0lOX0FMTE9XX0NPTVBPU0lUSU9OOiBpbmMoKSwgLy8gMzhcbiAgICAvLyBOb3QgYXZhaWxhYmxlIENvbXBvc3Rpb24gQVBJIGluIExlZ2FjeSBBUEkgbW9kZS4gUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBsZWdhY3kgQVBJIG1vZGUgaXMgd29ya2luZyBwcm9wZXJseVxuICAgIE5PVF9BVkFJTEFCTEVfQ09NUE9TSVRJT05fSU5fTEVHQUNZOiBpbmMoKSwgLy8gMzlcbiAgICAvLyBmb3IgZW5oYW5jZW1lbnRcbiAgICBfX0VYVEVORF9QT0lOVF9fOiBpbmMoKSAvLyA0MFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUkxOG5FcnJvcihjb2RlLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBudWxsLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyB7IG1lc3NhZ2VzOiBlcnJvck1lc3NhZ2VzLCBhcmdzIH0gOiB1bmRlZmluZWQpO1xufVxuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcbiAgICBbSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9SRVRVUk5fVFlQRV06ICdVbmV4cGVjdGVkIHJldHVybiB0eXBlIGluIGNvbXBvc2VyJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVF06ICdJbnZhbGlkIGFyZ3VtZW50JyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTVVTVF9CRV9DQUxMX1NFVFVQX1RPUF06ICdNdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgYHNldHVwYCBmdW5jdGlvbicsXG4gICAgW0kxOG5FcnJvckNvZGVzLk5PVF9JTlNUQUxMRURdOiAnTmVlZCB0byBpbnN0YWxsIHdpdGggYGFwcC51c2VgIGZ1bmN0aW9uJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUl06ICdVbmV4cGVjdGVkIGVycm9yJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTk9UX0FWQUlMQUJMRV9JTl9MRUdBQ1lfTU9ERV06ICdOb3QgYXZhaWxhYmxlIGluIGxlZ2FjeSBtb2RlJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuUkVRVUlSRURfVkFMVUVdOiBgUmVxdWlyZWQgaW4gdmFsdWU6IHswfWAsXG4gICAgW0kxOG5FcnJvckNvZGVzLklOVkFMSURfVkFMVUVdOiBgSW52YWxpZCB2YWx1ZWAsXG4gICAgW0kxOG5FcnJvckNvZGVzLkNBTk5PVF9TRVRVUF9WVUVfREVWVE9PTFNfUExVR0lOXTogYENhbm5vdCBzZXR1cCB2dWUtZGV2dG9vbHMgcGx1Z2luYCxcbiAgICBbSTE4bkVycm9yQ29kZXMuTk9UX0lOU1RBTExFRF9XSVRIX1BST1ZJREVdOiAnTmVlZCB0byBpbnN0YWxsIHdpdGggYHByb3ZpZGVgIGZ1bmN0aW9uJyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTk9UX0NPTVBBVElCTEVfTEVHQUNZX1ZVRV9JMThOXTogJ05vdCBjb21wYXRpYmxlIGxlZ2FjeSBWdWVJMThuLicsXG4gICAgW0kxOG5FcnJvckNvZGVzLkJSSURHRV9TVVBQT1JUX1ZVRV8yX09OTFldOiAndnVlLWkxOG4tYnJpZGdlIHN1cHBvcnQgVnVlIDIueCBvbmx5JyxcbiAgICBbSTE4bkVycm9yQ29kZXMuTVVTVF9ERUZJTkVfSTE4Tl9PUFRJT05fSU5fQUxMT1dfQ09NUE9TSVRJT05dOiAnTXVzdCBkZWZpbmUg4oCYaTE4buKAmSBvcHRpb24gb3IgY3VzdG9tIGJsb2NrIGluIENvbXBvc2l0aW9uIEFQSSB3aXRoIHVzaW5nIGxvY2FsIHNjb3BlIGluIExlZ2FjeSBBUEkgbW9kZScsXG4gICAgW0kxOG5FcnJvckNvZGVzLk5PVF9BVkFJTEFCTEVfQ09NUE9TSVRJT05fSU5fTEVHQUNZXTogJ05vdCBhdmFpbGFibGUgQ29tcG9zdGlvbiBBUEkgaW4gTGVnYWN5IEFQSSBtb2RlLiBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlIGxlZ2FjeSBBUEkgbW9kZSBpcyB3b3JraW5nIHByb3Blcmx5J1xufTtcblxuY29uc3QgVHJhbnNsYXRlVk5vZGVTeW1ib2wgPSBcbi8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fdHJhbnNsYXRlVk5vZGUnKTtcbmNvbnN0IERhdGV0aW1lUGFydHNTeW1ib2wgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX2RhdGV0aW1lUGFydHMnKTtcbmNvbnN0IE51bWJlclBhcnRzU3ltYm9sID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19udW1iZXJQYXJ0cycpO1xuY29uc3QgRW5hYmxlRW1pdHRlciA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fZW5hYmxlRW1pdHRlcicpO1xuY29uc3QgRGlzYWJsZUVtaXR0ZXIgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX2Rpc2FibGVFbWl0dGVyJyk7XG5jb25zdCBTZXRQbHVyYWxSdWxlc1N5bWJvbCA9IG1ha2VTeW1ib2woJ19fc2V0UGx1cmFsUnVsZXMnKTtcbm1ha2VTeW1ib2woJ19faW50bGlmeU1ldGEnKTtcbmNvbnN0IEluZWpjdFdpdGhPcHRpb25TeW1ib2wgPSBcbi8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19faW5qZWN0V2l0aE9wdGlvbicpO1xuY29uc3QgRGlzcG9zZVN5bWJvbCA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fZGlzcG9zZScpO1xuY29uc3QgX19WVUVfSTE4Tl9CUklER0VfXyA9ICAnX19WVUVfSTE4Tl9CUklER0VfXyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogVHJhbnNmb3JtIGZsYXQganNvbiBpbiBvYmogdG8gbm9ybWFsIGpzb24gaW4gb2JqXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUZsYXRKc29uKG9iaikge1xuICAgIC8vIGNoZWNrIG9ialxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgLy8gY2hlY2sga2V5XG4gICAgICAgIGlmICghaGFzT3duKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGZvciBub3JtYWwganNvblxuICAgICAgICBpZiAoIWtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgcHJvY2VzcyB2YWx1ZSBpZiB2YWx1ZSBpcyBhbHNvIGEgb2JqZWN0XG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24ob2JqW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBmb3IgZmxhdCBqc29uLCB0cmFuc2Zvcm0gdG8gbm9ybWFsIGpzb25cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBnbyB0byB0aGUgbGFzdCBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IHN1YktleXMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN1YktleXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50T2JqID0gb2JqO1xuICAgICAgICAgICAgbGV0IGhhc1N0cmluZ1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoc3ViS2V5c1tpXSBpbiBjdXJyZW50T2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqW3N1YktleXNbaV1dID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoY3VycmVudE9ialtzdWJLZXlzW2ldXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuSUdOT1JFX09CSl9GTEFUVEVOLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzdWJLZXlzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1N0cmluZ1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmogPSBjdXJyZW50T2JqW3N1YktleXNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIGxhc3Qgb2JqZWN0IHZhbHVlLCBkZWxldGUgb2xkIHByb3BlcnR5XG4gICAgICAgICAgICBpZiAoIWhhc1N0cmluZ1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE9ialtzdWJLZXlzW2xhc3RJbmRleF1dID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlIHByb2Nlc3MgdmFsdWUgaWYgdmFsdWUgaXMgYWxzbyBhIG9iamVjdFxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihjdXJyZW50T2JqW3N1YktleXNbbGFzdEluZGV4XV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBnZXRMb2NhbGVNZXNzYWdlcyhsb2NhbGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBfX2kxOG4sIG1lc3NhZ2VSZXNvbHZlciwgZmxhdEpzb24gfSA9IG9wdGlvbnM7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgcmV0ID0gKGlzUGxhaW5PYmplY3QobWVzc2FnZXMpXG4gICAgICAgID8gbWVzc2FnZXNcbiAgICAgICAgOiBpc0FycmF5KF9faTE4bilcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogeyBbbG9jYWxlXToge30gfSk7XG4gICAgLy8gbWVyZ2UgbG9jYWxlIG1lc3NhZ2VzIG9mIGkxOG4gY3VzdG9tIGJsb2NrXG4gICAgaWYgKGlzQXJyYXkoX19pMThuKSkge1xuICAgICAgICBfX2kxOG4uZm9yRWFjaChjdXN0b20gPT4ge1xuICAgICAgICAgICAgaWYgKCdsb2NhbGUnIGluIGN1c3RvbSAmJiAncmVzb3VyY2UnIGluIGN1c3RvbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbG9jYWxlLCByZXNvdXJjZSB9ID0gY3VzdG9tO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W2xvY2FsZV0gPSByZXRbbG9jYWxlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgZGVlcENvcHkocmVzb3VyY2UsIHJldFtsb2NhbGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZXBDb3B5KHJlc291cmNlLCByZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU3RyaW5nKGN1c3RvbSkgJiYgZGVlcENvcHkoSlNPTi5wYXJzZShjdXN0b20pLCByZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaGFuZGxlIG1lc3NhZ2VzIGZvciBmbGF0IGpzb25cbiAgICBpZiAobWVzc2FnZVJlc29sdmVyID09IG51bGwgJiYgZmxhdEpzb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmV0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duKHJldCwga2V5KSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKHJldFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldENvbXBvbmVudE9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UudHlwZSA7XG59XG5mdW5jdGlvbiBhZGp1c3RJMThuUmVzb3VyY2VzKGdsLCBvcHRpb25zLCBjb21wb25lbnRPcHRpb25zIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgbGV0IG1lc3NhZ2VzID0gaXNPYmplY3Qob3B0aW9ucy5tZXNzYWdlcykgPyBvcHRpb25zLm1lc3NhZ2VzIDoge307XG4gICAgaWYgKCdfX2kxOG5HbG9iYWwnIGluIGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgICAgbWVzc2FnZXMgPSBnZXRMb2NhbGVNZXNzYWdlcyhnbC5sb2NhbGUudmFsdWUsIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgX19pMThuOiBjb21wb25lbnRPcHRpb25zLl9faTE4bkdsb2JhbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2UgbG9jYWxlIG1lc3NhZ2VzXG4gICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcbiAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcbiAgICAgICAgbG9jYWxlcy5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICBnbC5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlc1tsb2NhbGVdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgLy8gbWVyZ2UgZGF0ZXRpbWUgZm9ybWF0c1xuICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlcy5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdsLm1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1tsb2NhbGVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBudW1iZXIgZm9ybWF0c1xuICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5udW1iZXJGb3JtYXRzKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKG9wdGlvbnMubnVtYmVyRm9ybWF0cyk7XG4gICAgICAgICAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2wubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zLm51bWJlckZvcm1hdHNbbG9jYWxlXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZShrZXkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwga2V5LCAwKVxuICAgICAgICA7XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLy8gZXh0ZW5kIFZOb2RlIGludGVyZmFjZVxuY29uc3QgREVWVE9PTFNfTUVUQSA9ICdfX0lOVExJRllfTUVUQV9fJztcbmNvbnN0IE5PT1BfUkVUVVJOX0FSUkFZID0gKCkgPT4gW107XG5jb25zdCBOT09QX1JFVFVSTl9GQUxTRSA9ICgpID0+IGZhbHNlO1xubGV0IGNvbXBvc2VySUQgPSAwO1xuZnVuY3Rpb24gZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyKG1pc3NpbmcpIHtcbiAgICByZXR1cm4gKChjdHgsIGxvY2FsZSwga2V5LCB0eXBlKSA9PiB7XG4gICAgICAgIHJldHVybiBtaXNzaW5nKGxvY2FsZSwga2V5LCBnZXRDdXJyZW50SW5zdGFuY2UoKSB8fCB1bmRlZmluZWQsIHR5cGUpO1xuICAgIH0pO1xufVxuLy8gZm9yIEludGxpZnkgRGV2VG9vbHNcbi8qICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBnZXRNZXRhSW5mbyA9ICgpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGxldCBtZXRhID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIChtZXRhID0gZ2V0Q29tcG9uZW50T3B0aW9ucyhpbnN0YW5jZSlbREVWVE9PTFNfTUVUQV0pXG4gICAgICAgID8geyBbREVWVE9PTFNfTUVUQV06IG1ldGEgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgOiBudWxsO1xufTtcbi8qKlxuICogQ3JlYXRlIGNvbXBvc2VyIGludGVyZmFjZSBmYWN0b3J5XG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBjcmVhdGVDb21wb3NlcihvcHRpb25zID0ge30sIFZ1ZUkxOG5MZWdhY3kpIHtcbiAgICBjb25zdCB7IF9fcm9vdCwgX19pbmplY3RXaXRoT3B0aW9uIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IF9pc0dsb2JhbCA9IF9fcm9vdCA9PT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZsYXRKc29uID0gb3B0aW9ucy5mbGF0SnNvbjtcbiAgICBjb25zdCBfcmVmID0gaW5Ccm93c2VyID8gcmVmIDogc2hhbGxvd1JlZjtcbiAgICBjb25zdCB0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUgPSAhIW9wdGlvbnMudHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSAmJiAhZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9USUNFX0RST1BfVFJBTlNMQVRFX0VYSVNUX0NPTVBBVElCTEVfRkxBRykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBfaW5oZXJpdExvY2FsZSA9IGlzQm9vbGVhbihvcHRpb25zLmluaGVyaXRMb2NhbGUpXG4gICAgICAgID8gb3B0aW9ucy5pbmhlcml0TG9jYWxlXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBfbG9jYWxlID0gX3JlZihcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBfX3Jvb3QgJiYgX2luaGVyaXRMb2NhbGVcbiAgICAgICAgPyBfX3Jvb3QubG9jYWxlLnZhbHVlXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpXG4gICAgICAgICAgICA/IG9wdGlvbnMubG9jYWxlXG4gICAgICAgICAgICA6IERFRkFVTFRfTE9DQUxFKTtcbiAgICBjb25zdCBfZmFsbGJhY2tMb2NhbGUgPSBfcmVmKFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIF9fcm9vdCAmJiBfaW5oZXJpdExvY2FsZVxuICAgICAgICA/IF9fcm9vdC5mYWxsYmFja0xvY2FsZS52YWx1ZVxuICAgICAgICA6IGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBpc0FycmF5KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgICAgICBvcHRpb25zLmZhbGxiYWNrTG9jYWxlID09PSBmYWxzZVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrTG9jYWxlXG4gICAgICAgICAgICA6IF9sb2NhbGUudmFsdWUpO1xuICAgIGNvbnN0IF9tZXNzYWdlcyA9IF9yZWYoZ2V0TG9jYWxlTWVzc2FnZXMoX2xvY2FsZS52YWx1ZSwgb3B0aW9ucykpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9kYXRldGltZUZvcm1hdHMgPSBfcmVmKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzXG4gICAgICAgICAgICA6IHsgW19sb2NhbGUudmFsdWVdOiB7fSB9KVxuICAgICAgICA7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX251bWJlckZvcm1hdHMgPSBfcmVmKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5udW1iZXJGb3JtYXRzKVxuICAgICAgICAgICAgPyBvcHRpb25zLm51bWJlckZvcm1hdHNcbiAgICAgICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pXG4gICAgICAgIDtcbiAgICAvLyB3YXJuaW5nIHN1cHByZXNzIG9wdGlvbnNcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgX21pc3NpbmdXYXJuID0gX19yb290XG4gICAgICAgID8gX19yb290Lm1pc3NpbmdXYXJuXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMubWlzc2luZ1dhcm4pXG4gICAgICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgX2ZhbGxiYWNrV2FybiA9IF9fcm9vdFxuICAgICAgICA/IF9fcm9vdC5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGxldCBfZmFsbGJhY2tSb290ID0gX19yb290XG4gICAgICAgID8gX19yb290LmZhbGxiYWNrUm9vdFxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1Jvb3RcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBjb25maWd1cmUgZmFsbCBiYWNrIHRvIHJvb3RcbiAgICBsZXQgX2ZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZhbGxiYWNrRm9ybWF0O1xuICAgIC8vIHJ1bnRpbWUgbWlzc2luZ1xuICAgIGxldCBfbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IG51bGw7XG4gICAgbGV0IF9ydW50aW1lTWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKVxuICAgICAgICA/IGRlZmluZUNvcmVNaXNzaW5nSGFuZGxlcihvcHRpb25zLm1pc3NpbmcpXG4gICAgICAgIDogbnVsbDtcbiAgICAvLyBwb3N0VHJhbnNsYXRpb24gaGFuZGxlclxuICAgIGxldCBfcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxuICAgICAgICA6IG51bGw7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgbGV0IF93YXJuSHRtbE1lc3NhZ2UgPSBfX3Jvb3RcbiAgICAgICAgPyBfX3Jvb3Qud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxuICAgICAgICAgICAgPyBvcHRpb25zLndhcm5IdG1sTWVzc2FnZVxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIGxldCBfZXNjYXBlUGFyYW1ldGVyID0gISFvcHRpb25zLmVzY2FwZVBhcmFtZXRlcjtcbiAgICAvLyBjdXN0b20gbGlua2VkIG1vZGlmaWVyc1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9tb2RpZmllcnMgPSBfX3Jvb3RcbiAgICAgICAgPyBfX3Jvb3QubW9kaWZpZXJzXG4gICAgICAgIDogaXNQbGFpbk9iamVjdChvcHRpb25zLm1vZGlmaWVycylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tb2RpZmllcnNcbiAgICAgICAgICAgIDoge307XG4gICAgLy8gcGx1cmFsUnVsZXNcbiAgICBsZXQgX3BsdXJhbFJ1bGVzID0gb3B0aW9ucy5wbHVyYWxSdWxlcyB8fCAoX19yb290ICYmIF9fcm9vdC5wbHVyYWxSdWxlcyk7XG4gICAgLy8gcnVudGltZSBjb250ZXh0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCBfY29udGV4dDtcbiAgICBjb25zdCBnZXRDb3JlQ29udGV4dCA9ICgpID0+IHtcbiAgICAgICAgX2lzR2xvYmFsICYmIHNldEZhbGxiYWNrQ29udGV4dChudWxsKTtcbiAgICAgICAgY29uc3QgY3R4T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgICAgICAgICBsb2NhbGU6IF9sb2NhbGUudmFsdWUsXG4gICAgICAgICAgICBmYWxsYmFja0xvY2FsZTogX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZXM6IF9tZXNzYWdlcy52YWx1ZSxcbiAgICAgICAgICAgIG1vZGlmaWVyczogX21vZGlmaWVycyxcbiAgICAgICAgICAgIHBsdXJhbFJ1bGVzOiBfcGx1cmFsUnVsZXMsXG4gICAgICAgICAgICBtaXNzaW5nOiBfcnVudGltZU1pc3NpbmcgPT09IG51bGwgPyB1bmRlZmluZWQgOiBfcnVudGltZU1pc3NpbmcsXG4gICAgICAgICAgICBtaXNzaW5nV2FybjogX21pc3NpbmdXYXJuLFxuICAgICAgICAgICAgZmFsbGJhY2tXYXJuOiBfZmFsbGJhY2tXYXJuLFxuICAgICAgICAgICAgZmFsbGJhY2tGb3JtYXQ6IF9mYWxsYmFja0Zvcm1hdCxcbiAgICAgICAgICAgIHVucmVzb2x2aW5nOiB0cnVlLFxuICAgICAgICAgICAgcG9zdFRyYW5zbGF0aW9uOiBfcG9zdFRyYW5zbGF0aW9uID09PSBudWxsID8gdW5kZWZpbmVkIDogX3Bvc3RUcmFuc2xhdGlvbixcbiAgICAgICAgICAgIHdhcm5IdG1sTWVzc2FnZTogX3dhcm5IdG1sTWVzc2FnZSxcbiAgICAgICAgICAgIGVzY2FwZVBhcmFtZXRlcjogX2VzY2FwZVBhcmFtZXRlcixcbiAgICAgICAgICAgIG1lc3NhZ2VSZXNvbHZlcjogb3B0aW9ucy5tZXNzYWdlUmVzb2x2ZXIsXG4gICAgICAgICAgICBtZXNzYWdlQ29tcGlsZXI6IG9wdGlvbnMubWVzc2FnZUNvbXBpbGVyLFxuICAgICAgICAgICAgX19tZXRhOiB7IGZyYW1ld29yazogJ3Z1ZScgfVxuICAgICAgICB9O1xuICAgICAgICB7XG4gICAgICAgICAgICBjdHhPcHRpb25zLmRhdGV0aW1lRm9ybWF0cyA9IF9kYXRldGltZUZvcm1hdHMudmFsdWU7XG4gICAgICAgICAgICBjdHhPcHRpb25zLm51bWJlckZvcm1hdHMgPSBfbnVtYmVyRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgICAgIGN0eE9wdGlvbnMuX19kYXRldGltZUZvcm1hdHRlcnMgPSBpc1BsYWluT2JqZWN0KF9jb250ZXh0KVxuICAgICAgICAgICAgICAgID8gX2NvbnRleHQuX19kYXRldGltZUZvcm1hdHRlcnNcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGN0eE9wdGlvbnMuX19udW1iZXJGb3JtYXR0ZXJzID0gaXNQbGFpbk9iamVjdChfY29udGV4dClcbiAgICAgICAgICAgICAgICA/IF9jb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGN0eE9wdGlvbnMuX192X2VtaXR0ZXIgPSBpc1BsYWluT2JqZWN0KF9jb250ZXh0KVxuICAgICAgICAgICAgICAgID8gX2NvbnRleHQuX192X2VtaXR0ZXJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdHggPSBjcmVhdGVDb3JlQ29udGV4dChjdHhPcHRpb25zKTtcbiAgICAgICAgX2lzR2xvYmFsICYmIHNldEZhbGxiYWNrQ29udGV4dChjdHgpO1xuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH07XG4gICAgX2NvbnRleHQgPSBnZXRDb3JlQ29udGV4dCgpO1xuICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCBfZmFsbGJhY2tMb2NhbGUudmFsdWUpO1xuICAgIC8vIHRyYWNrIHJlYWN0aXZpdHlcbiAgICBmdW5jdGlvbiB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXG4gICAgICAgICAgICAgICAgX21lc3NhZ2VzLnZhbHVlLFxuICAgICAgICAgICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWUsXG4gICAgICAgICAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDtcbiAgICB9XG4gICAgLy8gbG9jYWxlXG4gICAgY29uc3QgbG9jYWxlID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQ6ICgpID0+IF9sb2NhbGUudmFsdWUsXG4gICAgICAgIHNldDogdmFsID0+IHtcbiAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5sb2NhbGUgPSBfbG9jYWxlLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gZmFsbGJhY2tMb2NhbGVcbiAgICBjb25zdCBmYWxsYmFja0xvY2FsZSA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0OiAoKSA9PiBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXG4gICAgICAgIHNldDogdmFsID0+IHtcbiAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrTG9jYWxlID0gX2ZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIHZhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBtZXNzYWdlc1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gY29tcHV0ZWQoKCkgPT4gX21lc3NhZ2VzLnZhbHVlKTtcbiAgICAvLyBkYXRldGltZUZvcm1hdHNcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSAvKiAjX19QVVJFX18qLyBjb21wdXRlZCgoKSA9PiBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlKTtcbiAgICAvLyBudW1iZXJGb3JtYXRzXG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IC8qICNfX1BVUkVfXyovIGNvbXB1dGVkKCgpID0+IF9udW1iZXJGb3JtYXRzLnZhbHVlKTtcbiAgICAvLyBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyXG4gICAgZnVuY3Rpb24gZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oX3Bvc3RUcmFuc2xhdGlvbikgPyBfcG9zdFRyYW5zbGF0aW9uIDogbnVsbDtcbiAgICB9XG4gICAgLy8gc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlclxuICAgIGZ1bmN0aW9uIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICBfcG9zdFRyYW5zbGF0aW9uID0gaGFuZGxlcjtcbiAgICAgICAgX2NvbnRleHQucG9zdFRyYW5zbGF0aW9uID0gaGFuZGxlcjtcbiAgICB9XG4gICAgLy8gZ2V0TWlzc2luZ0hhbmRsZXJcbiAgICBmdW5jdGlvbiBnZXRNaXNzaW5nSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9taXNzaW5nO1xuICAgIH1cbiAgICAvLyBzZXRNaXNzaW5nSGFuZGxlclxuICAgIGZ1bmN0aW9uIHNldE1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGhhbmRsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF9ydW50aW1lTWlzc2luZyA9IGRlZmluZUNvcmVNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBfbWlzc2luZyA9IGhhbmRsZXI7XG4gICAgICAgIF9jb250ZXh0Lm1pc3NpbmcgPSBfcnVudGltZU1pc3Npbmc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVzb2x2ZWRUcmFuc2xhdGVNZXNzYWdlKHR5cGUsIGFyZyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgIT09ICd0cmFuc2xhdGUnIHx8ICFhcmcucmVzb2x2ZWRNZXNzYWdlO1xuICAgIH1cbiAgICBjb25zdCB3cmFwV2l0aERlcHMgPSAoZm4sIGFyZ3VtZW50UGFyc2VyLCB3YXJuVHlwZSwgZmFsbGJhY2tTdWNjZXNzLCBmYWxsYmFja0ZhaWwsIHN1Y2Nlc3NDb25kaXRpb24pID0+IHtcbiAgICAgICAgdHJhY2tSZWFjdGl2aXR5VmFsdWVzKCk7IC8vIHRyYWNrIHJlYWN0aXZlIGRlcGVuZGVuY3lcbiAgICAgICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXG4gICAgICAgIGxldCByZXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICBzZXRBZGRpdGlvbmFsTWV0YShnZXRNZXRhSW5mbygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX2lzR2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tDb250ZXh0ID0gX19yb290XG4gICAgICAgICAgICAgICAgICAgID8gZ2V0RmFsbGJhY2tDb250ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQgPSBmbihfY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICBzZXRBZGRpdGlvbmFsTWV0YShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX2lzR2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tDb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgod2FyblR5cGUgIT09ICd0cmFuc2xhdGUgZXhpc3RzJyAmJiAvLyBmb3Igbm90IGB0ZWAgKGUuZyBgdGApXG4gICAgICAgICAgICBpc051bWJlcihyZXQpICYmXG4gICAgICAgICAgICByZXQgPT09IE5PVF9SRU9TTFZFRCkgfHxcbiAgICAgICAgICAgICh3YXJuVHlwZSA9PT0gJ3RyYW5zbGF0ZSBleGlzdHMnICYmICFyZXQpIC8vIGZvciBgdGVgXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgW2tleSwgYXJnMl0gPSBhcmd1bWVudFBhcnNlcigpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIF9fcm9vdCAmJlxuICAgICAgICAgICAgICAgIGlzU3RyaW5nKGtleSkgJiZcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkVHJhbnNsYXRlTWVzc2FnZSh3YXJuVHlwZSwgYXJnMikpIHtcbiAgICAgICAgICAgICAgICBpZiAoX2ZhbGxiYWNrUm9vdCAmJlxuICAgICAgICAgICAgICAgICAgICAoaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oX2ZhbGxiYWNrV2Fybiwga2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcmFuc2xhdGVNaXNzaW5nV2FybihfbWlzc2luZ1dhcm4sIGtleSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5GQUxMQkFDS19UT19ST09ULCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB3YXJuVHlwZVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgX192X2VtaXR0ZXI6IGVtaXR0ZXIgfSA9IF9jb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBfZmFsbGJhY2tSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuRkFMQkFDSyAqLywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHdhcm5UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogJ2dsb2JhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7d2FyblR5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fcm9vdCAmJiBfZmFsbGJhY2tSb290XG4gICAgICAgICAgICAgICAgPyBmYWxsYmFja1N1Y2Nlc3MoX19yb290KVxuICAgICAgICAgICAgICAgIDogZmFsbGJhY2tGYWlsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3VjY2Vzc0NvbmRpdGlvbihyZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX1JFVFVSTl9UWVBFKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gdFxuICAgIGZ1bmN0aW9uIHQoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gUmVmbGVjdC5hcHBseSh0cmFuc2xhdGUsIG51bGwsIFtjb250ZXh0LCAuLi5hcmdzXSksICgpID0+IHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKSwgJ3RyYW5zbGF0ZScsIHJvb3QgPT4gUmVmbGVjdC5hcHBseShyb290LnQsIHJvb3QsIFsuLi5hcmdzXSksIGtleSA9PiBrZXksIHZhbCA9PiBpc1N0cmluZyh2YWwpKTtcbiAgICB9XG4gICAgLy8gcnRcbiAgICBmdW5jdGlvbiBydCguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XG4gICAgICAgIGlmIChhcmczICYmICFpc09iamVjdChhcmczKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0KC4uLlthcmcxLCBhcmcyLCBhc3NpZ24oeyByZXNvbHZlZE1lc3NhZ2U6IHRydWUgfSwgYXJnMyB8fCB7fSldKTtcbiAgICB9XG4gICAgLy8gZFxuICAgIGZ1bmN0aW9uIGQoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gUmVmbGVjdC5hcHBseShkYXRldGltZSwgbnVsbCwgW2NvbnRleHQsIC4uLmFyZ3NdKSwgKCkgPT4gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyksICdkYXRldGltZSBmb3JtYXQnLCByb290ID0+IFJlZmxlY3QuYXBwbHkocm9vdC5kLCByb290LCBbLi4uYXJnc10pLCAoKSA9PiBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIHZhbCA9PiBpc1N0cmluZyh2YWwpKTtcbiAgICB9XG4gICAgLy8gblxuICAgIGZ1bmN0aW9uIG4oLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gUmVmbGVjdC5hcHBseShudW1iZXIsIG51bGwsIFtjb250ZXh0LCAuLi5hcmdzXSksICgpID0+IHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKSwgJ251bWJlciBmb3JtYXQnLCByb290ID0+IFJlZmxlY3QuYXBwbHkocm9vdC5uLCByb290LCBbLi4uYXJnc10pLCAoKSA9PiBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIHZhbCA9PiBpc1N0cmluZyh2YWwpKTtcbiAgICB9XG4gICAgLy8gZm9yIGN1c3RvbSBwcm9jZXNzb3JcbiAgICBmdW5jdGlvbiBub3JtYWxpemUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMubWFwKHZhbCA9PiBpc1N0cmluZyh2YWwpIHx8IGlzTnVtYmVyKHZhbCkgfHwgaXNCb29sZWFuKHZhbClcbiAgICAgICAgICAgID8gY3JlYXRlVGV4dE5vZGUoU3RyaW5nKHZhbCkpXG4gICAgICAgICAgICA6IHZhbCk7XG4gICAgfVxuICAgIGNvbnN0IGludGVycG9sYXRlID0gKHZhbCkgPT4gdmFsO1xuICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICBpbnRlcnBvbGF0ZSxcbiAgICAgICAgdHlwZTogJ3Zub2RlJ1xuICAgIH07XG4gICAgLy8gdHJhbnNsYXRlVk5vZGUsIHVzaW5nIGZvciBgaTE4bi10YCBjb21wb25lbnRcbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVWTm9kZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiB7XG4gICAgICAgICAgICBsZXQgcmV0O1xuICAgICAgICAgICAgY29uc3QgX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgICAgICAgICAgcmV0ID0gUmVmbGVjdC5hcHBseSh0cmFuc2xhdGUsIG51bGwsIFtfY29udGV4dCwgLi4uYXJnc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0sICgpID0+IHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKSwgJ3RyYW5zbGF0ZScsIFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByb290ID0+IHJvb3RbVHJhbnNsYXRlVk5vZGVTeW1ib2xdKC4uLmFyZ3MpLCBrZXkgPT4gW2NyZWF0ZVRleHROb2RlKGtleSldLCB2YWwgPT4gaXNBcnJheSh2YWwpKTtcbiAgICB9XG4gICAgLy8gbnVtYmVyUGFydHMsIHVzaW5nIGZvciBgaTE4bi1uYCBjb21wb25lbnRcbiAgICBmdW5jdGlvbiBudW1iZXJQYXJ0cyguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBSZWZsZWN0LmFwcGx5KG51bWJlciwgbnVsbCwgW2NvbnRleHQsIC4uLmFyZ3NdKSwgKCkgPT4gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpLCAnbnVtYmVyIGZvcm1hdCcsIFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByb290ID0+IHJvb3RbTnVtYmVyUGFydHNTeW1ib2xdKC4uLmFyZ3MpLCBOT09QX1JFVFVSTl9BUlJBWSwgdmFsID0+IGlzU3RyaW5nKHZhbCkgfHwgaXNBcnJheSh2YWwpKTtcbiAgICB9XG4gICAgLy8gZGF0ZXRpbWVQYXJ0cywgdXNpbmcgZm9yIGBpMThuLWRgIGNvbXBvbmVudFxuICAgIGZ1bmN0aW9uIGRhdGV0aW1lUGFydHMoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gUmVmbGVjdC5hcHBseShkYXRldGltZSwgbnVsbCwgW2NvbnRleHQsIC4uLmFyZ3NdKSwgKCkgPT4gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyksICdkYXRldGltZSBmb3JtYXQnLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcm9vdCA9PiByb290W0RhdGV0aW1lUGFydHNTeW1ib2xdKC4uLmFyZ3MpLCBOT09QX1JFVFVSTl9BUlJBWSwgdmFsID0+IGlzU3RyaW5nKHZhbCkgfHwgaXNBcnJheSh2YWwpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UGx1cmFsUnVsZXMocnVsZXMpIHtcbiAgICAgICAgX3BsdXJhbFJ1bGVzID0gcnVsZXM7XG4gICAgICAgIF9jb250ZXh0LnBsdXJhbFJ1bGVzID0gX3BsdXJhbFJ1bGVzO1xuICAgIH1cbiAgICAvLyB0ZVxuICAgIGZ1bmN0aW9uIHRlKGtleSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb2NhbGUgPSBpc1N0cmluZyhsb2NhbGUpID8gbG9jYWxlIDogX2xvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRMb2NhbGVNZXNzYWdlKHRhcmdldExvY2FsZSk7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IF9jb250ZXh0Lm1lc3NhZ2VSZXNvbHZlcihtZXNzYWdlLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuICF0cmFuc2xhdGVFeGlzdENvbXBhdGlibGVcbiAgICAgICAgICAgICAgICA/IGlzTWVzc2FnZUFTVChyZXNvbHZlZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNNZXNzYWdlRnVuY3Rpb24ocmVzb2x2ZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzU3RyaW5nKHJlc29sdmVkKVxuICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQgIT0gbnVsbDtcbiAgICAgICAgfSwgKCkgPT4gW2tleV0sICd0cmFuc2xhdGUgZXhpc3RzJywgcm9vdCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShyb290LnRlLCByb290LCBba2V5LCBsb2NhbGVdKTtcbiAgICAgICAgfSwgTk9PUF9SRVRVUk5fRkFMU0UsIHZhbCA9PiBpc0Jvb2xlYW4odmFsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVNZXNzYWdlcyhrZXkpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2VzID0gbnVsbDtcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IGZhbGxiYWNrV2l0aExvY2FsZUNoYWluKF9jb250ZXh0LCBfZmFsbGJhY2tMb2NhbGUudmFsdWUsIF9sb2NhbGUudmFsdWUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExvY2FsZU1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlW2xvY2FsZXNbaV1dIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZVZhbHVlID0gX2NvbnRleHQubWVzc2FnZVJlc29sdmVyKHRhcmdldExvY2FsZU1lc3NhZ2VzLCBrZXkpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlVmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH1cbiAgICAvLyB0bVxuICAgIGZ1bmN0aW9uIHRtKGtleSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHJlc29sdmVNZXNzYWdlcyhrZXkpO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzICE9IG51bGxcbiAgICAgICAgICAgID8gbWVzc2FnZXNcbiAgICAgICAgICAgIDogX19yb290XG4gICAgICAgICAgICAgICAgPyBfX3Jvb3QudG0oa2V5KSB8fCB7fVxuICAgICAgICAgICAgICAgIDoge307XG4gICAgfVxuICAgIC8vIGdldExvY2FsZU1lc3NhZ2VcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gKF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdIHx8IHt9KTtcbiAgICB9XG4gICAgLy8gc2V0TG9jYWxlTWVzc2FnZVxuICAgIGZ1bmN0aW9uIHNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChmbGF0SnNvbikge1xuICAgICAgICAgICAgY29uc3QgX21lc3NhZ2UgPSB7IFtsb2NhbGVdOiBtZXNzYWdlIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd24oX21lc3NhZ2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24oX21lc3NhZ2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlW2xvY2FsZV07XG4gICAgICAgIH1cbiAgICAgICAgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gPSBtZXNzYWdlO1xuICAgICAgICBfY29udGV4dC5tZXNzYWdlcyA9IF9tZXNzYWdlcy52YWx1ZTtcbiAgICB9XG4gICAgLy8gbWVyZ2VMb2NhbGVNZXNzYWdlXG4gICAgZnVuY3Rpb24gbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSA9IF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdIHx8IHt9O1xuICAgICAgICBjb25zdCBfbWVzc2FnZSA9IHsgW2xvY2FsZV06IG1lc3NhZ2UgfTtcbiAgICAgICAgaWYgKGZsYXRKc29uKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd24oX21lc3NhZ2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24oX21lc3NhZ2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZVtsb2NhbGVdO1xuICAgICAgICBkZWVwQ29weShtZXNzYWdlLCBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSk7XG4gICAgICAgIF9jb250ZXh0Lm1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlO1xuICAgIH1cbiAgICAvLyBnZXREYXRlVGltZUZvcm1hdFxuICAgIGZ1bmN0aW9uIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9O1xuICAgIH1cbiAgICAvLyBzZXREYXRlVGltZUZvcm1hdFxuICAgIGZ1bmN0aW9uIHNldERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGZvcm1hdDtcbiAgICAgICAgX2NvbnRleHQuZGF0ZXRpbWVGb3JtYXRzID0gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgY2xlYXJEYXRlVGltZUZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xuICAgIH1cbiAgICAvLyBtZXJnZURhdGVUaW1lRm9ybWF0XG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBhc3NpZ24oX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9LCBmb3JtYXQpO1xuICAgICAgICBfY29udGV4dC5kYXRldGltZUZvcm1hdHMgPSBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xuICAgICAgICBjbGVhckRhdGVUaW1lRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XG4gICAgfVxuICAgIC8vIGdldE51bWJlckZvcm1hdFxuICAgIGZ1bmN0aW9uIGdldE51bWJlckZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge307XG4gICAgfVxuICAgIC8vIHNldE51bWJlckZvcm1hdFxuICAgIGZ1bmN0aW9uIHNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gZm9ybWF0O1xuICAgICAgICBfY29udGV4dC5udW1iZXJGb3JtYXRzID0gX251bWJlckZvcm1hdHMudmFsdWU7XG4gICAgICAgIGNsZWFyTnVtYmVyRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XG4gICAgfVxuICAgIC8vIG1lcmdlTnVtYmVyRm9ybWF0XG4gICAgZnVuY3Rpb24gbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGFzc2lnbihfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9LCBmb3JtYXQpO1xuICAgICAgICBfY29udGV4dC5udW1iZXJGb3JtYXRzID0gX251bWJlckZvcm1hdHMudmFsdWU7XG4gICAgICAgIGNsZWFyTnVtYmVyRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XG4gICAgfVxuICAgIC8vIGZvciBkZWJ1Z1xuICAgIGNvbXBvc2VySUQrKztcbiAgICAvLyB3YXRjaCByb290IGxvY2FsZSAmIGZhbGxiYWNrTG9jYWxlXG4gICAgaWYgKF9fcm9vdCAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgd2F0Y2goX19yb290LmxvY2FsZSwgKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKF9pbmhlcml0TG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5sb2NhbGUgPSB2YWw7XG4gICAgICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaChfX3Jvb3QuZmFsbGJhY2tMb2NhbGUsICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmIChfaW5oZXJpdExvY2FsZSkge1xuICAgICAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0xvY2FsZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGRlZmluZSBiYXNpYyBjb21wb3NpdGlvbiBBUEkhXG4gICAgY29uc3QgY29tcG9zZXIgPSB7XG4gICAgICAgIGlkOiBjb21wb3NlcklELFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBnZXQgaW5oZXJpdExvY2FsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfaW5oZXJpdExvY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGluaGVyaXRMb2NhbGUodmFsKSB7XG4gICAgICAgICAgICBfaW5oZXJpdExvY2FsZSA9IHZhbDtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgX19yb290KSB7XG4gICAgICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IF9fcm9vdC5sb2NhbGUudmFsdWU7XG4gICAgICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gX19yb290LmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCBfZmFsbGJhY2tMb2NhbGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgYXZhaWxhYmxlTG9jYWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhfbWVzc2FnZXMudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGdldCBtb2RpZmllcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gX21vZGlmaWVycztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHBsdXJhbFJ1bGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9wbHVyYWxSdWxlcyB8fCB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGlzR2xvYmFsKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9pc0dsb2JhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IG1pc3NpbmdXYXJuKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9taXNzaW5nV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IG1pc3NpbmdXYXJuKHZhbCkge1xuICAgICAgICAgICAgX21pc3NpbmdXYXJuID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQubWlzc2luZ1dhcm4gPSBfbWlzc2luZ1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja1dhcm4oKSB7XG4gICAgICAgICAgICByZXR1cm4gX2ZhbGxiYWNrV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrV2Fybih2YWwpIHtcbiAgICAgICAgICAgIF9mYWxsYmFja1dhcm4gPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja1dhcm4gPSBfZmFsbGJhY2tXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tSb290KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja1Jvb3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja1Jvb3QodmFsKSB7XG4gICAgICAgICAgICBfZmFsbGJhY2tSb290ID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tGb3JtYXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2ZhbGxiYWNrRm9ybWF0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tGb3JtYXQodmFsKSB7XG4gICAgICAgICAgICBfZmFsbGJhY2tGb3JtYXQgPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0Zvcm1hdCA9IF9mYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHdhcm5IdG1sTWVzc2FnZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfd2Fybkh0bWxNZXNzYWdlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgd2Fybkh0bWxNZXNzYWdlKHZhbCkge1xuICAgICAgICAgICAgX3dhcm5IdG1sTWVzc2FnZSA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0Lndhcm5IdG1sTWVzc2FnZSA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGVzY2FwZVBhcmFtZXRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfZXNjYXBlUGFyYW1ldGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZXNjYXBlUGFyYW1ldGVyKHZhbCkge1xuICAgICAgICAgICAgX2VzY2FwZVBhcmFtZXRlciA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0LmVzY2FwZVBhcmFtZXRlciA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgdCxcbiAgICAgICAgZ2V0TG9jYWxlTWVzc2FnZSxcbiAgICAgICAgc2V0TG9jYWxlTWVzc2FnZSxcbiAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlLFxuICAgICAgICBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyLFxuICAgICAgICBzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyLFxuICAgICAgICBnZXRNaXNzaW5nSGFuZGxlcixcbiAgICAgICAgc2V0TWlzc2luZ0hhbmRsZXIsXG4gICAgICAgIFtTZXRQbHVyYWxSdWxlc1N5bWJvbF06IHNldFBsdXJhbFJ1bGVzXG4gICAgfTtcbiAgICB7XG4gICAgICAgIGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cyA9IGRhdGV0aW1lRm9ybWF0cztcbiAgICAgICAgY29tcG9zZXIubnVtYmVyRm9ybWF0cyA9IG51bWJlckZvcm1hdHM7XG4gICAgICAgIGNvbXBvc2VyLnJ0ID0gcnQ7XG4gICAgICAgIGNvbXBvc2VyLnRlID0gdGU7XG4gICAgICAgIGNvbXBvc2VyLnRtID0gdG07XG4gICAgICAgIGNvbXBvc2VyLmQgPSBkO1xuICAgICAgICBjb21wb3Nlci5uID0gbjtcbiAgICAgICAgY29tcG9zZXIuZ2V0RGF0ZVRpbWVGb3JtYXQgPSBnZXREYXRlVGltZUZvcm1hdDtcbiAgICAgICAgY29tcG9zZXIuc2V0RGF0ZVRpbWVGb3JtYXQgPSBzZXREYXRlVGltZUZvcm1hdDtcbiAgICAgICAgY29tcG9zZXIubWVyZ2VEYXRlVGltZUZvcm1hdCA9IG1lcmdlRGF0ZVRpbWVGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLmdldE51bWJlckZvcm1hdCA9IGdldE51bWJlckZvcm1hdDtcbiAgICAgICAgY29tcG9zZXIuc2V0TnVtYmVyRm9ybWF0ID0gc2V0TnVtYmVyRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5tZXJnZU51bWJlckZvcm1hdCA9IG1lcmdlTnVtYmVyRm9ybWF0O1xuICAgICAgICBjb21wb3NlcltJbmVqY3RXaXRoT3B0aW9uU3ltYm9sXSA9IF9faW5qZWN0V2l0aE9wdGlvbjtcbiAgICAgICAgY29tcG9zZXJbVHJhbnNsYXRlVk5vZGVTeW1ib2xdID0gdHJhbnNsYXRlVk5vZGU7XG4gICAgICAgIGNvbXBvc2VyW0RhdGV0aW1lUGFydHNTeW1ib2xdID0gZGF0ZXRpbWVQYXJ0cztcbiAgICAgICAgY29tcG9zZXJbTnVtYmVyUGFydHNTeW1ib2xdID0gbnVtYmVyUGFydHM7XG4gICAgfVxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdID0gKGVtaXR0ZXIpID0+IHtcbiAgICAgICAgICAgIF9jb250ZXh0Ll9fdl9lbWl0dGVyID0gZW1pdHRlcjtcbiAgICAgICAgfTtcbiAgICAgICAgY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdID0gKCkgPT4ge1xuICAgICAgICAgICAgX2NvbnRleHQuX192X2VtaXR0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjb21wb3Nlcjtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIENvbnZlcnQgdG8gSTE4biBDb21wb3NlciBPcHRpb25zIGZyb20gVnVlSTE4biBPcHRpb25zXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykge1xuICAgIGNvbnN0IGxvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKSA/IG9wdGlvbnMubG9jYWxlIDogREVGQVVMVF9MT0NBTEU7XG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBpc0FycmF5KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIGlzUGxhaW5PYmplY3Qob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrTG9jYWxlXG4gICAgICAgIDogbG9jYWxlO1xuICAgIGNvbnN0IG1pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5zaWxlbnRUcmFuc2xhdGlvbldhcm4pIHx8XG4gICAgICAgIGlzUmVnRXhwKG9wdGlvbnMuc2lsZW50VHJhbnNsYXRpb25XYXJuKVxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FyblxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuc2lsZW50RmFsbGJhY2tXYXJuKSB8fFxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybilcbiAgICAgICAgPyAhb3B0aW9ucy5zaWxlbnRGYWxsYmFja1dhcm5cbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGZhbGxiYWNrUm9vdCA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrUm9vdFxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcbiAgICBjb25zdCBtb2RpZmllcnMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMubW9kaWZpZXJzKSA/IG9wdGlvbnMubW9kaWZpZXJzIDoge307XG4gICAgY29uc3QgcGx1cmFsaXphdGlvblJ1bGVzID0gb3B0aW9ucy5wbHVyYWxpemF0aW9uUnVsZXM7XG4gICAgY29uc3QgcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc1N0cmluZyhvcHRpb25zLndhcm5IdG1sSW5NZXNzYWdlKVxuICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxJbk1lc3NhZ2UgIT09ICdvZmYnXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVySHRtbDtcbiAgICBjb25zdCBpbmhlcml0TG9jYWxlID0gaXNCb29sZWFuKG9wdGlvbnMuc3luYykgPyBvcHRpb25zLnN5bmMgOiB0cnVlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgb3B0aW9ucy5mb3JtYXR0ZXIpIHtcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfRk9STUFUVEVSKSk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgb3B0aW9ucy5wcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQpIHtcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFKSk7XG4gICAgfVxuICAgIGxldCBtZXNzYWdlcyA9IG9wdGlvbnMubWVzc2FnZXM7XG4gICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5zaGFyZWRNZXNzYWdlcykpIHtcbiAgICAgICAgY29uc3Qgc2hhcmVkTWVzc2FnZXMgPSBvcHRpb25zLnNoYXJlZE1lc3NhZ2VzO1xuICAgICAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMoc2hhcmVkTWVzc2FnZXMpO1xuICAgICAgICBtZXNzYWdlcyA9IGxvY2FsZXMucmVkdWNlKChtZXNzYWdlcywgbG9jYWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbbG9jYWxlXSB8fCAobWVzc2FnZXNbbG9jYWxlXSA9IHt9KTtcbiAgICAgICAgICAgIGFzc2lnbihtZXNzYWdlLCBzaGFyZWRNZXNzYWdlc1tsb2NhbGVdKTtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgICAgfSwgKG1lc3NhZ2VzIHx8IHt9KSk7XG4gICAgfVxuICAgIGNvbnN0IHsgX19pMThuLCBfX3Jvb3QsIF9faW5qZWN0V2l0aE9wdGlvbiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSBvcHRpb25zLmRhdGV0aW1lRm9ybWF0cztcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzID0gb3B0aW9ucy5udW1iZXJGb3JtYXRzO1xuICAgIGNvbnN0IGZsYXRKc29uID0gb3B0aW9ucy5mbGF0SnNvbjtcbiAgICBjb25zdCB0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUgPSBvcHRpb25zXG4gICAgICAgIC50cmFuc2xhdGVFeGlzdENvbXBhdGlibGU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBmYWxsYmFja0xvY2FsZSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGZsYXRKc29uLFxuICAgICAgICBkYXRldGltZUZvcm1hdHMsXG4gICAgICAgIG51bWJlckZvcm1hdHMsXG4gICAgICAgIG1pc3NpbmcsXG4gICAgICAgIG1pc3NpbmdXYXJuLFxuICAgICAgICBmYWxsYmFja1dhcm4sXG4gICAgICAgIGZhbGxiYWNrUm9vdCxcbiAgICAgICAgZmFsbGJhY2tGb3JtYXQsXG4gICAgICAgIG1vZGlmaWVycyxcbiAgICAgICAgcGx1cmFsUnVsZXM6IHBsdXJhbGl6YXRpb25SdWxlcyxcbiAgICAgICAgcG9zdFRyYW5zbGF0aW9uLFxuICAgICAgICB3YXJuSHRtbE1lc3NhZ2UsXG4gICAgICAgIGVzY2FwZVBhcmFtZXRlcixcbiAgICAgICAgbWVzc2FnZVJlc29sdmVyOiBvcHRpb25zLm1lc3NhZ2VSZXNvbHZlcixcbiAgICAgICAgaW5oZXJpdExvY2FsZSxcbiAgICAgICAgdHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlLFxuICAgICAgICBfX2kxOG4sXG4gICAgICAgIF9fcm9vdCxcbiAgICAgICAgX19pbmplY3RXaXRoT3B0aW9uXG4gICAgfTtcbn1cbi8qKlxuICogY3JlYXRlIFZ1ZUkxOG4gaW50ZXJmYWNlIGZhY3RvcnlcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGNyZWF0ZVZ1ZUkxOG4ob3B0aW9ucyA9IHt9LCBWdWVJMThuTGVnYWN5KSB7XG4gICAge1xuICAgICAgICBjb25zdCBjb21wb3NlciA9IGNyZWF0ZUNvbXBvc2VyKGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykpO1xuICAgICAgICBjb25zdCB7IF9fZXh0ZW5kZXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIC8vIGRlZmluZXMgVnVlSTE4blxuICAgICAgICBjb25zdCB2dWVJMThuID0ge1xuICAgICAgICAgICAgLy8gaWRcbiAgICAgICAgICAgIGlkOiBjb21wb3Nlci5pZCxcbiAgICAgICAgICAgIC8vIGxvY2FsZVxuICAgICAgICAgICAgZ2V0IGxvY2FsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBsb2NhbGUodmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIubG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrTG9jYWxlXG4gICAgICAgICAgICBnZXQgZmFsbGJhY2tMb2NhbGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBmYWxsYmFja0xvY2FsZSh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtZXNzYWdlc1xuICAgICAgICAgICAgZ2V0IG1lc3NhZ2VzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5tZXNzYWdlcy52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBkYXRldGltZUZvcm1hdHNcbiAgICAgICAgICAgIGdldCBkYXRldGltZUZvcm1hdHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBudW1iZXJGb3JtYXRzXG4gICAgICAgICAgICBnZXQgbnVtYmVyRm9ybWF0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBhdmFpbGFibGVMb2NhbGVzXG4gICAgICAgICAgICBnZXQgYXZhaWxhYmxlTG9jYWxlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuYXZhaWxhYmxlTG9jYWxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBmb3JtYXR0ZXJcbiAgICAgICAgICAgIGdldCBmb3JtYXR0ZXIoKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUikpO1xuICAgICAgICAgICAgICAgIC8vIGR1bW15XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBmb3JtYXR0ZXIodmFsKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1pc3NpbmdcbiAgICAgICAgICAgIGdldCBtaXNzaW5nKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRNaXNzaW5nSGFuZGxlcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBtaXNzaW5nKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5zZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzaWxlbnRUcmFuc2xhdGlvbldhcm5cbiAgICAgICAgICAgIGdldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQm9vbGVhbihjb21wb3Nlci5taXNzaW5nV2FybilcbiAgICAgICAgICAgICAgICAgICAgPyAhY29tcG9zZXIubWlzc2luZ1dhcm5cbiAgICAgICAgICAgICAgICAgICAgOiBjb21wb3Nlci5taXNzaW5nV2FybjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc2lsZW50VHJhbnNsYXRpb25XYXJuKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLm1pc3NpbmdXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNpbGVudEZhbGxiYWNrV2FyblxuICAgICAgICAgICAgZ2V0IHNpbGVudEZhbGxiYWNrV2FybigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNCb29sZWFuKGNvbXBvc2VyLmZhbGxiYWNrV2FybilcbiAgICAgICAgICAgICAgICAgICAgPyAhY29tcG9zZXIuZmFsbGJhY2tXYXJuXG4gICAgICAgICAgICAgICAgICAgIDogY29tcG9zZXIuZmFsbGJhY2tXYXJuO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzaWxlbnRGYWxsYmFja1dhcm4odmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1vZGlmaWVyc1xuICAgICAgICAgICAgZ2V0IG1vZGlmaWVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubW9kaWZpZXJzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGZvcm1hdEZhbGxiYWNrTWVzc2FnZXNcbiAgICAgICAgICAgIGdldCBmb3JtYXRGYWxsYmFja01lc3NhZ2VzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5mYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgZm9ybWF0RmFsbGJhY2tNZXNzYWdlcyh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja0Zvcm1hdCA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3N0VHJhbnNsYXRpb25cbiAgICAgICAgICAgIGdldCBwb3N0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgcG9zdFRyYW5zbGF0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5zZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHN5bmNcbiAgICAgICAgICAgIGdldCBzeW5jKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5pbmhlcml0TG9jYWxlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzeW5jKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmluaGVyaXRMb2NhbGUgPSB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gd2FybkluSHRtbE1lc3NhZ2VcbiAgICAgICAgICAgIGdldCB3YXJuSHRtbEluTWVzc2FnZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIud2Fybkh0bWxNZXNzYWdlID8gJ3dhcm4nIDogJ29mZic7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHdhcm5IdG1sSW5NZXNzYWdlKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLndhcm5IdG1sTWVzc2FnZSA9IHZhbCAhPT0gJ29mZic7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZXNjYXBlUGFyYW1ldGVySHRtbFxuICAgICAgICAgICAgZ2V0IGVzY2FwZVBhcmFtZXRlckh0bWwoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmVzY2FwZVBhcmFtZXRlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgZXNjYXBlUGFyYW1ldGVySHRtbCh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcHJlc2VydmVEaXJlY3RpdmVDb250ZW50XG4gICAgICAgICAgICBnZXQgcHJlc2VydmVEaXJlY3RpdmVDb250ZW50KCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV9ESVJFQ1RJVkUpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgcHJlc2VydmVEaXJlY3RpdmVDb250ZW50KHZhbCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9QUkVTRVJWRV9ESVJFQ1RJVkUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwbHVyYWxpemF0aW9uUnVsZXNcbiAgICAgICAgICAgIGdldCBwbHVyYWxpemF0aW9uUnVsZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnBsdXJhbFJ1bGVzIHx8IHt9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGZvciBpbnRlcm5hbFxuICAgICAgICAgICAgX19jb21wb3NlcjogY29tcG9zZXIsXG4gICAgICAgICAgICAvLyB0XG4gICAgICAgICAgICB0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnM10gPSBhcmdzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnMTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJnMykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IGFyZzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZWQgPSBhcmczO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gY29tcG9zZXIudChrZXksIChsaXN0IHx8IG5hbWVkIHx8IHt9KSBhcyBhbnksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIudCwgY29tcG9zZXIsIFtcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAobGlzdCB8fCBuYW1lZCB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIucnQsIGNvbXBvc2VyLCBbLi4uYXJnc10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRjXG4gICAgICAgICAgICB0YyguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2FyZzEsIGFyZzIsIGFyZzNdID0gYXJncztcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0geyBwbHVyYWw6IDEgfTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnMTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc051bWJlcihhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZWQgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBhcmczO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGFyZzMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBhcmczO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCAobGlzdCB8fCBuYW1lZCB8fCB7fSkgYXMgYW55LCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLnQsIGNvbXBvc2VyLCBbXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgKGxpc3QgfHwgbmFtZWQgfHwge30pLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGVcbiAgICAgICAgICAgIHRlKGtleSwgbG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnRlKGtleSwgbG9jYWxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0bVxuICAgICAgICAgICAgdG0oa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnRtKGtleSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZ2V0TG9jYWxlTWVzc2FnZVxuICAgICAgICAgICAgZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNldExvY2FsZU1lc3NhZ2VcbiAgICAgICAgICAgIHNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1lcmdlTG9jYWxlTWVzc2FnZVxuICAgICAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGRcbiAgICAgICAgICAgIGQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLmQsIGNvbXBvc2VyLCBbLi4uYXJnc10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGdldERhdGVUaW1lRm9ybWF0XG4gICAgICAgICAgICBnZXREYXRlVGltZUZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzZXREYXRlVGltZUZvcm1hdFxuICAgICAgICAgICAgc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5zZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbWVyZ2VEYXRlVGltZUZvcm1hdFxuICAgICAgICAgICAgbWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG5cbiAgICAgICAgICAgIG4oLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLm4sIGNvbXBvc2VyLCBbLi4uYXJnc10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGdldE51bWJlckZvcm1hdFxuICAgICAgICAgICAgZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXROdW1iZXJGb3JtYXQobG9jYWxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzZXROdW1iZXJGb3JtYXRcbiAgICAgICAgICAgIHNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLnNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbWVyZ2VOdW1iZXJGb3JtYXRcbiAgICAgICAgICAgIG1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGdldENob2ljZUluZGV4XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfR0VUX0NIT0lDRV9JTkRFWCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdnVlSTE4bi5fX2V4dGVuZGVyID0gX19leHRlbmRlcjtcbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB2dWVJMThuLl9fZW5hYmxlRW1pdHRlciA9IChlbWl0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX19jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgICAgIF9fY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gJiYgX19jb21wb3NlcltFbmFibGVFbWl0dGVyXShlbWl0dGVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2dWVJMThuLl9fZGlzYWJsZUVtaXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX19jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgICAgIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdICYmIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2dWVJMThuO1xuICAgIH1cbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG5jb25zdCBiYXNlRm9ybWF0UHJvcHMgPSB7XG4gICAgdGFnOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF1cbiAgICB9LFxuICAgIGxvY2FsZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgLy8gTk9URTogYXZvaWQgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9ydXNoc3RhY2svaXNzdWVzLzEwNTBcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsIC8qIENvbXBvbmVudEkxOG5TY29wZSAqLykgPT4gdmFsID09PSAncGFyZW50JyB8fCB2YWwgPT09ICdnbG9iYWwnLFxuICAgICAgICBkZWZhdWx0OiAncGFyZW50JyAvKiBDb21wb25lbnRJMThuU2NvcGUgKi9cbiAgICB9LFxuICAgIGkxOG46IHtcbiAgICAgICAgdHlwZTogT2JqZWN0XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGVBcmcoXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxueyBzbG90cyB9LCAvLyBTZXR1cENvbnRleHQsXG5rZXlzKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAvLyBkZWZhdWx0IHNsb3Qgd2l0aCBsaXN0XG4gICAgICAgIGNvbnN0IHJldCA9IHNsb3RzLmRlZmF1bHQgPyBzbG90cy5kZWZhdWx0KCkgOiBbXTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIHJldC5yZWR1Y2UoKHNsb3QsIGN1cnJlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uc2xvdCxcbiAgICAgICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgICAgICAuLi4oY3VycmVudC50eXBlID09PSBGcmFnbWVudCA/IGN1cnJlbnQuY2hpbGRyZW4gOiBbY3VycmVudF1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSwgW10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gbmFtZWQgc2xvdHNcbiAgICAgICAgcmV0dXJuIGtleXMucmVkdWNlKChhcmcsIGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHNsb3RzW2tleV07XG4gICAgICAgICAgICBpZiAoc2xvdCkge1xuICAgICAgICAgICAgICAgIGFyZ1trZXldID0gc2xvdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRGcmFnbWVudGFibGVUYWcodGFnKSB7XG4gICAgcmV0dXJuIEZyYWdtZW50IDtcbn1cblxuY29uc3QgVHJhbnNsYXRpb25JbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgbmFtZTogJ2kxOG4tdCcsXG4gICAgcHJvcHM6IGFzc2lnbih7XG4gICAgICAgIGtleXBhdGg6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBsdXJhbDoge1xuICAgICAgICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB2YWxpZGF0b3I6ICh2YWwpID0+IGlzTnVtYmVyKHZhbCkgfHwgIWlzTmFOKHZhbClcbiAgICAgICAgfVxuICAgIH0sIGJhc2VGb3JtYXRQcm9wcyksXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBzbG90cywgYXR0cnMgfSA9IGNvbnRleHQ7XG4gICAgICAgIC8vIE5PVEU6IGF2b2lkIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvcnVzaHN0YWNrL2lzc3Vlcy8xMDUwXG4gICAgICAgIGNvbnN0IGkxOG4gPSBwcm9wcy5pMThuIHx8XG4gICAgICAgICAgICB1c2VJMThuKHtcbiAgICAgICAgICAgICAgICB1c2VTY29wZTogcHJvcHMuc2NvcGUsXG4gICAgICAgICAgICAgICAgX191c2VDb21wb25lbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNsb3RzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ18nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5sb2NhbGUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wcy5wbHVyYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGx1cmFsID0gaXNTdHJpbmcocHJvcHMucGx1cmFsKSA/ICtwcm9wcy5wbHVyYWwgOiBwcm9wcy5wbHVyYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBnZXRJbnRlcnBvbGF0ZUFyZyhjb250ZXh0LCBrZXlzKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGkxOG5bVHJhbnNsYXRlVk5vZGVTeW1ib2xdKHByb3BzLmtleXBhdGgsIGFyZywgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ25lZEF0dHJzID0gYXNzaWduKHt9LCBhdHRycyk7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSBpc1N0cmluZyhwcm9wcy50YWcpIHx8IGlzT2JqZWN0KHByb3BzLnRhZylcbiAgICAgICAgICAgICAgICA/IHByb3BzLnRhZ1xuICAgICAgICAgICAgICAgIDogZ2V0RnJhZ21lbnRhYmxlVGFnKCk7XG4gICAgICAgICAgICByZXR1cm4gaCh0YWcsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICB9XG59KTtcbi8qKlxuICogZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4gKiBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuICovXG4vKipcbiAqIFRyYW5zbGF0aW9uIENvbXBvbmVudFxuICpcbiAqIEByZW1hcmtzXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xuICpcbiAqIEBWdWVJMThuU2VlIFtUcmFuc2xhdGlvblByb3BzXShjb21wb25lbnQjdHJhbnNsYXRpb25wcm9wcylcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQ29tcG9uZW50IEludGVycG9sYXRpb25dKC4uL2d1aWRlL2FkdmFuY2VkL2NvbXBvbmVudClcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgaHRtbFxuICogPGRpdiBpZD1cImFwcFwiPlxuICogICA8IS0tIC4uLiAtLT5cbiAqICAgPGkxOG4ga2V5cGF0aD1cInRlcm1cIiB0YWc9XCJsYWJlbFwiIGZvcj1cInRvc1wiPlxuICogICAgIDxhIDpocmVmPVwidXJsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3sgJHQoJ3RvcycpIH19PC9hPlxuICogICA8L2kxOG4+XG4gKiAgIDwhLS0gLi4uIC0tPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXG4gKiBpbXBvcnQgeyBjcmVhdGVJMThuIH0gZnJvbSAndnVlLWkxOG4nXG4gKlxuICogY29uc3QgbWVzc2FnZXMgPSB7XG4gKiAgIGVuOiB7XG4gKiAgICAgdG9zOiAnVGVybSBvZiBTZXJ2aWNlJyxcbiAqICAgICB0ZXJtOiAnSSBhY2NlcHQgeHh4IHswfS4nXG4gKiAgIH0sXG4gKiAgIGphOiB7XG4gKiAgICAgdG9zOiAn5Yip55So6KaP57SEJyxcbiAqICAgICB0ZXJtOiAn56eB44GvIHh4eCDjga57MH3jgavlkIzmhI/jgZfjgb7jgZnjgIInXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBpMThuID0gY3JlYXRlSTE4bih7XG4gKiAgIGxvY2FsZTogJ2VuJyxcbiAqICAgbWVzc2FnZXNcbiAqIH0pXG4gKlxuICogY29uc3QgYXBwID0gY3JlYXRlQXBwKHtcbiAqICAgZGF0YToge1xuICogICAgIHVybDogJy90ZXJtJ1xuICogICB9XG4gKiB9KS51c2UoaTE4bikubW91bnQoJyNhcHAnKVxuICogYGBgXG4gKlxuICogQFZ1ZUkxOG5Db21wb25lbnRcbiAqL1xuY29uc3QgVHJhbnNsYXRpb24gPSBUcmFuc2xhdGlvbkltcGw7XG5jb25zdCBJMThuVCA9IFRyYW5zbGF0aW9uO1xuXG5mdW5jdGlvbiBpc1ZOb2RlKHRhcmdldCkge1xuICAgIHJldHVybiBpc0FycmF5KHRhcmdldCkgJiYgIWlzU3RyaW5nKHRhcmdldFswXSk7XG59XG5mdW5jdGlvbiByZW5kZXJGb3JtYXR0ZXIocHJvcHMsIGNvbnRleHQsIHNsb3RLZXlzLCBwYXJ0Rm9ybWF0dGVyKSB7XG4gICAgY29uc3QgeyBzbG90cywgYXR0cnMgfSA9IGNvbnRleHQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgcGFydDogdHJ1ZSB9O1xuICAgICAgICBsZXQgb3ZlcnJpZGVzID0ge307XG4gICAgICAgIGlmIChwcm9wcy5sb2NhbGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmluZyhwcm9wcy5mb3JtYXQpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmtleSA9IHByb3BzLmZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChwcm9wcy5mb3JtYXQpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBvcHRpb25zLmtleSA9IHByb3BzLmZvcm1hdC5rZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IG51bWJlciBmb3JtYXQgb3B0aW9ucyBvbmx5XG4gICAgICAgICAgICBvdmVycmlkZXMgPSBPYmplY3Qua2V5cyhwcm9wcy5mb3JtYXQpLnJlZHVjZSgob3B0aW9ucywgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBzbG90S2V5cy5pbmNsdWRlcyhwcm9wKVxuICAgICAgICAgICAgICAgICAgICA/IGFzc2lnbih7fSwgb3B0aW9ucywgeyBbcHJvcF06IHByb3BzLmZvcm1hdFtwcm9wXSB9KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgOiBvcHRpb25zO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGFydEZvcm1hdHRlciguLi5bcHJvcHMudmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc10pO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbb3B0aW9ucy5rZXldO1xuICAgICAgICBpZiAoaXNBcnJheShwYXJ0cykpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gcGFydHMubWFwKChwYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1twYXJ0LnR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzbG90XG4gICAgICAgICAgICAgICAgICAgID8gc2xvdCh7IFtwYXJ0LnR5cGVdOiBwYXJ0LnZhbHVlLCBpbmRleCwgcGFydHMgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBbcGFydC52YWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGlzVk5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVswXS5rZXkgPSBgJHtwYXJ0LnR5cGV9LSR7aW5kZXh9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhwYXJ0cykpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW3BhcnRzXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhc3NpZ25lZEF0dHJzID0gYXNzaWduKHt9LCBhdHRycyk7XG4gICAgICAgIGNvbnN0IHRhZyA9IGlzU3RyaW5nKHByb3BzLnRhZykgfHwgaXNPYmplY3QocHJvcHMudGFnKVxuICAgICAgICAgICAgPyBwcm9wcy50YWdcbiAgICAgICAgICAgIDogZ2V0RnJhZ21lbnRhYmxlVGFnKCk7XG4gICAgICAgIHJldHVybiBoKHRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pO1xuICAgIH07XG59XG5cbmNvbnN0IE51bWJlckZvcm1hdEltcGwgPSAvKiNfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBuYW1lOiAnaTE4bi1uJyxcbiAgICBwcm9wczogYXNzaWduKHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XVxuICAgICAgICB9XG4gICAgfSwgYmFzZUZvcm1hdFByb3BzKSxcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBpMThuID0gcHJvcHMuaTE4biB8fFxuICAgICAgICAgICAgdXNlSTE4bih7XG4gICAgICAgICAgICAgICAgdXNlU2NvcGU6ICdwYXJlbnQnLFxuICAgICAgICAgICAgICAgIF9fdXNlQ29tcG9uZW50OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1hdHRlcihwcm9wcywgY29udGV4dCwgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMsICguLi5hcmdzKSA9PiBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgaTE4bltOdW1iZXJQYXJ0c1N5bWJvbF0oLi4uYXJncykpO1xuICAgIH1cbn0pO1xuLyoqXG4gKiBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcbiAqIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG4gKi9cbi8qKlxuICogTnVtYmVyIEZvcm1hdCBDb21wb25lbnRcbiAqXG4gKiBAcmVtYXJrc1xuICogU2VlIHRoZSBmb2xsb3dpbmcgaXRlbXMgZm9yIHByb3BlcnR5IGFib3V0IGRldGFpbHNcbiAqXG4gKiBAVnVlSTE4blNlZSBbRm9ybWF0dGFibGVQcm9wc10oY29tcG9uZW50I2Zvcm1hdHRhYmxlcHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQmFzZUZvcm1hdFByb3BzXShjb21wb25lbnQjYmFzZWZvcm1hdHByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0N1c3RvbSBGb3JtYXR0aW5nXSguLi9ndWlkZS9lc3NlbnRpYWxzL251bWJlciNjdXN0b20tZm9ybWF0dGluZylcbiAqXG4gKiBAVnVlSTE4bkRhbmdlclxuICogTm90IHN1cHBvcnRlZCBJRSwgZHVlIHRvIG5vIHN1cHBvcnQgYEludGwuTnVtYmVyRm9ybWF0I2Zvcm1hdFRvUGFydHNgIGluIFtJRV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvSW50bC9OdW1iZXJGb3JtYXQvZm9ybWF0VG9QYXJ0cylcbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB1c2UgaXQsIHlvdSBuZWVkIHRvIHVzZSBbcG9seWZpbGxdKGh0dHBzOi8vZ2l0aHViLmNvbS9mb3JtYXRqcy9mb3JtYXRqcy90cmVlL21haW4vcGFja2FnZXMvaW50bC1udW1iZXJmb3JtYXQpXG4gKlxuICogQFZ1ZUkxOG5Db21wb25lbnRcbiAqL1xuY29uc3QgTnVtYmVyRm9ybWF0ID0gTnVtYmVyRm9ybWF0SW1wbDtcbmNvbnN0IEkxOG5OID0gTnVtYmVyRm9ybWF0O1xuXG5jb25zdCBEYXRldGltZUZvcm1hdEltcGwgPSAvKiAjX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgbmFtZTogJ2kxOG4tZCcsXG4gICAgcHJvcHM6IGFzc2lnbih7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBEYXRlXSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XVxuICAgICAgICB9XG4gICAgfSwgYmFzZUZvcm1hdFByb3BzKSxcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBpMThuID0gcHJvcHMuaTE4biB8fFxuICAgICAgICAgICAgdXNlSTE4bih7XG4gICAgICAgICAgICAgICAgdXNlU2NvcGU6ICdwYXJlbnQnLFxuICAgICAgICAgICAgICAgIF9fdXNlQ29tcG9uZW50OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1hdHRlcihwcm9wcywgY29udGV4dCwgREFURVRJTUVfRk9STUFUX09QVElPTlNfS0VZUywgKC4uLmFyZ3MpID0+IFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBpMThuW0RhdGV0aW1lUGFydHNTeW1ib2xdKC4uLmFyZ3MpKTtcbiAgICB9XG59KTtcbi8qKlxuICogRGF0ZXRpbWUgRm9ybWF0IENvbXBvbmVudFxuICpcbiAqIEByZW1hcmtzXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xuICpcbiAqIEBWdWVJMThuU2VlIFtGb3JtYXR0YWJsZVByb3BzXShjb21wb25lbnQjZm9ybWF0dGFibGVwcm9wcylcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQ3VzdG9tIEZvcm1hdHRpbmddKC4uL2d1aWRlL2Vzc2VudGlhbHMvZGF0ZXRpbWUjY3VzdG9tLWZvcm1hdHRpbmcpXG4gKlxuICogQFZ1ZUkxOG5EYW5nZXJcbiAqIE5vdCBzdXBwb3J0ZWQgSUUsIGR1ZSB0byBubyBzdXBwb3J0IGBJbnRsLkRhdGVUaW1lRm9ybWF0I2Zvcm1hdFRvUGFydHNgIGluIFtJRV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvSW50bC9EYXRlVGltZUZvcm1hdC9mb3JtYXRUb1BhcnRzKVxuICpcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBpdCwgeW91IG5lZWQgdG8gdXNlIFtwb2x5ZmlsbF0oaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL3RyZWUvbWFpbi9wYWNrYWdlcy9pbnRsLWRhdGV0aW1lZm9ybWF0KVxuICpcbiAqIEBWdWVJMThuQ29tcG9uZW50XG4gKi9cbmNvbnN0IERhdGV0aW1lRm9ybWF0ID0gRGF0ZXRpbWVGb3JtYXRJbXBsO1xuY29uc3QgSTE4bkQgPSBEYXRldGltZUZvcm1hdDtcblxuZnVuY3Rpb24gZ2V0Q29tcG9zZXIkMihpMThuLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IGkxOG5JbnRlcm5hbCA9IGkxOG47XG4gICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJykge1xuICAgICAgICByZXR1cm4gKGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGluc3RhbmNlKSB8fCBpMThuLmdsb2JhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB2dWVJMThuID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gdnVlSTE4biAhPSBudWxsXG4gICAgICAgICAgICA/IHZ1ZUkxOG4uX19jb21wb3NlclxuICAgICAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZURGlyZWN0aXZlKGkxOG4pIHtcbiAgICBjb25zdCBfcHJvY2VzcyA9IChiaW5kaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaW5zdGFuY2UsIG1vZGlmaWVycywgdmFsdWUgfSA9IGJpbmRpbmc7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWluc3RhbmNlIHx8ICFpbnN0YW5jZS4kKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9zZXIgPSBnZXRDb21wb3NlciQyKGkxOG4sIGluc3RhbmNlLiQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGlmaWVycy5wcmVzZXJ2ZSkge1xuICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkUpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlVmFsdWUodmFsdWUpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgUmVmbGVjdC5hcHBseShjb21wb3Nlci50LCBjb21wb3NlciwgWy4uLm1ha2VQYXJhbXMocGFyc2VkVmFsdWUpXSksXG4gICAgICAgICAgICBjb21wb3NlclxuICAgICAgICBdO1xuICAgIH07XG4gICAgY29uc3QgcmVnaXN0ZXIgPSAoZWwsIGJpbmRpbmcpID0+IHtcbiAgICAgICAgY29uc3QgW3RleHRDb250ZW50LCBjb21wb3Nlcl0gPSBfcHJvY2VzcyhiaW5kaW5nKTtcbiAgICAgICAgaWYgKGluQnJvd3NlciAmJiBpMThuLmdsb2JhbCA9PT0gY29tcG9zZXIpIHtcbiAgICAgICAgICAgIC8vIGdsb2JhbCBzY29wZSBvbmx5XG4gICAgICAgICAgICBlbC5fX2kxOG5XYXRjaGVyID0gd2F0Y2goY29tcG9zZXIubG9jYWxlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYmluZGluZy5pbnN0YW5jZSAmJiBiaW5kaW5nLmluc3RhbmNlLiRmb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWwuX19jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgIH07XG4gICAgY29uc3QgdW5yZWdpc3RlciA9IChlbCkgPT4ge1xuICAgICAgICBpZiAoaW5Ccm93c2VyICYmIGVsLl9faTE4bldhdGNoZXIpIHtcbiAgICAgICAgICAgIGVsLl9faTE4bldhdGNoZXIoKTtcbiAgICAgICAgICAgIGVsLl9faTE4bldhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgZWwuX19pMThuV2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWwuX19jb21wb3Nlcikge1xuICAgICAgICAgICAgZWwuX19jb21wb3NlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBlbC5fX2NvbXBvc2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGUgPSAoZWwsIHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICBpZiAoZWwuX19jb21wb3Nlcikge1xuICAgICAgICAgICAgY29uc3QgY29tcG9zZXIgPSBlbC5fX2NvbXBvc2VyO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBwYXJzZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gUmVmbGVjdC5hcHBseShjb21wb3Nlci50LCBjb21wb3NlciwgW1xuICAgICAgICAgICAgICAgIC4uLm1ha2VQYXJhbXMocGFyc2VkVmFsdWUpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U1NSUHJvcHMgPSAoYmluZGluZykgPT4ge1xuICAgICAgICBjb25zdCBbdGV4dENvbnRlbnRdID0gX3Byb2Nlc3MoYmluZGluZyk7XG4gICAgICAgIHJldHVybiB7IHRleHRDb250ZW50IH07XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVkOiByZWdpc3RlcixcbiAgICAgICAgdW5tb3VudGVkOiB1bnJlZ2lzdGVyLFxuICAgICAgICBiZWZvcmVVcGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgZ2V0U1NSUHJvcHNcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZSh2YWx1ZSkge1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHsgcGF0aDogdmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCEoJ3BhdGgnIGluIHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlJFUVVJUkVEX1ZBTFVFLCAncGF0aCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5JTlZBTElEX1ZBTFVFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlUGFyYW1zKHZhbHVlKSB7XG4gICAgY29uc3QgeyBwYXRoLCBsb2NhbGUsIGFyZ3MsIGNob2ljZSwgcGx1cmFsIH0gPSB2YWx1ZTtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgY29uc3QgbmFtZWQgPSBhcmdzIHx8IHt9O1xuICAgIGlmIChpc1N0cmluZyhsb2NhbGUpKSB7XG4gICAgICAgIG9wdGlvbnMubG9jYWxlID0gbG9jYWxlO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2hvaWNlKSkge1xuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGNob2ljZTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKHBsdXJhbCkpIHtcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBwbHVyYWw7XG4gICAgfVxuICAgIHJldHVybiBbcGF0aCwgbmFtZWQsIG9wdGlvbnNdO1xufVxuXG5mdW5jdGlvbiBhcHBseShhcHAsIGkxOG4sIC4uLm9wdGlvbnMpIHtcbiAgICBjb25zdCBwbHVnaW5PcHRpb25zID0gaXNQbGFpbk9iamVjdChvcHRpb25zWzBdKVxuICAgICAgICA/IG9wdGlvbnNbMF1cbiAgICAgICAgOiB7fTtcbiAgICBjb25zdCB1c2VJMThuQ29tcG9uZW50TmFtZSA9ICEhcGx1Z2luT3B0aW9ucy51c2VJMThuQ29tcG9uZW50TmFtZTtcbiAgICBjb25zdCBnbG9iYWxJbnN0YWxsID0gaXNCb29sZWFuKHBsdWdpbk9wdGlvbnMuZ2xvYmFsSW5zdGFsbClcbiAgICAgICAgPyBwbHVnaW5PcHRpb25zLmdsb2JhbEluc3RhbGxcbiAgICAgICAgOiB0cnVlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ2xvYmFsSW5zdGFsbCAmJiB1c2VJMThuQ29tcG9uZW50TmFtZSkge1xuICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuQ09NUE9ORU5UX05BTUVfTEVHQUNZX0NPTVBBVElCTEUsIHtcbiAgICAgICAgICAgIG5hbWU6IFRyYW5zbGF0aW9uLm5hbWVcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoZ2xvYmFsSW5zdGFsbCkge1xuICAgICAgICBbIXVzZUkxOG5Db21wb25lbnROYW1lID8gVHJhbnNsYXRpb24ubmFtZSA6ICdpMThuJywgJ0kxOG5UJ10uZm9yRWFjaChuYW1lID0+IGFwcC5jb21wb25lbnQobmFtZSwgVHJhbnNsYXRpb24pKTtcbiAgICAgICAgW051bWJlckZvcm1hdC5uYW1lLCAnSTE4bk4nXS5mb3JFYWNoKG5hbWUgPT4gYXBwLmNvbXBvbmVudChuYW1lLCBOdW1iZXJGb3JtYXQpKTtcbiAgICAgICAgW0RhdGV0aW1lRm9ybWF0Lm5hbWUsICdJMThuRCddLmZvckVhY2gobmFtZSA9PiBhcHAuY29tcG9uZW50KG5hbWUsIERhdGV0aW1lRm9ybWF0KSk7XG4gICAgfVxuICAgIC8vIGluc3RhbGwgZGlyZWN0aXZlXG4gICAge1xuICAgICAgICBhcHAuZGlyZWN0aXZlKCd0JywgdlREaXJlY3RpdmUoaTE4bikpO1xuICAgIH1cbn1cblxuY29uc3QgVnVlRGV2VG9vbHNMYWJlbHMgPSB7XG4gICAgW1widnVlLWRldnRvb2xzLXBsdWdpbi12dWUtaTE4blwiIC8qIFZ1ZURldlRvb2xzSURzLlBMVUdJTiAqL106ICdWdWUgSTE4biBkZXZ0b29scycsXG4gICAgW1widnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqL106ICdJMThuIFJlc291cmNlcycsXG4gICAgW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqL106ICdWdWUgSTE4bidcbn07XG5jb25zdCBWdWVEZXZUb29sc1BsYWNlaG9sZGVycyA9IHtcbiAgICBbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovXTogJ1NlYXJjaCBmb3Igc2NvcGVzIC4uLidcbn07XG5jb25zdCBWdWVEZXZUb29sc1RpbWVsaW5lQ29sb3JzID0ge1xuICAgIFtcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi9dOiAweGZmY2QxOVxufTtcblxuY29uc3QgVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTID0gJ3Z1ZS1pMThuOiBjb21wb3NlciBwcm9wZXJ0aWVzJztcbmxldCBkZXZ0b29sc0FwaTtcbmFzeW5jIGZ1bmN0aW9uIGVuYWJsZURldlRvb2xzKGFwcCwgaTE4bikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgICAgICAgICBpZDogXCJ2dWUtZGV2dG9vbHMtcGx1Z2luLXZ1ZS1pMThuXCIgLyogVnVlRGV2VG9vbHNJRHMuUExVR0lOICovLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBWdWVEZXZUb29sc0xhYmVsc1tcInZ1ZS1kZXZ0b29scy1wbHVnaW4tdnVlLWkxOG5cIiAvKiBWdWVEZXZUb29sc0lEcy5QTFVHSU4gKi9dLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VOYW1lOiAndnVlLWkxOG4nLFxuICAgICAgICAgICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldicsXG4gICAgICAgICAgICAgICAgbG9nbzogJ2h0dHBzOi8vdnVlLWkxOG4uaW50bGlmeS5kZXYvdnVlLWkxOG4tZGV2dG9vbHMtbG9nby5wbmcnLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXM6IFtWVUVfSTE4Tl9DT01QT05FTlRfVFlQRVNdLFxuICAgICAgICAgICAgICAgIGFwcDogYXBwIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgfSwgYXBpID0+IHtcbiAgICAgICAgICAgICAgICBkZXZ0b29sc0FwaSA9IGFwaTtcbiAgICAgICAgICAgICAgICBhcGkub24udmlzaXRDb21wb25lbnRUcmVlKCh7IGNvbXBvbmVudEluc3RhbmNlLCB0cmVlTm9kZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFRyZWVUYWdzKGNvbXBvbmVudEluc3RhbmNlLCB0cmVlTm9kZSwgaTE4bik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHsgY29tcG9uZW50SW5zdGFuY2UsIGluc3RhbmNlRGF0YSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpMThuLm1vZGUgPT09ICdsZWdhY3knKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGdsb2JhbCBzY29wZSBvbiBsZWdhY3kgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG4uZ2xvYmFsLl9fY29tcG9zZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdENvbXBvc2VyKGluc3RhbmNlRGF0YSwgY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0Q29tcG9zZXIoaW5zdGFuY2VEYXRhLCBjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi8sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBWdWVEZXZUb29sc0xhYmVsc1tcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi9dLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnbGFuZ3VhZ2UnLFxuICAgICAgICAgICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6IFZ1ZURldlRvb2xzUGxhY2Vob2xkZXJzW1widnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqL11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJTY29wZShwYXlsb2FkLCBpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShhc3luYyAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkudW5oaWdobGlnaHRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0U2NvcGUocGF5bG9hZCwgaTE4bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5ub2RlSWQgPT09ICdnbG9iYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyb290cy5oYXMocGF5bG9hZC5hcHApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyb290XSA9IGF3YWl0IGFwaS5nZXRDb21wb25lbnRJbnN0YW5jZXMocGF5bG9hZC5hcHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290cy5zZXQocGF5bG9hZC5hcHAsIHJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkuaGlnaGxpZ2h0RWxlbWVudChyb290cy5nZXQocGF5bG9hZC5hcHApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q29tcG9uZW50SW5zdGFuY2UocGF5bG9hZC5ub2RlSWQsIGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlICYmIGFwaS5oaWdobGlnaHRFbGVtZW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUocGF5bG9hZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRTY29wZShwYXlsb2FkLCBpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqLyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFZ1ZURldlRvb2xzTGFiZWxzW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqL10sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBWdWVEZXZUb29sc1RpbWVsaW5lQ29sb3JzW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqL11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICByZWplY3QoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0STE4blNjb3BlTGFibGUoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gKGluc3RhbmNlLnR5cGUubmFtZSB8fFxuICAgICAgICBpbnN0YW5jZS50eXBlLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgIGluc3RhbmNlLnR5cGUuX19maWxlIHx8XG4gICAgICAgICdBbm9ueW1vdXMnKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudFRyZWVUYWdzKGluc3RhbmNlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnRyZWVOb2RlLCBpMThuKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgZ2xvYmFsID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgID8gaTE4bi5nbG9iYWxcbiAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xuICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS52bm9kZS5lbCAmJiBpbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pIHtcbiAgICAgICAgLy8gYWRkIGN1c3RvbSB0YWdzIGxvY2FsIHNjb3BlIG9ubHlcbiAgICAgICAgaWYgKGluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyAhPT0gZ2xvYmFsKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGBpMThuICgke2dldEkxOG5TY29wZUxhYmxlKGluc3RhbmNlKX0gU2NvcGUpYCxcbiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IDB4MDAwMDAwLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogMHhmZmNkMTlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cmVlTm9kZS50YWdzLnB1c2godGFnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGluc3BlY3RDb21wb3NlcihpbnN0YW5jZURhdGEsIGNvbXBvc2VyKSB7XG4gICAgY29uc3QgdHlwZSA9IFZVRV9JMThOX0NPTVBPTkVOVF9UWVBFUztcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleTogJ2xvY2FsZScsXG4gICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogY29tcG9zZXIubG9jYWxlLnZhbHVlXG4gICAgfSk7XG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXk6ICdhdmFpbGFibGVMb2NhbGVzJyxcbiAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuYXZhaWxhYmxlTG9jYWxlc1xuICAgIH0pO1xuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5OiAnZmFsbGJhY2tMb2NhbGUnLFxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlXG4gICAgfSk7XG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXk6ICdpbmhlcml0TG9jYWxlJyxcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5pbmhlcml0TG9jYWxlXG4gICAgfSk7XG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXk6ICdtZXNzYWdlcycsXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGdldExvY2FsZU1lc3NhZ2VWYWx1ZShjb21wb3Nlci5tZXNzYWdlcy52YWx1ZSlcbiAgICB9KTtcbiAgICB7XG4gICAgICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBrZXk6ICdkYXRldGltZUZvcm1hdHMnLFxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGtleTogJ251bWJlckZvcm1hdHMnLFxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLm51bWJlckZvcm1hdHMudmFsdWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2VWYWx1ZShtZXNzYWdlcykge1xuICAgIGNvbnN0IHZhbHVlID0ge307XG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2ID0gbWVzc2FnZXNba2V5XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odikgJiYgJ3NvdXJjZScgaW4gdikge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IGdldE1lc3NhZ2VGdW5jdGlvbkRldGFpbHModik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNNZXNzYWdlQVNUKHYpICYmIHYubG9jICYmIHYubG9jLnNvdXJjZSkge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IHYubG9jLnNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IGdldExvY2FsZU1lc3NhZ2VWYWx1ZSh2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSB2O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgRVNDID0ge1xuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgICcmJzogJyZhbXA7J1xufTtcbmZ1bmN0aW9uIGVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWzw+XCImXS9nLCBlc2NhcGVDaGFyKTtcbn1cbmZ1bmN0aW9uIGVzY2FwZUNoYXIoYSkge1xuICAgIHJldHVybiBFU0NbYV0gfHwgYTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRNZXNzYWdlRnVuY3Rpb25EZXRhaWxzKGZ1bmMpIHtcbiAgICBjb25zdCBhcmdTdHJpbmcgPSBmdW5jLnNvdXJjZSA/IGAoXCIke2VzY2FwZShmdW5jLnNvdXJjZSl9XCIpYCA6IGAoPylgO1xuICAgIHJldHVybiB7XG4gICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICBkaXNwbGF5OiBgPHNwYW4+xpI8L3NwYW4+ICR7YXJnU3RyaW5nfWBcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiByZWdpc3RlclNjb3BlKHBheWxvYWQsIGkxOG4pIHtcbiAgICBwYXlsb2FkLnJvb3ROb2Rlcy5wdXNoKHtcbiAgICAgICAgaWQ6ICdnbG9iYWwnLFxuICAgICAgICBsYWJlbDogJ0dsb2JhbCBTY29wZSdcbiAgICB9KTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBnbG9iYWwgPSBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgPyBpMThuLmdsb2JhbFxuICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XG4gICAgZm9yIChjb25zdCBba2V5SW5zdGFuY2UsIGluc3RhbmNlXSBvZiBpMThuLl9faW5zdGFuY2VzKSB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBjb25zdCBjb21wb3NlciA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICAgICAgPyBpbnN0YW5jZVxuICAgICAgICAgICAgOiBpbnN0YW5jZS5fX2NvbXBvc2VyO1xuICAgICAgICBpZiAoZ2xvYmFsID09PSBjb21wb3Nlcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMucHVzaCh7XG4gICAgICAgICAgICBpZDogY29tcG9zZXIuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtnZXRJMThuU2NvcGVMYWJsZShrZXlJbnN0YW5jZSl9IFNjb3BlYFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRJbnN0YW5jZShub2RlSWQsIGkxOG4pIHtcbiAgICBsZXQgaW5zdGFuY2UgPSBudWxsO1xuICAgIGlmIChub2RlSWQgIT09ICdnbG9iYWwnKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2NvbXBvbmVudCwgY29tcG9zZXJdIG9mIGkxOG4uX19pbnN0YW5jZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoY29tcG9zZXIuaWQudG9TdHJpbmcoKSA9PT0gbm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9zZXIkMShub2RlSWQsIGkxOG4pIHtcbiAgICBpZiAobm9kZUlkID09PSAnZ2xvYmFsJykge1xuICAgICAgICByZXR1cm4gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgICAgICA/IGkxOG4uZ2xvYmFsXG4gICAgICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IEFycmF5LmZyb20oaTE4bi5fX2luc3RhbmNlcy52YWx1ZXMoKSkuZmluZChpdGVtID0+IGl0ZW0uaWQudG9TdHJpbmcoKSA9PT0gbm9kZUlkKTtcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgICAgICAgICAgPyBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIDogaW5zdGFuY2UuX19jb21wb3NlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zcGVjdFNjb3BlKHBheWxvYWQsIGkxOG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pIHtcbiAgICBjb25zdCBjb21wb3NlciA9IGdldENvbXBvc2VyJDEocGF5bG9hZC5ub2RlSWQsIGkxOG4pO1xuICAgIGlmIChjb21wb3Nlcikge1xuICAgICAgICAvLyBUT0RPOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBwYXlsb2FkLnN0YXRlID0gbWFrZVNjb3BlSW5zcGVjdFN0YXRlKGNvbXBvc2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBtYWtlU2NvcGVJbnNwZWN0U3RhdGUoY29tcG9zZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHt9O1xuICAgIGNvbnN0IGxvY2FsZVR5cGUgPSAnTG9jYWxlIHJlbGF0ZWQgaW5mbyc7XG4gICAgY29uc3QgbG9jYWxlU3RhdGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxuICAgICAgICAgICAga2V5OiAnbG9jYWxlJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmxvY2FsZS52YWx1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxuICAgICAgICAgICAga2V5OiAnZmFsbGJhY2tMb2NhbGUnLFxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcbiAgICAgICAgICAgIGtleTogJ2F2YWlsYWJsZUxvY2FsZXMnLFxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcbiAgICAgICAgICAgIGtleTogJ2luaGVyaXRMb2NhbGUnLFxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuaW5oZXJpdExvY2FsZVxuICAgICAgICB9XG4gICAgXTtcbiAgICBzdGF0ZVtsb2NhbGVUeXBlXSA9IGxvY2FsZVN0YXRlcztcbiAgICBjb25zdCBsb2NhbGVNZXNzYWdlc1R5cGUgPSAnTG9jYWxlIG1lc3NhZ2VzIGluZm8nO1xuICAgIGNvbnN0IGxvY2FsZU1lc3NhZ2VzU3RhdGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVNZXNzYWdlc1R5cGUsXG4gICAgICAgICAgICBrZXk6ICdtZXNzYWdlcycsXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlKVxuICAgICAgICB9XG4gICAgXTtcbiAgICBzdGF0ZVtsb2NhbGVNZXNzYWdlc1R5cGVdID0gbG9jYWxlTWVzc2FnZXNTdGF0ZXM7XG4gICAge1xuICAgICAgICBjb25zdCBkYXRldGltZUZvcm1hdHNUeXBlID0gJ0RhdGV0aW1lIGZvcm1hdHMgaW5mbyc7XG4gICAgICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0c1N0YXRlcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBkYXRldGltZUZvcm1hdHNUeXBlLFxuICAgICAgICAgICAgICAgIGtleTogJ2RhdGV0aW1lRm9ybWF0cycsXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMudmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgc3RhdGVbZGF0ZXRpbWVGb3JtYXRzVHlwZV0gPSBkYXRldGltZUZvcm1hdHNTdGF0ZXM7XG4gICAgICAgIGNvbnN0IG51bWJlckZvcm1hdHNUeXBlID0gJ0RhdGV0aW1lIGZvcm1hdHMgaW5mbyc7XG4gICAgICAgIGNvbnN0IG51bWJlckZvcm1hdHNTdGF0ZXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogbnVtYmVyRm9ybWF0c1R5cGUsXG4gICAgICAgICAgICAgICAga2V5OiAnbnVtYmVyRm9ybWF0cycsXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5udW1iZXJGb3JtYXRzLnZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHN0YXRlW251bWJlckZvcm1hdHNUeXBlXSA9IG51bWJlckZvcm1hdHNTdGF0ZXM7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGFkZFRpbWVsaW5lRXZlbnQoZXZlbnQsIHBheWxvYWQpIHtcbiAgICBpZiAoZGV2dG9vbHNBcGkpIHtcbiAgICAgICAgbGV0IGdyb3VwSWQ7XG4gICAgICAgIGlmIChwYXlsb2FkICYmICdncm91cElkJyBpbiBwYXlsb2FkKSB7XG4gICAgICAgICAgICBncm91cElkID0gcGF5bG9hZC5ncm91cElkO1xuICAgICAgICAgICAgZGVsZXRlIHBheWxvYWQuZ3JvdXBJZDtcbiAgICAgICAgfVxuICAgICAgICBkZXZ0b29sc0FwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgIGxheWVySWQ6IFwidnVlLWkxOG4tdGltZWxpbmVcIiAvKiBWdWVEZXZUb29sc0lEcy5USU1FTElORSAqLyxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGV2ZW50LFxuICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICBtZXRhOiB7fSxcbiAgICAgICAgICAgICAgICBkYXRhOiBwYXlsb2FkIHx8IHt9LFxuICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGV2ZW50ID09PSBcImNvbXBpbGUtZXJyb3JcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkNPTVBJTEVfRVJST1IgKi9cbiAgICAgICAgICAgICAgICAgICAgPyAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIDogZXZlbnQgPT09IFwiZmFsbGJhY2tcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkZBTEJBQ0sgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50ID09PSBcIm1pc3NpbmdcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1JU1NJTkcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3dhcm5pbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdkZWZhdWx0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlZGl0U2NvcGUocGF5bG9hZCwgaTE4bikge1xuICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMShwYXlsb2FkLm5vZGVJZCwgaTE4bik7XG4gICAgaWYgKGNvbXBvc2VyKSB7XG4gICAgICAgIGNvbnN0IFtmaWVsZF0gPSBwYXlsb2FkLnBhdGg7XG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2xvY2FsZScgJiYgaXNTdHJpbmcocGF5bG9hZC5zdGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyLmxvY2FsZS52YWx1ZSA9IHBheWxvYWQuc3RhdGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT09ICdmYWxsYmFja0xvY2FsZScgJiZcbiAgICAgICAgICAgIChpc1N0cmluZyhwYXlsb2FkLnN0YXRlLnZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIGlzQXJyYXkocGF5bG9hZC5zdGF0ZS52YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXlsb2FkLnN0YXRlLnZhbHVlKSkpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZCA9PT0gJ2luaGVyaXRMb2NhbGUnICYmIGlzQm9vbGVhbihwYXlsb2FkLnN0YXRlLnZhbHVlKSkge1xuICAgICAgICAgICAgY29tcG9zZXIuaW5oZXJpdExvY2FsZSA9IHBheWxvYWQuc3RhdGUudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogU3VwcG9ydHMgY29tcGF0aWJpbGl0eSBmb3IgbGVnYWN5IHZ1ZS1pMThuIEFQSXNcbiAqIFRoaXMgbWl4aW4gaXMgdXNlZCB3aGVuIHdlIHVzZSB2dWUtaTE4bkB2OS54IG9yIGxhdGVyXG4gKi9cbmZ1bmN0aW9uIGRlZmluZU1peGluKHZ1ZWkxOG4sIGNvbXBvc2VyLCBpMThuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmVmb3JlQ3JlYXRlKCkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaTE4bikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNJMThuID0gb3B0aW9ucy5pMThuO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLl9faTE4bikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX2kxOG4gPSBvcHRpb25zLl9faTE4bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19yb290ID0gY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IHRoaXMuJHJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWVyZ2Ugb3B0aW9uIGFuZCBndHRhY2ggZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSBtZXJnZVRvR2xvYmFsKHZ1ZWkxOG4sIG9wdGlvbnNJMThuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9faW5qZWN0V2l0aE9wdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9fZXh0ZW5kZXIgPSBpMThuLl9fdnVlSTE4bkV4dGVuZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0dGFjaCBsb2NhbCBWdWVJMThuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSBjcmVhdGVWdWVJMThuKG9wdGlvbnNJMThuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXh0ZW5kIFZ1ZUkxOG4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSB0aGlzLiRpMThuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3Z1ZUkxOG4uX19leHRlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19kaXNwb3NlciA9IF92dWVJMThuLl9fZXh0ZW5kZXIodGhpcy4kaTE4bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLl9faTE4bikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzID09PSB0aGlzLiRyb290KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1lcmdlIG9wdGlvbiBhbmQgZ3R0YWNoIGdsb2JhbFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gbWVyZ2VUb0dsb2JhbCh2dWVpMThuLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHRhY2ggbG9jYWwgVnVlSTE4biBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gY3JlYXRlVnVlSTE4bih7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2kxOG46IG9wdGlvbnMuX19pMThuLFxuICAgICAgICAgICAgICAgICAgICAgICAgX19pbmplY3RXaXRoT3B0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgX19leHRlbmRlcjogaTE4bi5fX3Z1ZUkxOG5FeHRlbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3Jvb3Q6IGNvbXBvc2VyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBleHRlbmQgVnVlSTE4biBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdnVlSTE4bi5fX2V4dGVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc3Bvc2VyID0gX3Z1ZUkxOG4uX19leHRlbmRlcih0aGlzLiRpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGF0dGFjaCBnbG9iYWwgVnVlSTE4biBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSB2dWVpMThuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuX19pMThuR2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0STE4blJlc291cmNlcyhjb21wb3Nlciwgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWZpbmVzIHZ1ZS1pMThuIGxlZ2FjeSBBUElzXG4gICAgICAgICAgICB0aGlzLiR0ID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4udCguLi5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuJHJ0ID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4ucnQoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLiR0YyA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLnRjKC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kdGUgPSAoa2V5LCBsb2NhbGUpID0+IHRoaXMuJGkxOG4udGUoa2V5LCBsb2NhbGUpO1xuICAgICAgICAgICAgdGhpcy4kZCA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLmQoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLiRuID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4ubiguLi5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuJHRtID0gKGtleSkgPT4gdGhpcy4kaTE4bi50bShrZXkpO1xuICAgICAgICAgICAgaTE4bi5fX3NldEluc3RhbmNlKGluc3RhbmNlLCB0aGlzLiRpMThuKTtcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRlZCgpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgICFmYWxzZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuJGVsICYmXG4gICAgICAgICAgICAgICAgdGhpcy4kaTE4bikge1xuICAgICAgICAgICAgICAgIGNvbnN0IF92dWVJMThuID0gdGhpcy4kaTE4bjtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5fX1ZVRV9JMThOX18gPSBfdnVlSTE4bi5fX2NvbXBvc2VyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSAodGhpcy5fX3ZfZW1pdHRlciA9XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVtaXR0ZXIoKSk7XG4gICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyICYmIF92dWVJMThuLl9fZW5hYmxlRW1pdHRlcihlbWl0dGVyKTtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnRlZCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRlbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLl9fVlVFX0kxOE5fXykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9fdl9lbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX192X2VtaXR0ZXIub2ZmKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kaTE4bikge1xuICAgICAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyICYmIF92dWVJMThuLl9fZGlzYWJsZUVtaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGVsLl9fVlVFX0kxOE5fXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRydDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiR0YztcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiR0ZTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRkO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJG47XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdG07XG4gICAgICAgICAgICBpZiAoX3Z1ZUkxOG4uX19kaXNwb3Nlcikge1xuICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZGlzcG9zZXIoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3Z1ZUkxOG4uX19kaXNwb3NlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3Z1ZUkxOG4uX19leHRlbmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkxOG4uX19kZWxldGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kaTE4bjtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBtZXJnZVRvR2xvYmFsKGcsIG9wdGlvbnMpIHtcbiAgICBnLmxvY2FsZSA9IG9wdGlvbnMubG9jYWxlIHx8IGcubG9jYWxlO1xuICAgIGcuZmFsbGJhY2tMb2NhbGUgPSBvcHRpb25zLmZhbGxiYWNrTG9jYWxlIHx8IGcuZmFsbGJhY2tMb2NhbGU7XG4gICAgZy5taXNzaW5nID0gb3B0aW9ucy5taXNzaW5nIHx8IGcubWlzc2luZztcbiAgICBnLnNpbGVudFRyYW5zbGF0aW9uV2FybiA9XG4gICAgICAgIG9wdGlvbnMuc2lsZW50VHJhbnNsYXRpb25XYXJuIHx8IGcuc2lsZW50RmFsbGJhY2tXYXJuO1xuICAgIGcuc2lsZW50RmFsbGJhY2tXYXJuID0gb3B0aW9ucy5zaWxlbnRGYWxsYmFja1dhcm4gfHwgZy5zaWxlbnRGYWxsYmFja1dhcm47XG4gICAgZy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzID1cbiAgICAgICAgb3B0aW9ucy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzIHx8IGcuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcbiAgICBnLnBvc3RUcmFuc2xhdGlvbiA9IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uIHx8IGcucG9zdFRyYW5zbGF0aW9uO1xuICAgIGcud2Fybkh0bWxJbk1lc3NhZ2UgPSBvcHRpb25zLndhcm5IdG1sSW5NZXNzYWdlIHx8IGcud2Fybkh0bWxJbk1lc3NhZ2U7XG4gICAgZy5lc2NhcGVQYXJhbWV0ZXJIdG1sID0gb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXJIdG1sIHx8IGcuZXNjYXBlUGFyYW1ldGVySHRtbDtcbiAgICBnLnN5bmMgPSBvcHRpb25zLnN5bmMgfHwgZy5zeW5jO1xuICAgIGcuX19jb21wb3NlcltTZXRQbHVyYWxSdWxlc1N5bWJvbF0ob3B0aW9ucy5wbHVyYWxpemF0aW9uUnVsZXMgfHwgZy5wbHVyYWxpemF0aW9uUnVsZXMpO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0TG9jYWxlTWVzc2FnZXMoZy5sb2NhbGUsIHtcbiAgICAgICAgbWVzc2FnZXM6IG9wdGlvbnMubWVzc2FnZXMsXG4gICAgICAgIF9faTE4bjogb3B0aW9ucy5fX2kxOG5cbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhtZXNzYWdlcykuZm9yRWFjaChsb2NhbGUgPT4gZy5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlc1tsb2NhbGVdKSk7XG4gICAgaWYgKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKS5mb3JFYWNoKGxvY2FsZSA9PiBnLm1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1tsb2NhbGVdKSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm51bWJlckZvcm1hdHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5udW1iZXJGb3JtYXRzKS5mb3JFYWNoKGxvY2FsZSA9PiBnLm1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucy5udW1iZXJGb3JtYXRzW2xvY2FsZV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGc7XG59XG5cbi8qKlxuICogSW5qZWN0aW9uIGtleSBmb3Ige0BsaW5rIHVzZUkxOG59XG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSBnbG9iYWwgaW5qZWN0aW9uIGtleSBmb3IgSTE4biBpbnN0YW5jZXMgd2l0aCBgdXNlSTE4bmAuIHRoaXMgaW5qZWN0aW9uIGtleSBpcyB1c2VkIGluIFdlYiBDb21wb25lbnRzLlxuICogU3BlY2lmeSB0aGUgaTE4biBpbnN0YW5jZSBjcmVhdGVkIGJ5IHtAbGluayBjcmVhdGVJMThufSB0b2dldGhlciB3aXRoIGBwcm92aWRlYCBmdW5jdGlvbi5cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuY29uc3QgSTE4bkluamVjdGlvbktleSA9IFxuLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnZ2xvYmFsLXZ1ZS1pMThuJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gY3JlYXRlSTE4bihvcHRpb25zID0ge30sIFZ1ZUkxOG5MZWdhY3kpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfX2xlZ2FjeU1vZGUgPSBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBpc0Jvb2xlYW4ob3B0aW9ucy5sZWdhY3kpXG4gICAgICAgICAgICA/IG9wdGlvbnMubGVnYWN5XG4gICAgICAgICAgICA6IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9fZ2xvYmFsSW5qZWN0aW9uID0gaXNCb29sZWFuKG9wdGlvbnMuZ2xvYmFsSW5qZWN0aW9uKVxuICAgICAgICA/IG9wdGlvbnMuZ2xvYmFsSW5qZWN0aW9uXG4gICAgICAgIDogdHJ1ZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfX2FsbG93Q29tcG9zaXRpb24gPSBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBfX2xlZ2FjeU1vZGVcbiAgICAgICAgICAgID8gISFvcHRpb25zLmFsbG93Q29tcG9zaXRpb25cbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBfX2luc3RhbmNlcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBbZ2xvYmFsU2NvcGUsIF9fZ2xvYmFsXSA9IGNyZWF0ZUdsb2JhbChvcHRpb25zLCBfX2xlZ2FjeU1vZGUpO1xuICAgIGNvbnN0IHN5bWJvbCA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3Z1ZS1pMThuJyA6ICcnKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGlmIChfX2xlZ2FjeU1vZGUgJiYgX19hbGxvd0NvbXBvc2l0aW9uICYmICFmYWxzZSkge1xuICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVElDRV9EUk9QX0FMTE9XX0NPTVBPU0lUSU9OKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX19nZXRJbnN0YW5jZShjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9faW5zdGFuY2VzLmdldChjb21wb25lbnQpIHx8IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9fc2V0SW5zdGFuY2UoY29tcG9uZW50LCBpbnN0YW5jZSkge1xuICAgICAgICBfX2luc3RhbmNlcy5zZXQoY29tcG9uZW50LCBpbnN0YW5jZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9fZGVsZXRlSW5zdGFuY2UoY29tcG9uZW50KSB7XG4gICAgICAgIF9faW5zdGFuY2VzLmRlbGV0ZShjb21wb25lbnQpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGNvbnN0IGkxOG4gPSB7XG4gICAgICAgICAgICAvLyBtb2RlXG4gICAgICAgICAgICBnZXQgbW9kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gJiYgX19sZWdhY3lNb2RlXG4gICAgICAgICAgICAgICAgICAgID8gJ2xlZ2FjeSdcbiAgICAgICAgICAgICAgICAgICAgOiAnY29tcG9zaXRpb24nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGFsbG93Q29tcG9zaXRpb25cbiAgICAgICAgICAgIGdldCBhbGxvd0NvbXBvc2l0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2FsbG93Q29tcG9zaXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5cbiAgICAgICAgICAgIGFzeW5jIGluc3RhbGwoYXBwLCAuLi5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgICAgICAhZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwLl9fVlVFX0kxOE5fXyA9IGkxOG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNldHVwIGdsb2JhbCBwcm92aWRlclxuICAgICAgICAgICAgICAgIGFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fID0gc3ltYm9sO1xuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKGFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fLCBpMThuKTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY29tcG9zZXIgJiB2dWVpMThuIGV4dGVuZCBob29rIG9wdGlvbnMgZnJvbSBwbHVnaW4gb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChpc1BsYWluT2JqZWN0KG9wdGlvbnNbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBvcHRpb25zWzBdO1xuICAgICAgICAgICAgICAgICAgICBpMThuLl9fY29tcG9zZXJFeHRlbmQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5fX2NvbXBvc2VyRXh0ZW5kO1xuICAgICAgICAgICAgICAgICAgICBpMThuLl9fdnVlSTE4bkV4dGVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLl9fdnVlSTE4bkV4dGVuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2xvYmFsIG1ldGhvZCBhbmQgcHJvcGVydGllcyBpbmplY3Rpb24gZm9yIENvbXBvc2l0aW9uIEFQSVxuICAgICAgICAgICAgICAgIGxldCBnbG9iYWxSZWxlYXNlSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFfX2xlZ2FjeU1vZGUgJiYgX19nbG9iYWxJbmplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsUmVsZWFzZUhhbmRsZXIgPSBpbmplY3RHbG9iYWxGaWVsZHMoYXBwLCBpMThuLmdsb2JhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGluc3RhbGwgYnVpbHQtaW4gY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlXG4gICAgICAgICAgICAgICAgaWYgKF9fVlVFX0kxOE5fRlVMTF9JTlNUQUxMX18pIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHkoYXBwLCBpMThuLCAuLi5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2V0dXAgbWl4aW4gZm9yIExlZ2FjeSBBUElcbiAgICAgICAgICAgICAgICBpZiAoX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gJiYgX19sZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcC5taXhpbihkZWZpbmVNaXhpbihfX2dsb2JhbCwgX19nbG9iYWwuX19jb21wb3NlciwgaTE4bikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZWxlYXNlIGdsb2JhbCBzY29wZVxuICAgICAgICAgICAgICAgIGNvbnN0IHVubW91bnRBcHAgPSBhcHAudW5tb3VudDtcbiAgICAgICAgICAgICAgICBhcHAudW5tb3VudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsUmVsZWFzZUhhbmRsZXIgJiYgZ2xvYmFsUmVsZWFzZUhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaTE4bi5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRBcHAoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIHNldHVwIHZ1ZS1kZXZ0b29scyBwbHVnaW5cbiAgICAgICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmICFmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXQgPSBhd2FpdCBlbmFibGVEZXZUb29scyhhcHAsIGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLkNBTk5PVF9TRVRVUF9WVUVfREVWVE9PTFNfUExVR0lOKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY3JlYXRlRW1pdHRlcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX19sZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IF9fZ2xvYmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyICYmIF92dWVJMThuLl9fZW5hYmxlRW1pdHRlcihlbWl0dGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBfX2dsb2JhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0oZW1pdHRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBnbG9iYWwgYWNjZXNzb3JcbiAgICAgICAgICAgIGdldCBnbG9iYWwoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2xvYmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsU2NvcGUuc3RvcCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEBpbnRlcm5hbFxuICAgICAgICAgICAgX19pbnN0YW5jZXMsXG4gICAgICAgICAgICAvLyBAaW50ZXJuYWxcbiAgICAgICAgICAgIF9fZ2V0SW5zdGFuY2UsXG4gICAgICAgICAgICAvLyBAaW50ZXJuYWxcbiAgICAgICAgICAgIF9fc2V0SW5zdGFuY2UsXG4gICAgICAgICAgICAvLyBAaW50ZXJuYWxcbiAgICAgICAgICAgIF9fZGVsZXRlSW5zdGFuY2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkxOG47XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIHVzZUkxOG4ob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTVVTVF9CRV9DQUxMX1NFVFVQX1RPUCk7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UuaXNDRSAmJlxuICAgICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmFwcCAhPSBudWxsICYmXG4gICAgICAgICFpbnN0YW5jZS5hcHBDb250ZXh0LmFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5OT1RfSU5TVEFMTEVEKTtcbiAgICB9XG4gICAgY29uc3QgaTE4biA9IGdldEkxOG5JbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgY29uc3QgZ2wgPSBnZXRHbG9iYWxDb21wb3NlcihpMThuKTtcbiAgICBjb25zdCBjb21wb25lbnRPcHRpb25zID0gZ2V0Q29tcG9uZW50T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBnZXRTY29wZShvcHRpb25zLCBjb21wb25lbnRPcHRpb25zKTtcbiAgICBpZiAoX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2xlZ2FjeScgJiYgIW9wdGlvbnMuX191c2VDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGlmICghaTE4bi5hbGxvd0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk5PVF9BVkFJTEFCTEVfSU5fTEVHQUNZX01PREUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVzZUkxOG5Gb3JMZWdhY3koaW5zdGFuY2UsIHNjb3BlLCBnbCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjb3BlID09PSAnZ2xvYmFsJykge1xuICAgICAgICBhZGp1c3RJMThuUmVzb3VyY2VzKGdsLCBvcHRpb25zLCBjb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cbiAgICBpZiAoc2NvcGUgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGxldCBjb21wb3NlciA9IGdldENvbXBvc2VyKGkxOG4sIGluc3RhbmNlLCBvcHRpb25zLl9fdXNlQ29tcG9uZW50KTtcbiAgICAgICAgaWYgKGNvbXBvc2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX0ZPVU5EX1BBUkVOVF9TQ09QRSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9zZXIgPSBnbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9zZXI7XG4gICAgfVxuICAgIGNvbnN0IGkxOG5JbnRlcm5hbCA9IGkxOG47XG4gICAgbGV0IGNvbXBvc2VyID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIGlmIChjb21wb3NlciA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvc2VyT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICgnX19pMThuJyBpbiBjb21wb25lbnRPcHRpb25zKSB7XG4gICAgICAgICAgICBjb21wb3Nlck9wdGlvbnMuX19pMThuID0gY29tcG9uZW50T3B0aW9ucy5fX2kxOG47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICBjb21wb3Nlck9wdGlvbnMuX19yb290ID0gZ2w7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9zZXIgPSBjcmVhdGVDb21wb3Nlcihjb21wb3Nlck9wdGlvbnMpO1xuICAgICAgICBpZiAoaTE4bkludGVybmFsLl9fY29tcG9zZXJFeHRlbmQpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyW0Rpc3Bvc2VTeW1ib2xdID1cbiAgICAgICAgICAgICAgICBpMThuSW50ZXJuYWwuX19jb21wb3NlckV4dGVuZChjb21wb3Nlcik7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBMaWZlQ3ljbGUoaTE4bkludGVybmFsLCBpbnN0YW5jZSwgY29tcG9zZXIpO1xuICAgICAgICBpMThuSW50ZXJuYWwuX19zZXRJbnN0YW5jZShpbnN0YW5jZSwgY29tcG9zZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9zZXI7XG59XG4vKipcbiAqIENhc3QgdG8gVnVlSTE4biBsZWdhY3kgY29tcGF0aWJsZSB0eXBlXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgQVBJIGlzIHByb3ZpZGVkIG9ubHkgd2l0aCBbdnVlLWkxOG4tYnJpZGdlXShodHRwczovL3Z1ZS1pMThuLmludGxpZnkuZGV2L2d1aWRlL21pZ3JhdGlvbi93YXlzLmh0bWwjd2hhdC1pcy12dWUtaTE4bi1icmlkZ2UpLlxuICpcbiAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gY29udmVydCBhbiB7QGxpbmsgSTE4bn0gaW5zdGFuY2UgY3JlYXRlZCB3aXRoIHtAbGluayBjcmVhdGVJMThuIHwgY3JlYXRlSTE4bihsZWdhY3k6IHRydWUpfSBpbnRvIGEgYHZ1ZS1pMThuQHY4LnhgIGNvbXBhdGlibGUgaW5zdGFuY2Ugb2YgYG5ldyBWdWVJMThuYCBpbiBhIFR5cGVTY3JpcHQgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIGkxOG4gLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgSTE4bn1cbiAqIEByZXR1cm5zIEEgaTE4biBpbnN0YW5jZSB3aGljaCBpcyBjYXN0ZWQgdG8ge0BsaW5rIFZ1ZUkxOG59IHR5cGVcbiAqXG4gKiBAVnVlSTE4blRpcFxuICogOm5ldzogcHJvdmlkZWQgYnkgKip2dWUtaTE4bi1icmlkZ2Ugb25seSoqXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbi8qICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBjYXN0VG9WdWVJMThuID0gKGkxOG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pID0+IHtcbiAgICBpZiAoIShfX1ZVRV9JMThOX0JSSURHRV9fIGluIGkxOG4pKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5OT1RfQ09NUEFUSUJMRV9MRUdBQ1lfVlVFX0kxOE4pO1xuICAgIH1cbiAgICByZXR1cm4gaTE4bjtcbn07XG5mdW5jdGlvbiBjcmVhdGVHbG9iYWwob3B0aW9ucywgbGVnYWN5TW9kZSwgVnVlSTE4bkxlZ2FjeSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIGNvbnN0IHNjb3BlID0gZWZmZWN0U2NvcGUoKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IG9iaiA9IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIGxlZ2FjeU1vZGVcbiAgICAgICAgICAgID8gc2NvcGUucnVuKCgpID0+IGNyZWF0ZVZ1ZUkxOG4ob3B0aW9ucykpXG4gICAgICAgICAgICA6IHNjb3BlLnJ1bigoKSA9PiBjcmVhdGVDb21wb3NlcihvcHRpb25zKSk7XG4gICAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbc2NvcGUsIG9ial07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0STE4bkluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAge1xuICAgICAgICBjb25zdCBpMThuID0gaW5qZWN0KCFpbnN0YW5jZS5pc0NFXG4gICAgICAgICAgICA/IGluc3RhbmNlLmFwcENvbnRleHQuYXBwLl9fVlVFX0kxOE5fU1lNQk9MX19cbiAgICAgICAgICAgIDogSTE4bkluamVjdGlvbktleSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWkxOG4pIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcighaW5zdGFuY2UuaXNDRVxuICAgICAgICAgICAgICAgID8gSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUlxuICAgICAgICAgICAgICAgIDogSTE4bkVycm9yQ29kZXMuTk9UX0lOU1RBTExFRF9XSVRIX1BST1ZJREUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpMThuO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRTY29wZShvcHRpb25zLCBjb21wb25lbnRPcHRpb25zKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIGlzRW1wdHlPYmplY3Qob3B0aW9ucylcbiAgICAgICAgPyAoJ19faTE4bicgaW4gY29tcG9uZW50T3B0aW9ucylcbiAgICAgICAgICAgID8gJ2xvY2FsJ1xuICAgICAgICAgICAgOiAnZ2xvYmFsJ1xuICAgICAgICA6ICFvcHRpb25zLnVzZVNjb3BlXG4gICAgICAgICAgICA/ICdsb2NhbCdcbiAgICAgICAgICAgIDogb3B0aW9ucy51c2VTY29wZTtcbn1cbmZ1bmN0aW9uIGdldEdsb2JhbENvbXBvc2VyKGkxOG4pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgICAgICA/IGkxOG4uZ2xvYmFsXG4gICAgICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXJcbiAgICAgICAgO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9zZXIoaTE4biwgdGFyZ2V0LCB1c2VDb21wb25lbnQgPSBmYWxzZSkge1xuICAgIGxldCBjb21wb3NlciA9IG51bGw7XG4gICAgY29uc3Qgcm9vdCA9IHRhcmdldC5yb290O1xuICAgIGxldCBjdXJyZW50ID0gZ2V0UGFyZW50Q29tcG9uZW50SW5zdGFuY2UodGFyZ2V0LCB1c2VDb21wb25lbnQpO1xuICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgaTE4bkludGVybmFsID0gaTE4bjtcbiAgICAgICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJykge1xuICAgICAgICAgICAgY29tcG9zZXIgPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfX1ZVRV9JMThOX0xFR0FDWV9BUElfXykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZ1ZUkxOG4gPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAodnVlSTE4biAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvc2VyID0gdnVlSTE4blxuICAgICAgICAgICAgICAgICAgICAgICAgLl9fY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VDb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2VyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhY29tcG9zZXJbSW5lamN0V2l0aE9wdGlvblN5bWJvbF0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb3NlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9vdCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9zZXI7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQsIHVzZUNvbXBvbmVudCA9IGZhbHNlKSB7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB7XG4gICAgICAgIC8vIGlmIGB1c2VDb21wb25lbnQ6IHRydWVgIHdpbGwgYmUgc3BlY2lmaWVkLCB3ZSBnZXQgbGV4aWNhbCBzY29wZSBvd25lciBpbnN0YW5jZSBmb3IgdXNlLWNhc2Ugc2xvdHNcbiAgICAgICAgcmV0dXJuICF1c2VDb21wb25lbnRcbiAgICAgICAgICAgID8gdGFyZ2V0LnBhcmVudFxuICAgICAgICAgICAgOiB0YXJnZXQudm5vZGUuY3R4IHx8IHRhcmdldC5wYXJlbnQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldHVwTGlmZUN5Y2xlKGkxOG4sIHRhcmdldCwgY29tcG9zZXIpIHtcbiAgICBsZXQgZW1pdHRlciA9IG51bGw7XG4gICAge1xuICAgICAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gaW5qZWN0IGNvbXBvc2VyIGluc3RhbmNlIHRvIERPTSBmb3IgaW50bGlmeS1kZXZ0b29sc1xuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgICFmYWxzZSAmJlxuICAgICAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbCkge1xuICAgICAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX18gPSBjb21wb3NlcjtcbiAgICAgICAgICAgICAgICBlbWl0dGVyID0gY3JlYXRlRW1pdHRlcigpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3QgX2NvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdICYmIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXShlbWl0dGVyKTtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRhcmdldCk7XG4gICAgICAgIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjb21wb3NlciBpbnN0YW5jZSBmcm9tIERPTSBmb3IgaW50bGlmeS1kZXZ0b29sc1xuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgICFmYWxzZSAmJlxuICAgICAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbCAmJlxuICAgICAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX18pIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyICYmIGVtaXR0ZXIub2ZmKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX187XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpMThuLl9fZGVsZXRlSW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIGRpc3Bvc2UgZXh0ZW5kZWQgcmVzb3VyY2VzXG4gICAgICAgICAgICBjb25zdCBkaXNwb3NlID0gX2NvbXBvc2VyW0Rpc3Bvc2VTeW1ib2xdO1xuICAgICAgICAgICAgaWYgKGRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF9jb21wb3NlcltEaXNwb3NlU3ltYm9sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGFyZ2V0KTtcbiAgICB9XG59XG5mdW5jdGlvbiB1c2VJMThuRm9yTGVnYWN5KGluc3RhbmNlLCBzY29wZSwgcm9vdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgY29uc3QgaXNMb2NhbFNjb3BlID0gc2NvcGUgPT09ICdsb2NhbCc7XG4gICAgY29uc3QgX2NvbXBvc2VyID0gc2hhbGxvd1JlZihudWxsKTtcbiAgICBpZiAoaXNMb2NhbFNjb3BlICYmXG4gICAgICAgIGluc3RhbmNlLnByb3h5ICYmXG4gICAgICAgICEoaW5zdGFuY2UucHJveHkuJG9wdGlvbnMuaTE4biB8fCBpbnN0YW5jZS5wcm94eS4kb3B0aW9ucy5fX2kxOG4pKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5NVVNUX0RFRklORV9JMThOX09QVElPTl9JTl9BTExPV19DT01QT1NJVElPTik7XG4gICAgfVxuICAgIGNvbnN0IF9pbmhlcml0TG9jYWxlID0gaXNCb29sZWFuKG9wdGlvbnMuaW5oZXJpdExvY2FsZSlcbiAgICAgICAgPyBvcHRpb25zLmluaGVyaXRMb2NhbGVcbiAgICAgICAgOiAhaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpO1xuICAgIGNvbnN0IF9sb2NhbGUgPSByZWYoXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgIWlzTG9jYWxTY29wZSB8fCBfaW5oZXJpdExvY2FsZVxuICAgICAgICA/IHJvb3QubG9jYWxlLnZhbHVlXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpXG4gICAgICAgICAgICA/IG9wdGlvbnMubG9jYWxlXG4gICAgICAgICAgICA6IERFRkFVTFRfTE9DQUxFKTtcbiAgICBjb25zdCBfZmFsbGJhY2tMb2NhbGUgPSByZWYoXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgIWlzTG9jYWxTY29wZSB8fCBfaW5oZXJpdExvY2FsZVxuICAgICAgICA/IHJvb3QuZmFsbGJhY2tMb2NhbGUudmFsdWVcbiAgICAgICAgOiBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0xvY2FsZVxuICAgICAgICAgICAgOiBfbG9jYWxlLnZhbHVlKTtcbiAgICBjb25zdCBfbWVzc2FnZXMgPSByZWYoZ2V0TG9jYWxlTWVzc2FnZXMoX2xvY2FsZS52YWx1ZSwgb3B0aW9ucykpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9kYXRldGltZUZvcm1hdHMgPSByZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cylcbiAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xuICAgICAgICA6IHsgW19sb2NhbGUudmFsdWVdOiB7fSB9KTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfbnVtYmVyRm9ybWF0cyA9IHJlZihpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcbiAgICAgICAgPyBvcHRpb25zLm51bWJlckZvcm1hdHNcbiAgICAgICAgOiB7IFtfbG9jYWxlLnZhbHVlXToge30gfSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX21pc3NpbmdXYXJuID0gaXNMb2NhbFNjb3BlXG4gICAgICAgID8gcm9vdC5taXNzaW5nV2FyblxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX2ZhbGxiYWNrV2FybiA9IGlzTG9jYWxTY29wZVxuICAgICAgICA/IHJvb3QuZmFsbGJhY2tXYXJuXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfZmFsbGJhY2tSb290ID0gaXNMb2NhbFNjb3BlXG4gICAgICAgID8gcm9vdC5mYWxsYmFja1Jvb3RcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1Jvb3QpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tSb290XG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gY29uZmlndXJlIGZhbGwgYmFjayB0byByb290XG4gICAgY29uc3QgX2ZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZhbGxiYWNrRm9ybWF0O1xuICAgIC8vIHJ1bnRpbWUgbWlzc2luZ1xuICAgIGNvbnN0IF9taXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpID8gb3B0aW9ucy5taXNzaW5nIDogbnVsbDtcbiAgICAvLyBwb3N0VHJhbnNsYXRpb24gaGFuZGxlclxuICAgIGNvbnN0IF9wb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXG4gICAgICAgIDogbnVsbDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfd2Fybkh0bWxNZXNzYWdlID0gaXNMb2NhbFNjb3BlXG4gICAgICAgID8gcm9vdC53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgX2VzY2FwZVBhcmFtZXRlciA9ICEhb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXI7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX21vZGlmaWVycyA9IGlzTG9jYWxTY29wZVxuICAgICAgICA/IHJvb3QubW9kaWZpZXJzXG4gICAgICAgIDogaXNQbGFpbk9iamVjdChvcHRpb25zLm1vZGlmaWVycylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tb2RpZmllcnNcbiAgICAgICAgICAgIDoge307XG4gICAgLy8gcGx1cmFsUnVsZXNcbiAgICBjb25zdCBfcGx1cmFsUnVsZXMgPSBvcHRpb25zLnBsdXJhbFJ1bGVzIHx8IChpc0xvY2FsU2NvcGUgJiYgcm9vdC5wbHVyYWxSdWxlcyk7XG4gICAgLy8gdHJhY2sgcmVhY3Rpdml0eVxuICAgIGZ1bmN0aW9uIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIF9sb2NhbGUudmFsdWUsXG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXG4gICAgICAgICAgICBfbWVzc2FnZXMudmFsdWUsXG4gICAgICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlLFxuICAgICAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLy8gbG9jYWxlXG4gICAgY29uc3QgbG9jYWxlID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUubG9jYWxlLnZhbHVlIDogX2xvY2FsZS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5sb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfbG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gZmFsbGJhY2tMb2NhbGVcbiAgICBjb25zdCBmYWxsYmFja0xvY2FsZSA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICAgICAgPyBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tMb2NhbGUudmFsdWVcbiAgICAgICAgICAgICAgICA6IF9mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIG1lc3NhZ2VzXG4gICAgY29uc3QgbWVzc2FnZXMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlLm1lc3NhZ2VzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHJldHVybiBfbWVzc2FnZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSBjb21wdXRlZCgoKSA9PiBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlKTtcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzID0gY29tcHV0ZWQoKCkgPT4gX251bWJlckZvcm1hdHMudmFsdWUpO1xuICAgIGZ1bmN0aW9uIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgID8gX2NvbXBvc2VyLnZhbHVlLmdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKVxuICAgICAgICAgICAgOiBfcG9zdFRyYW5zbGF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLnNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TWlzc2luZ0hhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZ2V0TWlzc2luZ0hhbmRsZXIoKSA6IF9taXNzaW5nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5zZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJwV2l0aERlcHMoZm4pIHtcbiAgICAgICAgdHJhY2tSZWFjdGl2aXR5VmFsdWVzKCk7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0KC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgPyB3YXJwV2l0aERlcHMoKCkgPT4gUmVmbGVjdC5hcHBseShfY29tcG9zZXIudmFsdWUudCwgbnVsbCwgWy4uLmFyZ3NdKSlcbiAgICAgICAgICAgIDogd2FycFdpdGhEZXBzKCgpID0+ICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnQoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICA/IFJlZmxlY3QuYXBwbHkoX2NvbXBvc2VyLnZhbHVlLnJ0LCBudWxsLCBbLi4uYXJnc10pXG4gICAgICAgICAgICA6ICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgPyB3YXJwV2l0aERlcHMoKCkgPT4gUmVmbGVjdC5hcHBseShfY29tcG9zZXIudmFsdWUuZCwgbnVsbCwgWy4uLmFyZ3NdKSlcbiAgICAgICAgICAgIDogd2FycFdpdGhEZXBzKCgpID0+ICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbiguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgID8gd2FycFdpdGhEZXBzKCgpID0+IFJlZmxlY3QuYXBwbHkoX2NvbXBvc2VyLnZhbHVlLm4sIG51bGwsIFsuLi5hcmdzXSkpXG4gICAgICAgICAgICA6IHdhcnBXaXRoRGVwcygoKSA9PiAnJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRtKGtleSkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLnRtKGtleSkgOiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGUoa2V5LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS50ZShrZXksIGxvY2FsZSkgOiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5nZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSkgOiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLnNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdID0gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlVGltZUZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5nZXREYXRlVGltZUZvcm1hdChsb2NhbGUpIDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5zZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmdldE51bWJlckZvcm1hdChsb2NhbGUpIDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLm1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3cmFwcGVyID0ge1xuICAgICAgICBnZXQgaWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmlkIDogLTE7XG4gICAgICAgIH0sXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBkYXRldGltZUZvcm1hdHMsXG4gICAgICAgIG51bWJlckZvcm1hdHMsXG4gICAgICAgIGdldCBpbmhlcml0TG9jYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5pbmhlcml0TG9jYWxlIDogX2luaGVyaXRMb2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBpbmhlcml0TG9jYWxlKHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5pbmhlcml0TG9jYWxlID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgYXZhaWxhYmxlTG9jYWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgICAgICA/IF9jb21wb3Nlci52YWx1ZS5hdmFpbGFibGVMb2NhbGVzXG4gICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyhfbWVzc2FnZXMudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgbW9kaWZpZXJzKCkge1xuICAgICAgICAgICAgcmV0dXJuIChfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUubW9kaWZpZXJzIDogX21vZGlmaWVycyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBwbHVyYWxSdWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiAoX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLnBsdXJhbFJ1bGVzIDogX3BsdXJhbFJ1bGVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGlzR2xvYmFsKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5pc0dsb2JhbCA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgbWlzc2luZ1dhcm4oKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLm1pc3NpbmdXYXJuIDogX21pc3NpbmdXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgbWlzc2luZ1dhcm4odmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLm1pc3NpbmdXYXJuID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tXYXJuKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja1dhcm4gOiBfZmFsbGJhY2tXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tXYXJuKHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5taXNzaW5nV2FybiA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrUm9vdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tSb290IDogX2ZhbGxiYWNrUm9vdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrUm9vdCh2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tSb290ID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tGb3JtYXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrRm9ybWF0IDogX2ZhbGxiYWNrRm9ybWF0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tGb3JtYXQodmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrRm9ybWF0ID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgd2Fybkh0bWxNZXNzYWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgICAgID8gX2NvbXBvc2VyLnZhbHVlLndhcm5IdG1sTWVzc2FnZVxuICAgICAgICAgICAgICAgIDogX3dhcm5IdG1sTWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHdhcm5IdG1sTWVzc2FnZSh2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUud2Fybkh0bWxNZXNzYWdlID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgICAgID8gX2NvbXBvc2VyLnZhbHVlLmVzY2FwZVBhcmFtZXRlclxuICAgICAgICAgICAgICAgIDogX2VzY2FwZVBhcmFtZXRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGVzY2FwZVBhcmFtZXRlcih2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuZXNjYXBlUGFyYW1ldGVyID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0LFxuICAgICAgICBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyLFxuICAgICAgICBzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyLFxuICAgICAgICBnZXRNaXNzaW5nSGFuZGxlcixcbiAgICAgICAgc2V0TWlzc2luZ0hhbmRsZXIsXG4gICAgICAgIHJ0LFxuICAgICAgICBkLFxuICAgICAgICBuLFxuICAgICAgICB0bSxcbiAgICAgICAgdGUsXG4gICAgICAgIGdldExvY2FsZU1lc3NhZ2UsXG4gICAgICAgIHNldExvY2FsZU1lc3NhZ2UsXG4gICAgICAgIG1lcmdlTG9jYWxlTWVzc2FnZSxcbiAgICAgICAgZ2V0RGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgIHNldERhdGVUaW1lRm9ybWF0LFxuICAgICAgICBtZXJnZURhdGVUaW1lRm9ybWF0LFxuICAgICAgICBnZXROdW1iZXJGb3JtYXQsXG4gICAgICAgIHNldE51bWJlckZvcm1hdCxcbiAgICAgICAgbWVyZ2VOdW1iZXJGb3JtYXRcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN5bmMoY29tcG9zZXIpIHtcbiAgICAgICAgY29tcG9zZXIubG9jYWxlLnZhbHVlID0gX2xvY2FsZS52YWx1ZTtcbiAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBfZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgIE9iamVjdC5rZXlzKF9tZXNzYWdlcy52YWx1ZSkuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmtleXMoX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSkuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhfbnVtYmVyRm9ybWF0cy52YWx1ZSkuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbXBvc2VyLmVzY2FwZVBhcmFtZXRlciA9IF9lc2NhcGVQYXJhbWV0ZXI7XG4gICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0ID0gX2ZhbGxiYWNrRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5mYWxsYmFja1Jvb3QgPSBfZmFsbGJhY2tSb290O1xuICAgICAgICBjb21wb3Nlci5mYWxsYmFja1dhcm4gPSBfZmFsbGJhY2tXYXJuO1xuICAgICAgICBjb21wb3Nlci5taXNzaW5nV2FybiA9IF9taXNzaW5nV2FybjtcbiAgICAgICAgY29tcG9zZXIud2Fybkh0bWxNZXNzYWdlID0gX3dhcm5IdG1sTWVzc2FnZTtcbiAgICB9XG4gICAgb25CZWZvcmVNb3VudCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wcm94eSA9PSBudWxsIHx8IGluc3RhbmNlLnByb3h5LiRpMThuID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5OT1RfQVZBSUxBQkxFX0NPTVBPU0lUSU9OX0lOX0xFR0FDWSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgY29tcG9zZXIgPSAoX2NvbXBvc2VyLnZhbHVlID0gaW5zdGFuY2UucHJveHkuJGkxOG5cbiAgICAgICAgICAgIC5fX2NvbXBvc2VyKTtcbiAgICAgICAgaWYgKHNjb3BlID09PSAnZ2xvYmFsJykge1xuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IGNvbXBvc2VyLmxvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgX21lc3NhZ2VzLnZhbHVlID0gY29tcG9zZXIubWVzc2FnZXMudmFsdWU7XG4gICAgICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlID0gY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xuICAgICAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWUgPSBjb21wb3Nlci5udW1iZXJGb3JtYXRzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTG9jYWxTY29wZSkge1xuICAgICAgICAgICAgc3luYyhjb21wb3Nlcik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gd3JhcHBlcjtcbn1cbmNvbnN0IGdsb2JhbEV4cG9ydFByb3BzID0gW1xuICAgICdsb2NhbGUnLFxuICAgICdmYWxsYmFja0xvY2FsZScsXG4gICAgJ2F2YWlsYWJsZUxvY2FsZXMnXG5dO1xuY29uc3QgZ2xvYmFsRXhwb3J0TWV0aG9kcyA9IFsndCcsICdydCcsICdkJywgJ24nLCAndG0nLCAndGUnXVxuICAgIDtcbmZ1bmN0aW9uIGluamVjdEdsb2JhbEZpZWxkcyhhcHAsIGNvbXBvc2VyKSB7XG4gICAgY29uc3QgaTE4biA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZ2xvYmFsRXhwb3J0UHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29tcG9zZXIsIHByb3ApO1xuICAgICAgICBpZiAoIWRlc2MpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwID0gaXNSZWYoZGVzYy52YWx1ZSkgLy8gY2hlY2sgY29tcHV0ZWQgcHJvcHNcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MudmFsdWUudmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzYy52YWx1ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCAmJiBkZXNjLmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpMThuLCBwcm9wLCB3cmFwKTtcbiAgICB9KTtcbiAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJGkxOG4gPSBpMThuO1xuICAgIGdsb2JhbEV4cG9ydE1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb21wb3NlciwgbWV0aG9kKTtcbiAgICAgICAgaWYgKCFkZXNjIHx8ICFkZXNjLnZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywgYCQke21ldGhvZH1gLCBkZXNjKTtcbiAgICB9KTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBkZWxldGUgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRpMThuO1xuICAgICAgICBnbG9iYWxFeHBvcnRNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBkZWxldGUgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzW2AkJHttZXRob2R9YF07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGRpc3Bvc2U7XG59XG5cbntcbiAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG59XG4vLyByZWdpc3RlciBtZXNzYWdlIGNvbXBpbGVyIGZvciBqaXQgY29tcGlsYXRpb25cbmlmIChfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18pIHtcbiAgICByZWdpc3Rlck1lc3NhZ2VDb21waWxlcihjb21waWxlKTtcbn1cbi8vIHJlZ2lzdGVyIG1lc3NhZ2UgcmVzb2x2ZXIgYXQgdnVlLWkxOG5cbnJlZ2lzdGVyTWVzc2FnZVJlc29sdmVyKHJlc29sdmVWYWx1ZSk7XG4vLyByZWdpc3RlciBmYWxsYmFjayBsb2NhbGUgYXQgdnVlLWkxOG5cbnJlZ2lzdGVyTG9jYWxlRmFsbGJhY2tlcihmYWxsYmFja1dpdGhMb2NhbGVDaGFpbik7XG4vLyBOT1RFOiBleHBlcmltZW50YWwgISFcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXykge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgICB0YXJnZXQuX19JTlRMSUZZX18gPSB0cnVlO1xuICAgIHNldERldlRvb2xzSG9vayh0YXJnZXQuX19JTlRMSUZZX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pO1xufVxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkgO1xuXG5leHBvcnQgeyBEYXRldGltZUZvcm1hdCwgSTE4bkQsIEkxOG5JbmplY3Rpb25LZXksIEkxOG5OLCBJMThuVCwgTnVtYmVyRm9ybWF0LCBUcmFuc2xhdGlvbiwgVkVSU0lPTiwgY2FzdFRvVnVlSTE4biwgY3JlYXRlSTE4biwgdXNlSTE4biwgdlREaXJlY3RpdmUgfTtcbiIsIi8vIFRoaXMgaXMganVzdCBhbiBleGFtcGxlLFxyXG4vLyBzbyB5b3UgY2FuIHNhZmVseSBkZWxldGUgYWxsIGRlZmF1bHQgcHJvcHMgYmVsb3dcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBmYWlsZWQ6ICdBY3Rpb24gZmFpbGVkJyxcclxuICBzdWNjZXNzOiAnQWN0aW9uIHdhcyBzdWNjZXNzZnVsJ1xyXG59XHJcbiIsImltcG9ydCBlblVTIGZyb20gJy4vZW4tVVMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgJ2VuLVVTJzogZW5VU1xyXG59XHJcbiIsImltcG9ydCB7IGJvb3QgfSBmcm9tICdxdWFzYXIvd3JhcHBlcnMnXHJcbmltcG9ydCB7IGNyZWF0ZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcclxuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJ3NyYy9pMThuJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYm9vdCgoeyBhcHAgfSkgPT4ge1xyXG4gIGNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHtcclxuICAgIGxvY2FsZTogJ2VuLVVTJyxcclxuICAgIGdsb2JhbEluamVjdGlvbjogdHJ1ZSxcclxuICAgIG1lc3NhZ2VzXHJcbiAgfSlcclxuXHJcbiAgLy8gU2V0IGkxOG4gaW5zdGFuY2Ugb24gYXBwXHJcbiAgYXBwLnVzZShpMThuKVxyXG59KVxyXG4iXSwibmFtZXMiOlsiaW5Ccm93c2VyIiwibWFrZVN5bWJvbCIsIm5hbWUiLCJzaGFyZWFibGUiLCJnZW5lcmF0ZUZvcm1hdENhY2hlS2V5IiwibG9jYWxlIiwia2V5Iiwic291cmNlIiwiZnJpZW5kbHlKU09Oc3RyaW5naWZ5IiwianNvbiIsImlzTnVtYmVyIiwidmFsIiwiaXNEYXRlIiwidG9UeXBlU3RyaW5nIiwiaXNSZWdFeHAiLCJpc0VtcHR5T2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsImFzc2lnbiIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsImVzY2FwZUh0bWwiLCJyYXdUZXh0IiwiaGFzT3duUHJvcGVydHkiLCJoYXNPd24iLCJvYmoiLCJpc0FycmF5IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiaXNCb29sZWFuIiwiaXNPYmplY3QiLCJpc1Byb21pc2UiLCJvYmplY3RUb1N0cmluZyIsInZhbHVlIiwicHJvdG8iLCJ0b0Rpc3BsYXlTdHJpbmciLCJqb2luIiwiaXRlbXMiLCJzZXBhcmF0b3IiLCJzdHIiLCJpdGVtIiwiaW5kZXgiLCJpbmNyZW1lbnRlciIsImNvZGUiLCJjdXJyZW50Iiwid2FybiIsIm1zZyIsImVyciIsImlzTm90T2JqZWN0T3JJc0FycmF5IiwiZGVlcENvcHkiLCJzcmMiLCJkZXMiLCJzdGFjayIsImNyZWF0ZVBvc2l0aW9uIiwibGluZSIsImNvbHVtbiIsIm9mZnNldCIsImNyZWF0ZUxvY2F0aW9uIiwic3RhcnQiLCJlbmQiLCJsb2MiLCJSRV9BUkdTIiwiZm9ybWF0IiwibWVzc2FnZSIsImFyZ3MiLCJtYXRjaCIsImlkZW50aWZpZXIiLCJDb21waWxlRXJyb3JDb2RlcyIsImVycm9yTWVzc2FnZXMiLCJjcmVhdGVDb21waWxlRXJyb3IiLCJvcHRpb25zIiwiZG9tYWluIiwibWVzc2FnZXMiLCJlcnJvciIsImRlZmF1bHRPbkVycm9yIiwiQ0hBUl9TUCIsIkNIQVJfQ1IiLCJDSEFSX0xGIiwiQ0hBUl9MUyIsIkNIQVJfUFMiLCJjcmVhdGVTY2FubmVyIiwiX2J1ZiIsIl9pbmRleCIsIl9saW5lIiwiX2NvbHVtbiIsIl9wZWVrT2Zmc2V0IiwiaXNDUkxGIiwiaXNMRiIsImlzUFMiLCJpc0xTIiwiaXNMaW5lRW5kIiwicGVla09mZnNldCIsImNoYXJBdCIsImN1cnJlbnRDaGFyIiwiY3VycmVudFBlZWsiLCJuZXh0IiwicGVlayIsInJlc2V0IiwicmVzZXRQZWVrIiwic2tpcFRvUGVlayIsInRhcmdldCIsIkVPRiIsIkRPVCIsIkxJVEVSQUxfREVMSU1JVEVSIiwiRVJST1JfRE9NQUlOJDMiLCJjcmVhdGVUb2tlbml6ZXIiLCJsb2NhdGlvbiIsIl9zY25yIiwiY3VycmVudE9mZnNldCIsImN1cnJlbnRQb3NpdGlvbiIsIl9pbml0TG9jIiwiX2luaXRPZmZzZXQiLCJfY29udGV4dCIsImNvbnRleHQiLCJvbkVycm9yIiwiZW1pdEVycm9yIiwicG9zIiwiY3R4IiwiZ2V0VG9rZW4iLCJ0eXBlIiwidG9rZW4iLCJnZXRFbmRUb2tlbiIsImVhdCIsInNjbnIiLCJjaCIsInBlZWtTcGFjZXMiLCJidWYiLCJza2lwU3BhY2VzIiwiaXNJZGVudGlmaWVyU3RhcnQiLCJjYyIsImlzTnVtYmVyU3RhcnQiLCJpc05hbWVkSWRlbnRpZmllclN0YXJ0IiwiY3VycmVudFR5cGUiLCJyZXQiLCJpc0xpc3RJZGVudGlmaWVyU3RhcnQiLCJpc0xpdGVyYWxTdGFydCIsImlzTGlua2VkRG90U3RhcnQiLCJpc0xpbmtlZE1vZGlmaWVyU3RhcnQiLCJpc0xpbmtlZERlbGltaXRlclN0YXJ0IiwiaXNMaW5rZWRSZWZlclN0YXJ0IiwiZm4iLCJpc1BsdXJhbFN0YXJ0IiwiZGV0ZWN0TW9kdWxvU3RhcnQiLCJzcGFjZXMiLCJpc1RleHRTdGFydCIsImhhc1NwYWNlIiwicHJldiIsImRldGVjdE1vZHVsbyIsInRha2VDaGFyIiwidGFrZUlkZW50aWZpZXJDaGFyIiwidGFrZURpZ2l0IiwidGFrZUhleERpZ2l0IiwiZ2V0RGlnaXRzIiwibnVtIiwicmVhZE1vZHVsbyIsInJlYWRUZXh0IiwicmVhZE5hbWVkSWRlbnRpZmllciIsInJlYWRMaXN0SWRlbnRpZmllciIsInJlYWRMaXRlcmFsIiwibGl0ZXJhbCIsIngiLCJyZWFkRXNjYXBlU2VxdWVuY2UiLCJyZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlIiwidW5pY29kZSIsImRpZ2l0cyIsInNlcXVlbmNlIiwiaSIsInJlYWRJbnZhbGlkSWRlbnRpZmllciIsImlkZW50aWZpZXJzIiwiY2xvc3VyZSIsInJlYWRMaW5rZWRNb2RpZmllciIsInJlYWRMaW5rZWRSZWZlciIsImRldGVjdCIsInJlYWRQbHVyYWwiLCJwbHVyYWwiLCJyZWFkVG9rZW5JblBsYWNlaG9sZGVyIiwicmVhZFRva2VuSW5MaW5rZWQiLCJ2YWxpZE5hbWVkSWRlbnRpZmllciIsInZhbGlkTGlzdElkZW50aWZpZXIiLCJ2YWxpZExpdGVyYWwiLCJyZWFkVG9rZW4iLCJpc01vZHVsbyIsIm5leHRUb2tlbiIsInN0YXJ0TG9jIiwiZW5kTG9jIiwiRVJST1JfRE9NQUlOJDIiLCJLTk9XTl9FU0NBUEVTIiwiZnJvbUVzY2FwZVNlcXVlbmNlIiwiY29kZVBvaW50NCIsImNvZGVQb2ludDYiLCJjb2RlUG9pbnQiLCJjcmVhdGVQYXJzZXIiLCJ0b2tlbnplciIsInN0YXJ0Tm9kZSIsIm5vZGUiLCJlbmROb2RlIiwicGFyc2VUZXh0IiwidG9rZW5pemVyIiwicGFyc2VMaXN0IiwicGFyc2VOYW1lZCIsInBhcnNlTGl0ZXJhbCIsInBhcnNlTGlua2VkTW9kaWZpZXIiLCJnZXRUb2tlbkNhcHRpb24iLCJwYXJzZUxpbmtlZEtleSIsInBhcnNlTGlua2VkIiwibGlua2VkTm9kZSIsInBhcnNlZCIsIm5leHRDb250ZXh0IiwiZW1wdHlMaW5rZWRLZXlOb2RlIiwicGFyc2VNZXNzYWdlIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJwYXJzZVBsdXJhbCIsIm1zZ05vZGUiLCJoYXNFbXB0eU1lc3NhZ2UiLCJwYXJzZVJlc291cmNlIiwicGFyc2UiLCJjcmVhdGVUcmFuc2Zvcm1lciIsImFzdCIsInRyYXZlcnNlTm9kZXMiLCJub2RlcyIsInRyYW5zZm9ybWVyIiwidHJhdmVyc2VOb2RlIiwidHJhbnNmb3JtIiwib3B0aW1pemUiLCJib2R5Iiwib3B0aW1pemVNZXNzYWdlTm9kZSIsImMiLCJ2YWx1ZXMiLCJFUlJPUl9ET01BSU4kMSIsIm1pbmlmeSIsInJlc291cmNlIiwiY2FzZXMiLCJ2YWx1ZU5vZGUiLCJsaW5rZWQiLCJsaXN0IiwibmFtZWQiLCJFUlJPUl9ET01BSU4iLCJjcmVhdGVDb2RlR2VuZXJhdG9yIiwic291cmNlTWFwIiwiZmlsZW5hbWUiLCJicmVha0xpbmVDb2RlIiwiX25lZWRJbmRlbnQiLCJwdXNoIiwiX25ld2xpbmUiLCJuIiwid2l0aEJyZWFrTGluZSIsIl9icmVha0xpbmVDb2RlIiwiaW5kZW50Iiwid2l0aE5ld0xpbmUiLCJsZXZlbCIsImRlaW5kZW50IiwibmV3bGluZSIsImdlbmVyYXRlTGlua2VkTm9kZSIsImdlbmVyYXRvciIsImhlbHBlciIsImdlbmVyYXRlTm9kZSIsImdlbmVyYXRlTWVzc2FnZU5vZGUiLCJuZWVkSW5kZW50IiwibGVuZ3RoIiwiZ2VuZXJhdGVQbHVyYWxOb2RlIiwiZ2VuZXJhdGVSZXNvdXJjZSIsImdlbmVyYXRlIiwibW9kZSIsImhlbHBlcnMiLCJzIiwibWFwIiwiYmFzZUNvbXBpbGUiLCJhc3NpZ25lZE9wdGlvbnMiLCJqaXQiLCJlbmFsYmVNaW5pZnkiLCJlbmFtYmVPcHRpbWl6ZSIsImluaXRGZWF0dXJlRmxhZ3MiLCJwYXRoU3RhdGVNYWNoaW5lIiwibGl0ZXJhbFZhbHVlUkUiLCJpc0xpdGVyYWwiLCJleHAiLCJzdHJpcFF1b3RlcyIsImEiLCJiIiwiZ2V0UGF0aENoYXJUeXBlIiwiZm9ybWF0U3ViUGF0aCIsInBhdGgiLCJ0cmltbWVkIiwia2V5cyIsInN1YlBhdGhEZXB0aCIsIm5ld0NoYXIiLCJ0cmFuc2l0aW9uIiwiYWN0aW9uIiwidHlwZU1hcCIsImFjdGlvbnMiLCJtYXliZVVuZXNjYXBlUXVvdGUiLCJuZXh0Q2hhciIsImNhY2hlIiwicmVzb2x2ZVdpdGhLZXlWYWx1ZSIsInJlc29sdmVWYWx1ZSIsImhpdCIsImxlbiIsImxhc3QiLCJERUZBVUxUX01PRElGSUVSIiwiREVGQVVMVF9NRVNTQUdFIiwiREVGQVVMVF9NRVNTQUdFX0RBVEFfVFlQRSIsIkRFRkFVTFRfTk9STUFMSVpFIiwiREVGQVVMVF9JTlRFUlBPTEFURSIsInBsdXJhbERlZmF1bHQiLCJjaG9pY2UiLCJjaG9pY2VzTGVuZ3RoIiwiZ2V0UGx1cmFsSW5kZXgiLCJub3JtYWxpemVOYW1lZCIsInBsdXJhbEluZGV4IiwicHJvcHMiLCJjcmVhdGVNZXNzYWdlQ29udGV4dCIsInBsdXJhbFJ1bGUiLCJvcmdQbHVyYWxSdWxlIiwiX2xpc3QiLCJfbmFtZWQiLCJfbW9kaWZpZXIiLCJub3JtYWxpemUiLCJpbnRlcnBvbGF0ZSIsImFyZzEiLCJhcmcyIiwibW9kaWZpZXIiLCJDb3JlV2FybkNvZGVzIiwiaW5jIiwiQ29yZUVycm9yQ29kZXMiLCJjcmVhdGVDb3JlRXJyb3IiLCJnZXRMb2NhbGUiLCJyZXNvbHZlTG9jYWxlIiwiX3Jlc29sdmVMb2NhbGUiLCJyZXNvbHZlIiwiZmFsbGJhY2tXaXRoU2ltcGxlIiwiZmFsbGJhY2siLCJmYWxsYmFja1dpdGhMb2NhbGVDaGFpbiIsInN0YXJ0TG9jYWxlIiwiREVGQVVMVF9MT0NBTEUiLCJjaGFpbiIsImJsb2NrIiwiYXBwZW5kQmxvY2tUb0NoYWluIiwiZGVmYXVsdHMiLCJibG9ja3MiLCJmb2xsb3ciLCJhcHBlbmRMb2NhbGVUb0NoYWluIiwidG9rZW5zIiwiYXBwZW5kSXRlbVRvQ2hhaW4iLCJWRVJTSU9OIiwiTk9UX1JFT1NMVkVEIiwiTUlTU0lOR19SRVNPTFZFX1ZBTFVFIiwiY2FwaXRhbGl6ZSIsImdldERlZmF1bHRMaW5rZWRNb2RpZmllcnMiLCJfY29tcGlsZXIiLCJyZWdpc3Rlck1lc3NhZ2VDb21waWxlciIsImNvbXBpbGVyIiwiX3Jlc29sdmVyIiwicmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIiLCJyZXNvbHZlciIsIl9mYWxsYmFja2VyIiwicmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyIiwiZmFsbGJhY2tlciIsIl9mYWxsYmFja0NvbnRleHQiLCJzZXRGYWxsYmFja0NvbnRleHQiLCJnZXRGYWxsYmFja0NvbnRleHQiLCJfY2lkIiwiY3JlYXRlQ29yZUNvbnRleHQiLCJvbldhcm4iLCJ2ZXJzaW9uIiwiX2xvY2FsZSIsImZhbGxiYWNrTG9jYWxlIiwiZGF0ZXRpbWVGb3JtYXRzIiwibnVtYmVyRm9ybWF0cyIsIm1vZGlmaWVycyIsInBsdXJhbFJ1bGVzIiwibWlzc2luZyIsIm1pc3NpbmdXYXJuIiwiZmFsbGJhY2tXYXJuIiwiZmFsbGJhY2tGb3JtYXQiLCJ1bnJlc29sdmluZyIsInBvc3RUcmFuc2xhdGlvbiIsInByb2Nlc3NvciIsIndhcm5IdG1sTWVzc2FnZSIsImVzY2FwZVBhcmFtZXRlciIsIm1lc3NhZ2VDb21waWxlciIsIm1lc3NhZ2VSZXNvbHZlciIsImxvY2FsZUZhbGxiYWNrZXIiLCJmYWxsYmFja0NvbnRleHQiLCJpbnRlcm5hbE9wdGlvbnMiLCJfX2RhdGV0aW1lRm9ybWF0dGVycyIsIl9fbnVtYmVyRm9ybWF0dGVycyIsIl9fbWV0YSIsImhhbmRsZU1pc3NpbmciLCJ1cGRhdGVGYWxsYmFja0xvY2FsZSIsImZvcm1hdFBhcnRzIiwiZm9ybWF0TWVzc2FnZVBhcnRzIiwiX3N0YXRpYyIsImFjbSIsImZvcm1hdE1lc3NhZ2VQYXJ0IiwidGV4dCIsImxpbmtlZEtleSIsImxpbmtlZE1vZGlmaWVyIiwiZGVmYXVsdE9uQ2FjaGVLZXkiLCJjb21waWxlQ2FjaGUiLCJpc01lc3NhZ2VBU1QiLCJkZXRlY3RFcnJvciIsImJhc2VDb21waWxlJDEiLCJjb21waWxlIiwiY2FjaGVLZXkiLCJjYWNoZWQiLCJOT09QX01FU1NBR0VfRlVOQ1RJT04iLCJpc01lc3NhZ2VGdW5jdGlvbiIsInRyYW5zbGF0ZSIsInBhcnNlVHJhbnNsYXRlQXJncyIsInJlc29sdmVkTWVzc2FnZSIsImRlZmF1bHRNc2dPcktleSIsImVuYWJsZURlZmF1bHRNc2ciLCJlc2NhcGVQYXJhbXMiLCJmb3JtYXRTY29wZSIsInRhcmdldExvY2FsZSIsInJlc29sdmVNZXNzYWdlRm9ybWF0IiwiY2FjaGVCYXNlS2V5Iiwib2NjdXJyZWQiLCJjb21waWxlTWVzc2FnZUZvcm1hdCIsImN0eE9wdGlvbnMiLCJnZXRNZXNzYWdlQ29udGV4dE9wdGlvbnMiLCJtc2dDb250ZXh0IiwibWVzc2FnZWQiLCJldmFsdWF0ZU1lc3NhZ2UiLCJsb2NhbGVzIiwibWlzc2luZ1JldCIsImdldENvbXBpbGVDb250ZXh0IiwibXNnQ3R4IiwiYXJnMyIsImRhdGV0aW1lIiwib3ZlcnJpZGVzIiwicGFyc2VEYXRlVGltZUFyZ3MiLCJwYXJ0IiwiZGF0ZXRpbWVGb3JtYXQiLCJpZCIsImZvcm1hdHRlciIsIkRBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMiLCJhcmc0IiwibWF0Y2hlcyIsImRhdGVUaW1lIiwiY2xlYXJEYXRlVGltZUZvcm1hdCIsIm51bWJlciIsInBhcnNlTnVtYmVyQXJncyIsIm51bWJlckZvcm1hdCIsIk5VTUJFUl9GT1JNQVRfT1BUSU9OU19LRVlTIiwiY2xlYXJOdW1iZXJGb3JtYXQiLCJjb2RlJDEiLCJpbmMkMSIsIkkxOG5FcnJvckNvZGVzIiwiY3JlYXRlSTE4bkVycm9yIiwiVHJhbnNsYXRlVk5vZGVTeW1ib2wiLCJEYXRldGltZVBhcnRzU3ltYm9sIiwiTnVtYmVyUGFydHNTeW1ib2wiLCJTZXRQbHVyYWxSdWxlc1N5bWJvbCIsIkluZWpjdFdpdGhPcHRpb25TeW1ib2wiLCJEaXNwb3NlU3ltYm9sIiwiaGFuZGxlRmxhdEpzb24iLCJzdWJLZXlzIiwibGFzdEluZGV4IiwiY3VycmVudE9iaiIsImhhc1N0cmluZ1ZhbHVlIiwiZ2V0TG9jYWxlTWVzc2FnZXMiLCJfX2kxOG4iLCJmbGF0SnNvbiIsImN1c3RvbSIsImdldENvbXBvbmVudE9wdGlvbnMiLCJpbnN0YW5jZSIsImFkanVzdEkxOG5SZXNvdXJjZXMiLCJnbCIsImNvbXBvbmVudE9wdGlvbnMiLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZVZOb2RlIiwiVGV4dCIsIk5PT1BfUkVUVVJOX0FSUkFZIiwiTk9PUF9SRVRVUk5fRkFMU0UiLCJjb21wb3NlcklEIiwiZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyIiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiY3JlYXRlQ29tcG9zZXIiLCJWdWVJMThuTGVnYWN5IiwiX19yb290IiwiX19pbmplY3RXaXRoT3B0aW9uIiwiX2lzR2xvYmFsIiwiX3JlZiIsInJlZiIsInNoYWxsb3dSZWYiLCJ0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUiLCJfaW5oZXJpdExvY2FsZSIsIl9mYWxsYmFja0xvY2FsZSIsIl9tZXNzYWdlcyIsIl9kYXRldGltZUZvcm1hdHMiLCJfbnVtYmVyRm9ybWF0cyIsIl9taXNzaW5nV2FybiIsIl9mYWxsYmFja1dhcm4iLCJfZmFsbGJhY2tSb290IiwiX2ZhbGxiYWNrRm9ybWF0IiwiX21pc3NpbmciLCJfcnVudGltZU1pc3NpbmciLCJfcG9zdFRyYW5zbGF0aW9uIiwiX3dhcm5IdG1sTWVzc2FnZSIsIl9lc2NhcGVQYXJhbWV0ZXIiLCJfbW9kaWZpZXJzIiwiX3BsdXJhbFJ1bGVzIiwidHJhY2tSZWFjdGl2aXR5VmFsdWVzIiwiY29tcHV0ZWQiLCJnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyIiwic2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlciIsImhhbmRsZXIiLCJnZXRNaXNzaW5nSGFuZGxlciIsInNldE1pc3NpbmdIYW5kbGVyIiwid3JhcFdpdGhEZXBzIiwiYXJndW1lbnRQYXJzZXIiLCJ3YXJuVHlwZSIsImZhbGxiYWNrU3VjY2VzcyIsImZhbGxiYWNrRmFpbCIsInN1Y2Nlc3NDb25kaXRpb24iLCJ0Iiwicm9vdCIsInJ0IiwiZCIsInRyYW5zbGF0ZVZOb2RlIiwibnVtYmVyUGFydHMiLCJkYXRldGltZVBhcnRzIiwic2V0UGx1cmFsUnVsZXMiLCJydWxlcyIsInRlIiwiZ2V0TG9jYWxlTWVzc2FnZSIsInJlc29sdmVkIiwicmVzb2x2ZU1lc3NhZ2VzIiwidGFyZ2V0TG9jYWxlTWVzc2FnZXMiLCJtZXNzYWdlVmFsdWUiLCJ0bSIsInNldExvY2FsZU1lc3NhZ2UiLCJfbWVzc2FnZSIsIm1lcmdlTG9jYWxlTWVzc2FnZSIsImdldERhdGVUaW1lRm9ybWF0Iiwic2V0RGF0ZVRpbWVGb3JtYXQiLCJtZXJnZURhdGVUaW1lRm9ybWF0IiwiZ2V0TnVtYmVyRm9ybWF0Iiwic2V0TnVtYmVyRm9ybWF0IiwibWVyZ2VOdW1iZXJGb3JtYXQiLCJ3YXRjaCIsImNvbXBvc2VyIiwiYmFzZUZvcm1hdFByb3BzIiwiZ2V0SW50ZXJwb2xhdGVBcmciLCJzbG90cyIsInNsb3QiLCJGcmFnbWVudCIsImFyZyIsImdldEZyYWdtZW50YWJsZVRhZyIsInRhZyIsIlRyYW5zbGF0aW9uSW1wbCIsImRlZmluZUNvbXBvbmVudCIsImF0dHJzIiwiaTE4biIsInVzZUkxOG4iLCJjaGlsZHJlbiIsImFzc2lnbmVkQXR0cnMiLCJoIiwiVHJhbnNsYXRpb24iLCJpc1ZOb2RlIiwicmVuZGVyRm9ybWF0dGVyIiwic2xvdEtleXMiLCJwYXJ0Rm9ybWF0dGVyIiwicHJvcCIsInBhcnRzIiwiTnVtYmVyRm9ybWF0SW1wbCIsIk51bWJlckZvcm1hdCIsIkRhdGV0aW1lRm9ybWF0SW1wbCIsIkRhdGV0aW1lRm9ybWF0IiwiZ2V0Q29tcG9zZXIkMiIsImkxOG5JbnRlcm5hbCIsInZ1ZUkxOG4iLCJ2VERpcmVjdGl2ZSIsIl9wcm9jZXNzIiwiYmluZGluZyIsInBhcnNlZFZhbHVlIiwicGFyc2VWYWx1ZSIsIm1ha2VQYXJhbXMiLCJlbCIsInRleHRDb250ZW50IiwiYXBwbHkiLCJhcHAiLCJwbHVnaW5PcHRpb25zIiwidXNlSTE4bkNvbXBvbmVudE5hbWUiLCJJMThuSW5qZWN0aW9uS2V5IiwiY3JlYXRlSTE4biIsIl9fZ2xvYmFsSW5qZWN0aW9uIiwiX19hbGxvd0NvbXBvc2l0aW9uIiwiX19pbnN0YW5jZXMiLCJnbG9iYWxTY29wZSIsIl9fZ2xvYmFsIiwiY3JlYXRlR2xvYmFsIiwic3ltYm9sIiwiX19nZXRJbnN0YW5jZSIsImNvbXBvbmVudCIsIl9fc2V0SW5zdGFuY2UiLCJfX2RlbGV0ZUluc3RhbmNlIiwib3B0cyIsImdsb2JhbFJlbGVhc2VIYW5kbGVyIiwiaW5qZWN0R2xvYmFsRmllbGRzIiwidW5tb3VudEFwcCIsImdldEkxOG5JbnN0YW5jZSIsImdldEdsb2JhbENvbXBvc2VyIiwic2NvcGUiLCJnZXRTY29wZSIsImdldENvbXBvc2VyIiwiY29tcG9zZXJPcHRpb25zIiwic2V0dXBMaWZlQ3ljbGUiLCJsZWdhY3lNb2RlIiwiZWZmZWN0U2NvcGUiLCJpbmplY3QiLCJ1c2VDb21wb25lbnQiLCJnZXRQYXJlbnRDb21wb25lbnRJbnN0YW5jZSIsIm9uTW91bnRlZCIsIm9uVW5tb3VudGVkIiwiX2NvbXBvc2VyIiwiZGlzcG9zZSIsImdsb2JhbEV4cG9ydFByb3BzIiwiZ2xvYmFsRXhwb3J0TWV0aG9kcyIsImRlc2MiLCJ3cmFwIiwiaXNSZWYiLCJtZXRob2QiLCJlblVTIiwiYm9vdCJdLCJtYXBwaW5ncyI6ImlLQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFTQSxNQUFNQSxHQUFZLE9BQU8sUUFBVyxZQWtDOUJDLEdBQWEsQ0FBQ0MsRUFBTUMsRUFBWSxLQUFXQSxFQUEyQixPQUFPLElBQUlELENBQUksRUFBOUIsT0FBT0EsQ0FBSSxFQUNsRUUsR0FBeUIsQ0FBQ0MsRUFBUUMsRUFBS0MsSUFBV0MsR0FBc0IsQ0FBRSxFQUFHSCxFQUFRLEVBQUdDLEVBQUssRUFBR0MsQ0FBUSxDQUFBLEVBQ3hHQyxHQUF5QkMsR0FBUyxLQUFLLFVBQVVBLENBQUksRUFDdEQsUUFBUSxVQUFXLFNBQVMsRUFDNUIsUUFBUSxVQUFXLFNBQVMsRUFDNUIsUUFBUSxVQUFXLFNBQVMsRUFDM0JDLEVBQVlDLEdBQVEsT0FBT0EsR0FBUSxVQUFZLFNBQVNBLENBQUcsRUFDM0RDLEdBQVVELEdBQVFFLEdBQWFGLENBQUcsSUFBTSxnQkFDeENHLEdBQVlILEdBQVFFLEdBQWFGLENBQUcsSUFBTSxrQkFDMUNJLEdBQWlCSixHQUFRSyxFQUFjTCxDQUFHLEdBQUssT0FBTyxLQUFLQSxDQUFHLEVBQUUsU0FBVyxFQUMzRU0sRUFBUyxPQUFPLE9BQ3RCLElBQUlDLEdBQ0osTUFBTUMsR0FBZ0IsSUFFVkQsS0FDSEEsR0FDRyxPQUFPLFlBQWUsWUFDaEIs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
